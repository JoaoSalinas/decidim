/*! For license information please see decidim_elections-e44e3f81c4f9eba6f999.js.LICENSE.txt */
!function(){var t,e,r={23439:function(t,e,r){var n={"./decidim/elections/decidim_elections.svg":97540,"./decidim/votings/decidim_votings.svg":63400};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=23439},3756:function(t,e,r){"use strict";r.d(e,{K:function(){return s}});var n=r(96776);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiClient=new n.l(e)}var e,r,i;return e=t,r=[{key:"getLogEntry",value:function(t){var e=t.electionUniqueId,r=t.contentHash;return this.apiClient.getLogEntry({electionUniqueId:e,contentHash:r})}},{key:"getElectionLogEntries",value:function(t){return this.apiClient.getElectionLogEntries(t)}},{key:"processKeyCeremonyStep",value:function(t){return this.apiClient.processKeyCeremonyStep(t)}},{key:"processTallyStep",value:function(t){return this.apiClient.processTallyStep(t)}},{key:"waitForPendingMessageToBeProcessed",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new Promise((function(n){var i=setInterval((function(){e.apiClient.getPendingMessageByMessageId({messageId:t}).then((function(t){"enqueued"!==t.status&&(clearInterval(i),n(t))}))}),r)}))}}],r&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},96776:function(t,e,r){"use strict";r.d(e,{l:function(){return S}});var n=r(22232),i=r(56132),o=r(72640),a=r(23086),s=r.n(a),u=r(40693),c=r.n(u),f=r(69283),l=r.n(f),h=r(67172),p=r.n(h),d=r(60182),y=r.n(d);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(){g=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",m={};function b(){}function w(){}function E(){}var S={};c(S,a,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,a)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(v(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=c(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c(t,u,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function m(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){m(o,n,i,a,s,"next",t)}function s(t){m(o,n,i,a,s,"throw",t)}a(void 0)}))}}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:String(e)}var S=function(){function t(e){var r=e.apiEndpointUrl,a=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=new n.P({uri:r,headers:a});this.apolloClient=new i.R({link:s,cache:new o.D})}var e,r,a,u,f,h,d,v;return e=t,r=[{key:"getLogEntry",value:(v=b(g().mark((function t(e){var r,n,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.electionUniqueId,n=e.contentHash,t.next=3,this.apolloClient.query({query:p(),variables:{electionUniqueId:r,contentHash:n}});case 3:return i=t.sent,t.abrupt("return",i.data.logEntry);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"getElectionLogEntries",value:(d=b(g().mark((function t(e){var r,n,i,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.electionUniqueId,n=e.after,i=e.types,t.next=3,this.apolloClient.query({query:s(),variables:{electionUniqueId:r,after:n,types:i},fetchPolicy:"no-cache"});case 3:return o=t.sent,t.abrupt("return",o.data.election.logEntries);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"processKeyCeremonyStep",value:(h=b(g().mark((function t(e){var r,n,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,n=e.signedData,t.next=3,this.apolloClient.mutate({mutation:c(),variables:{messageId:r,signedData:n}});case 3:if(!(i=t.sent).data.processKeyCeremonyStep.error){t.next=6;break}throw new Error(i.data.processKeyCeremonyStep.error);case 6:return t.abrupt("return",i.data.processKeyCeremonyStep.pendingMessage);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"getPendingMessageByMessageId",value:(f=b(g().mark((function t(e){var r,n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,t.next=3,this.apolloClient.query({query:y(),variables:{messageId:r}});case 3:return n=t.sent,t.abrupt("return",n.data.pendingMessage);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"processTallyStep",value:(u=b(g().mark((function t(e){var r,n,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,n=e.signedData,t.next=3,this.apolloClient.mutate({mutation:l(),variables:{messageId:r,signedData:n}});case 3:if(!(i=t.sent).data.processTallyStep.error){t.next=6;break}throw new Error(i.data.processTallyStep.error);case 6:return t.abrupt("return",i.data.processTallyStep.pendingMessage);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}],r&&w(e.prototype,r),a&&w(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},37782:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{$y:function(){return h},QL:function(){return f},gc:function(){return c},z4:function(){return u}});var u="a",c="b",f="t",l=[u,c,"v",f],h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"parse",value:function(t){var e=i(t.split("+"),2),r=e[0],n=e[1],o=i(r.split(".",4),4),a=o[0],s=o[1],u=o[2],c=o[3],f=i(n.split(".",2),2),h=f[0],p=f[1],d=c?".".concat(c):"";if(!l.includes(h))throw new Error("Invalid message identifier format");return{electionId:"".concat(a,".").concat(s),type:u,subtype:c,typeSubtype:"".concat(u).concat(d),author:{type:h,id:p}}}},{key:"format",value:function(t,e,r,n){return"".concat(t,".").concat(e,"+").concat(r,".").concat(n)}}],(r=null)&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},54802:function(t,e,r){"use strict";r.d(e,{N:function(){return y}});var n=r(58956),i=r(37782),o=r(30398);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,s,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,s)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==a(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,u,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,c,"Generator"),l(T,s,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))}}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}var y=function(){function t(e){var r=e.authorityPublicKeyJSON;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.authorityPublicKeyJSON=r,this.authorityPublicKey=n.JWK.asKey(r,"json"),this.keys=null}var e,r,a,u,l;return e=t,r=[{key:"parse",value:(l=h(f().mark((function t(e){var r,o,a,s,u,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,o=e.signedData,a=i.$y.parse(r),t.next=4,this.keys?this.keys[a.author.type][a.author.id]:this.authorityPublicKey;case 4:if(s=t.sent,o){t.next=7;break}return t.abrupt("return",{messageIdentifier:a,decodedData:null});case 7:return t.next=9,n.JWS.createVerify(s).verify(o,{algorithms:["RS256"]});case 9:if(u=t.sent,c=JSON.parse(new TextDecoder("utf-8").decode(u.payload)),this.keys){t.next=15;break}return t.next=14,this.parseCreateElection(c);case 14:this.keys=t.sent;case 15:return t.abrupt("return",{messageIdentifier:a,decodedData:c});case 16:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"parseCreateElection",value:(u=h(f().mark((function t(e){var r,n,a,u,l,h,p,d,y=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.authority,n=e.bulletin_board,a=e.trustees,(0,o.S)(r.public_key,this.authorityPublicKeyJSON)){t.next=3;break}throw new Error("The authority public key doesn't match the election's authority public key.");case 3:u=c(c(c({},i.z4,c({},r.slug,this.authorityPublicKey)),i.gc,{}),i.QL,{}),(l=[]).push(this.loadKey(n).then((function(t){u[i.gc][n.slug]=t}))),h=s(a),t.prev=7,d=f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=p.value,l.push(y.loadKey(e).then((function(t){u[i.QL][e.slug]=t})));case 2:case"end":return t.stop()}}),t)})),h.s();case 10:if((p=h.n()).done){t.next=14;break}return t.delegateYield(d(),"t0",12);case 12:t.next=10;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(7),h.e(t.t1);case 19:return t.prev=19,h.f(),t.finish(19);case 22:return t.next=24,Promise.all(l);case 24:return t.abrupt("return",u);case 25:case"end":return t.stop()}}),t,this,[[7,16,19,22]])}))),function(t){return u.apply(this,arguments)})},{key:"loadKey",value:function(t){return n.JWK.asKey(t.public_key,"json")}}],r&&p(e.prototype,r),a&&p(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},86268:function(t,e,r){"use strict";r.d(e,{O:function(){return l}});var n=r(37782);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new N(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==i(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var l=function(){function t(e){var r=e.uniqueId,n=e.bulletinBoardClient,i=e.typesFilter,o=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uniqueId=r,this.bulletinBoardClient=n,this.logEntries=[],this.typesFilter=i,this.subscriptionId=null,this.options=o||{waitUntilNextCheck:2e3}}var e,r,i,a,f;return e=t,r=[{key:"subscribeToLogEntriesChanges",value:(a=s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.unsubscribeToLogEntriesChanges(),t.next=3,this.getLogEntries();case 3:this.subscriptionId=setInterval((function(){e.getLogEntries()}),this.options.waitUntilNextCheck);case 4:case"end":return t.stop()}}),t,this)})),f=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=a.apply(t,e);function o(t){u(i,r,n,o,s,"next",t)}function s(t){u(i,r,n,o,s,"throw",t)}o(void 0)}))},function(){return f.apply(this,arguments)})},{key:"unsubscribeToLogEntriesChanges",value:function(){null!==this.subscriptionId&&(clearInterval(this.subscriptionId),this.subscriptionId=null)}},{key:"getLastMessageFromTrustee",value:function(t){for(var e=this.logEntries.length-1;e>=0;e--){var r=this.logEntries[e],i=n.$y.parse(r.messageId);if(i.author.type===n.QL&&i.author.id===t)return r}return null}},{key:"getLogEntries",value:function(){var t=this,e=this.logEntries[this.logEntries.length-1],r=e&&e.id||null;return new Promise((function(e){t.bulletinBoardClient.getElectionLogEntries({electionUniqueId:t.uniqueId,after:r,types:t.typesFilter}).then((function(r){r.length&&(t.logEntries=[].concat(o(t.logEntries),o(r))),e()}))}))}}],r&&c(e.prototype,r),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},55619:function(t,e,r){"use strict";r.d(e,{$y:function(){return o.$y},Kj:function(){return n.K},Nt:function(){return i.N},WO:function(){return f.W},iO:function(){return c.i},lH:function(){return u.l},r0:function(){return s.r},wc:function(){return a.wc}});var n=r(3756),i=(r(86268),r(51484),r(74916),r(54802)),o=r(37782),a=r(56944),s=r(94367),u=r(1287),c=r(26309),f=r(98423)},1287:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&o.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==n(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function o(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,u,"next",t)}function u(t){o(a,n,i,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function c(t,e,r){return e=l(e),function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}r.d(e,{l:function(){return p}});var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var r,n,o,u;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,n=[{key:"setupElection",value:function(t){var e=t.bulletinBoardClientParams,r=t.electionUniqueId,n=t.authorizationExpirationTimestamp;return this.setupElectionWithTypesFilter({electionUniqueId:r,bulletinBoardClientParams:e,authorizationExpirationTimestamp:n,typesFilter:["create_election","start_key_ceremony","key_ceremony","end_key_ceremony"]})}},{key:"bindEvents",value:(u=a(i().mark((function t(e){var r,n,o,s,u,c,f,l,h,p,d,y=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onEvent,n=e.onBindRestoreButton,o=e.onBindStartButton,s=e.onRestore,u=e.onComplete,c=e.onStart,f=e.onTrusteeNeedsToBeRestored,l=e.onBackupNeeded,h=e.onBindBackupButton,p=e.onBackupStarted,t.next=3,this.trustee.setup();case 3:d=t.sent,this.trustee.events.subscribe(r),o(function(){var t=a(i().mark((function t(e){var r,n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(),e.preventDefault(),t.next=4,d;case 4:return t.next=6,y.trustee.needsToBeRestored();case 6:if(!t.sent){t.next=10;break}f(),t.next=17;break;case 10:return r=y.trustee.setupKeyCeremony(),t.next=13,r.next();case 13:n=t.sent,o=n.value,l(),h(o,"".concat(y.trustee.uniqueId,"-election-").concat(y.trustee.election.uniqueId,".bak"),a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(),t.next=3,r.next();case 3:return t.next=5,y.trustee.runKeyCeremony();case 5:u();case 6:case"end":return t.stop()}}),t)}))));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n(function(){var t=a(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d;case 2:r=e.target.files[0],(n=new FileReader).onload=function(){var t=a(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.target,n=r.result,t.next=4,y.trustee.restore(n);case 4:if(!t.sent){t.next=9;break}return s(),t.next=8,y.trustee.runKeyCeremony();case 8:u();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.readAsText(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}],n&&s(r.prototype,n),o&&s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(r(73017).q)},26309:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&o.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==n(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function o(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,u,"next",t)}function u(t){o(a,n,i,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function c(t,e,r){return e=l(e),function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}r.d(e,{i:function(){return p}});var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var r,n,o,u;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,n=[{key:"setupElection",value:function(t){var e=t.bulletinBoardClientParams,r=t.electionUniqueId,n=t.authorizationExpirationTimestamp;return this.setupElectionWithTypesFilter({electionUniqueId:r,bulletinBoardClientParams:e,authorizationExpirationTimestamp:n,typesFilter:["create_election","start_key_ceremony","key_ceremony","end_key_ceremony","start_tally","tally","end_tally"]})}},{key:"bindEvents",value:(u=a(i().mark((function t(e){var r,n,o,s,u,c,f,l,h=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.onEvent,n=e.onBindRestoreButton,o=e.onBindStartButton,s=e.onRestore,u=e.onComplete,c=e.onStart,f=e.onTrusteeNeedsToBeRestored,l=this.trustee.setup(),this.trustee.events.subscribe(r),o(function(){var t=a(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(),e.preventDefault(),t.next=4,l;case 4:return t.next=6,h.trustee.needsToBeRestored();case 6:if(!t.sent){t.next=10;break}f(),t.next=13;break;case 10:return t.next=12,h.trustee.runTally();case 12:u();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n(function(){var t=a(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l;case 2:r=e.target.files[0],(n=new FileReader).onload=function(){var t=a(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.target,n=r.result,t.next=4,h.trustee.restore(n);case 4:if(!t.sent){t.next=9;break}return s(),t.next=8,h.trustee.runTally();case 8:u();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.readAsText(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}],n&&s(r.prototype,n),o&&s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(r(73017).q)},56944:function(t,e,r){"use strict";r.d(e,{EU:function(){return F},wc:function(){return R}});var n=r(80624);function i(t){return"function"===typeof t}var o=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function s(t){setTimeout((function(){throw t}),0)}var u={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var l=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this,o=n._parentOrParents,a=n._ctorUnsubscribe,s=n._unsubscribe,u=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof t)o.remove(this);else if(null!==o)for(var h=0;h<o.length;++h){o[h].remove(this)}if(i(s)){a&&(this._unsubscribe=void 0);try{s.call(this)}catch(v){e=v instanceof l?d(v.errors):[v]}}if(c(u)){h=-1;for(var p=u.length;++h<p;){var y=u[h];if(null!==(r=y)&&"object"===f(r))try{y.unsubscribe()}catch(v){e=e||[],v instanceof l?e=e.concat(d(v.errors)):e.push(v)}}}if(e)throw new l(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(h(e)){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!==typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof l?e.errors:e)}),[])}var y=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}var g=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=u;break;case 1:if(!r){o.destination=u;break}if("object"===v(r)){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new m(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new m(o,r,n,i)}return o}return n.C6(e,t),e.prototype[y]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),m=function(t){function e(e,r,n,o){var a,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return i(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==u&&(i((c=Object.create(r)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=n,s._complete=o,s}return n.C6(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;s(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw r;s(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(s(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(g);var b=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function w(t){return t}function E(t){return 0===t.length?w:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof g)return t;if(t[y])return t[y]()}return t||e||r?new g(t,e,r):new g(u)}(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof g?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=C(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(r){n(r),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:E(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=C(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function C(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var _=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),T=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n.C6(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(p),k=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n.C6(e,t),e}(g),A=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.C6(e,t),e.prototype[y]=function(){return new k(this)},e.prototype.lift=function(t){var e=new I(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new _;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new _;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new _;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new T(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,e){return new I(t,e)},e}(S),I=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n.C6(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):p.EMPTY},e}(A);function B(){}var x=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.nextOrObserver,this.error,this.complete))},t}(),O=function(t){function e(e,r,n,o){var a=t.call(this,e)||this;return a._tapNext=B,a._tapError=B,a._tapComplete=B,a._tapError=n||B,a._tapComplete=o||B,i(r)?(a._context=a,a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||B,a._tapError=r.error||B,a._tapComplete=r.complete||B),a}return n.C6(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(g);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function L(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:String(e)}var R="[Message] Received",F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events=new A}var e,r,n;return e=t,(r=[{key:"subscribe",value:function(t){return this.events.pipe((e=t,function(t){return t.lift(new x(e,r,n))})).subscribe();var e,r,n}},{key:"broadcastMessageReceived",value:function(t){this.events.next({type:R,message:t})}},{key:"broadcastMessageProcessed",value:function(t,e){this.events.next({type:"[Message] Processed",message:t,result:e})}}])&&P(e.prototype,r),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},94367:function(t,e,r){"use strict";r.d(e,{r:function(){return f}});var n=r(30398);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==i(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function a(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){a(o,n,i,s,u,"next",t)}function u(t){a(o,n,i,s,u,"throw",t)}s(void 0)}))}}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var f=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.format="jwk",this.algorithm={name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},this.usages=["sign"],this.publicKeyAttrs=["alg","e","kty","n"],this.jwtHeader=this._encode64(JSON.stringify({alg:"RS256",typ:"JWT"})),this.trusteeUniqueId=e,this.privateKey=null,this.publicKey=null,this.storedPublicKey=JSON.parse(r||null),this.keyIdentifier="".concat(e,"-private-key"),this.browserSupport=this._checkBrowserSupport(),this.textEncoder=new TextEncoder("utf-8"),this.dbName="identification_keys",this.dbVersion=1,this.presentPromise=this._read()}var e,r,i,a,c,f,l,h,p,d;return e=t,r=[{key:"present",value:function(t){var e=this;this.presentPromise.then((function(){e._matchesStoredPublicKey(e.publicKey)?t(e.browserSupport&&null!==e.privateKey):e.reset().then(t(!1))}))}},{key:"generate",value:(d=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browserSupport&&!this.storedPublicKey){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",new Promise((function(t,r){try{return e.crypto.subtle.generateKey(e.algorithm,!0,e.usages).then((function(r){return e.crypto.subtle.exportKey(e.format,r.privateKey).then((function(r){e.publicKey=e._publicKeyFromPrivateKey(r);var n=document.createElement("a");return n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(r)))),n.setAttribute("download","".concat(e.keyIdentifier,".jwk")),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),t()})).catch(e._handleErrors)}))}catch(n){return r(n)}})));case 3:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"upload",value:(p=s(o().mark((function t(e){var r=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browserSupport&&null===this.privateKey){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",new Promise((function(t,n){if(e)r.onUploadInputChange(e,t,n);else{var i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept",".jwk"),i.style.display="none",document.body.appendChild(i),i.addEventListener("change",(function(e){document.body.removeChild(i),r.onUploadInputChange(e,t,n)})),i.click()}})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"onUploadInputChange",value:function(t,e,r){var n=this,i=new FileReader;i.readAsText(t.target.files[0]),i.onload=function(t){var i="";try{i=JSON.parse(t.target.result)}catch(o){return r("invalid_format")}return n.crypto.subtle.importKey(n.format,i,n.algorithm,!1,n.usages).then((function(t){var o=n._publicKeyFromPrivateKey(i);n._matchesStoredPublicKey(o)?(n.publicKey=o,n.privateKey=t,n._save().then((function(){return e(!0)})).catch((function(){r("could not be saved")}))):r("invalid_public_key")})).catch((function(){r("invalid_key")}))}}},{key:"reset",value:function(){return this.privateKey=this.publicKey=null,this._clear()}},{key:"sign",value:(h=s(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browserSupport&&null!==this.privateKey){t.next=2;break}return t.abrupt("return",!1);case 2:return r="".concat(this.jwtHeader,".").concat(this._encode64(JSON.stringify(e))),t.next=5,this.crypto.subtle.sign(this.algorithm,this.privateKey,this.textEncoder.encode(r));case 5:return n=t.sent,t.abrupt("return","".concat(r,".").concat(btoa(Reflect.apply(String.fromCharCode,null,new Uint8Array(n))).replace(/[=]/g,"").replace(/\+/g,"-").replace(/\//g,"_")));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"_checkBrowserSupport",value:function(){return this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.crypto=window.crypto||window.msCrypto,window.indexedDB&&window.crypto}},{key:"_handleErrors",value:function(t){throw t}},{key:"_publicKeyFromPrivateKey",value:function(t){var e=this;return Object.keys(t).filter((function(t){return e.publicKeyAttrs.includes(t)})).reduce((function(e,r){return e[r]=t[r],e}),{})}},{key:"_matchesStoredPublicKey",value:function(t){return(0,n.S)(t,this.storedPublicKey)}},{key:"_encode64",value:function(t){return btoa(unescape(encodeURIComponent(t))).replace(/[=]/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},{key:"_read",value:(l=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._useDb("readonly",(function(t){t.get(e.keyIdentifier).onsuccess=function(t){t.target.result&&(e.privateKey=t.target.result.privateKey,e.publicKey=t.target.result.publicKey)}})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_save",value:(f=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._useDb("readwrite",(function(t){t.add({privateKey:e.privateKey,publicKey:e.publicKey},e.keyIdentifier)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"_clear",value:(c=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._useDb("readwrite",(function(t){t.delete(e.keyIdentifier)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"_useDb",value:(a=s(o().mark((function t(e,r){var n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var o=null,a=n.indexedDB.open(n.dbName,n.dbVersion);a.onerror=function(t){o=null,i(t)},a.onupgradeneeded=function(){(o=a.result).createObjectStore("IdentificationKeys")},a.onsuccess=function(){var n=(o=a.result).transaction(["IdentificationKeys"],e);r(n.objectStore("IdentificationKeys")),n.oncomplete=function(){o.close(),t()}}})));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return a.apply(this,arguments)})}],r&&u(e.prototype,r),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},73017:function(t,e,r){"use strict";r.d(e,{q:function(){return g}});var n=r(51484),i=r(3756),o=r(86268);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};f(S,s,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,s)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==a(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),f(A.prototype,u,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),f(T,c,"Generator"),f(T,s,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function p(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){p(o,n,i,a,s,"next",t)}function s(t){p(o,n,i,a,s,"throw",t)}a(void 0)}))}}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}var g=function(){function t(e){var r=e.authorityPublicKeyJSON,i=e.trusteeUniqueId,o=e.trusteeIdentificationKeys,a=e.trusteeWrapperAdapter;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trustee=new n.$({uniqueId:i,authorityPublicKeyJSON:r,identificationKeys:o,wrapperAdapter:a})}var e,r,a,s,c,l;return e=t,r=[{key:"setupElection",value:(l=d(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("not implemented");case 1:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"setupElectionWithTypesFilter",value:(c=d(h().mark((function t(e){var r,n,a,s,c,l,p,d,y,v,g;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.bulletinBoardClientParams,n=e.electionUniqueId,a=e.authorizationExpirationTimestamp,s=e.typesFilter,c=n.split("."),l=f(c,1),p=l[0],d="".concat(p,".").concat(this.trustee.uniqueId),t.next=5,this.trustee.signMessage({trustee_unique_id:d,exp:a});case 5:y=t.sent,v=new i.K(u(u({},r),{},{headers:{Authorization:y,TrusteeUniqueId:d}})),g=new o.O({uniqueId:n,bulletinBoardClient:v,typesFilter:s}),this.trustee.election=g;case 9:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"bindEvents",value:(s=d(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("not implemented");case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})}],r&&y(e.prototype,r),a&&y(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},51484:function(t,e,r){"use strict";r.d(e,{$:function(){return g}});var n=r(56944),i=r(54802),o=r(37782);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(){c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,s,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,s)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==a(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,u,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,s,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function f(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,s,"next",t)}function s(t){f(o,n,i,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}function d(t){return new v(t,0)}function y(t){var e,r;function n(e,r){try{var o=t[e](r),a=o.value,s=a instanceof v;Promise.resolve(s?a.v:a).then((function(r){if(s){var u="return"===e?"return":"next";if(!a.k||r.done)return n(u,r);r=t[u](r).value}i(o.done?"return":"normal",r)}),(function(t){n("throw",t)}))}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?n(e.key,e.arg):r=null}this._invoke=function(t,i){return new Promise((function(o,a){var s={key:t,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(e=r=s,n(t,i))}))},"function"!=typeof t.return&&(this.return=void 0)}function v(t,e){this.v=t,this.k=e}y.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y.prototype.next=function(t){return this._invoke("next",t)},y.prototype.throw=function(t){return this._invoke("throw",t)},y.prototype.return=function(t){return this._invoke("return",t)};var g=function(){function t(e){var r=e.uniqueId,o=e.authorityPublicKeyJSON,a=e.identificationKeys,s=e.wrapperAdapter,u=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uniqueId=r,this.identificationKeys=a,this.election=null,this.options=u||{waitUntilNextCheck:100},this.wrapperAdapter=s,this.parser=new i.N({authorityPublicKeyJSON:o}),this.events=new n.EU,this.nextLogEntryIndexToProcess=0,this.lastMessageProcessedWithResult=null,this.hasSetupKeyCeremony=!1}var e,r,a,f,p,v,g,m,b,w,E,S;return e=t,r=[{key:"setup",value:(S=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.election){t.next=2;break}throw new Error("election is not set.");case 2:return t.next=4,this.wrapperAdapter.setup();case 4:return t.abrupt("return",this.election.subscribeToLogEntriesChanges());case 5:case"end":return t.stop()}}),t,this)}))),function(){return S.apply(this,arguments)})},{key:"tearDown",value:function(){this.election.unsubscribeToLogEntriesChanges()}},{key:"setupKeyCeremony",value:function(){var t,e=this;return(t=c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=6;break}return t.next=3,d(e.waitForNextLogEntryResult());case 3:r=t.sent,t.next=0;break;case 6:return t.next=8,d(e.wrapperAdapter.backup());case 8:return t.next=10,t.sent;case 10:return t.next=12,d(e.processKeyCeremonyStep(r));case 12:return e.hasSetupKeyCeremony=!0,t.abrupt("return",e.hasSetupKeyCeremony);case 14:case"end":return t.stop()}}),t)})),function(){return new y(t.apply(this,arguments))})()}},{key:"runKeyCeremony",value:(E=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasSetupKeyCeremony){t.next=2;break}throw new Error("The key ceremony has not been setup yet");case 2:return t.next=4,this.needsToBeRestored();case 4:if(!t.sent){t.next=6;break}throw new Error("You need to restore the wrapper state to continue");case 6:return t.abrupt("return",this.waitForNextLogEntryResult().then(function(){var t=l(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.processKeyCeremonyStep(r);case 2:return t.next=4,e.wrapperAdapter.isKeyCeremonyDone();case 4:if(!t.sent){t.next=6;break}return t.abrupt("return",e.tearDown());case 6:return t.abrupt("return",e.runKeyCeremony());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"runTally",value:(w=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.needsToBeRestored();case 2:if(!t.sent){t.next=4;break}throw new Error("You need to restore the wrapper state to continue");case 4:return t.abrupt("return",this.waitForNextLogEntryResult().then(function(){var t=l(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.processTallyStep(r);case 2:return t.next=4,e.wrapperAdapter.isTallyDone();case 4:if(!t.sent){t.next=6;break}return t.abrupt("return",e.tearDown());case 6:return t.abrupt("return",e.runTally());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"needsToBeRestored",value:(b=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.election.getLastMessageFromTrustee(this.uniqueId),t.t0=e,!t.t0){t.next=6;break}return t.next=5,this.wrapperAdapter.isFresh();case 5:t.t0=t.sent;case 6:return t.abrupt("return",t.t0);case 7:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"restore",value:(m=l(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.election.getLastMessageFromTrustee(this.uniqueId),t.t0=r,!t.t0){t.next=6;break}return t.next=5,this.wrapperAdapter.restore(e);case 5:t.t0=t.sent;case 6:return this.hasSetupKeyCeremony=t.t0,t.abrupt("return",this.hasSetupKeyCeremony);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"waitForNextLogEntryResult",value:(g=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var r=setInterval(l(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.election.logEntries.length>e.nextLogEntryIndexToProcess&&(clearInterval(r),t());case 2:case"end":return n.stop()}}),n)}))),e.options.waitUntilNextCheck)}));case 2:return t.abrupt("return",this.processNextLogEntry());case 3:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"processNextLogEntry",value:(v=l(c().mark((function t(){var e,r,n,i,a,s,u,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.election.logEntries,r=e[this.nextLogEntryIndexToProcess],this.events.broadcastMessageReceived(r),t.next=5,this.parser.parse(r);case 5:return n=t.sent,i=n.messageIdentifier,a=n.decodedData,t.next=10,this.wrapperAdapter.processMessage(i.typeSubtype,a);case 10:if(s=t.sent,this.events.broadcastMessageProcessed(r,s),this.nextLogEntryIndexToProcess+=1,!s){t.next=16;break}return u=s.messageType,f=s.content,t.abrupt("return",{message_id:o.$y.format(this.election.uniqueId,u,o.QL,this.uniqueId),content:f});case 16:return t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"processKeyCeremonyStep",value:(p=l(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||this.isMessageAlreadyLogged(e)){t.next=5;break}return t.next=3,this.signMessage(e);case 3:return r=t.sent,t.abrupt("return",this.election.bulletinBoardClient.processKeyCeremonyStep({messageId:e.message_id,signedData:r}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"processTallyStep",value:(f=l(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||this.isMessageAlreadyLogged(e)){t.next=5;break}return t.next=3,this.signMessage(e);case 3:return r=t.sent,t.abrupt("return",this.election.bulletinBoardClient.processTallyStep({messageId:e.message_id,signedData:r}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"isMessageAlreadyLogged",value:function(t){var e=t.message_id;return this.election.logEntries.find((function(t){return t.messageId===e}))}},{key:"signMessage",value:function(t){return this.identificationKeys.sign(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({iat:Math.floor(new Date/1e3)},t))}}],r&&h(e.prototype,r),a&&h(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},30398:function(t,e,r){"use strict";function n(t,e){var r="string"===typeof t?JSON.parse(t):t,n="string"===typeof e?JSON.parse(e):e;if(r&&n){var i=r.n,o=r.e,a=r.kty,s=n.n,u=n.e,c=n.kty;return i===s&&o===u&&a===c}return!1}r.d(e,{S:function(){return n}})},98423:function(t,e,r){"use strict";r.d(e,{W:function(){return h}});var n=r(3756),i=r(86268),o=r(74916);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==a(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}var h=function(){function t(e){var r=e.bulletinBoardClientParams,a=e.authorityPublicKeyJSON,s=e.electionUniqueId,u=e.voterUniqueId,c=e.voterWrapperAdapter;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bulletinBoardClient=new n.K(r);var f=new i.O({uniqueId:s,bulletinBoardClient:this.bulletinBoardClient});this.voter=new o.r({bulletinBoardClient:this.bulletinBoardClient,authorityPublicKeyJSON:a,election:f,uniqueId:u,wrapperAdapter:c})}var e,r,a,u;return e=t,r=[{key:"bindEvents",value:(u=c(s().mark((function t(e){var r,n,i,o,a,u,f,l,h,p,d,y,v=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.onBindEncryptButton,n=e.onStart,i=e.onVoteEncryption,o=e.castOrAuditBallot,a=e.onBindAuditBallotButton,u=e.onBindCastBallotButton,f=e.onAuditBallot,l=e.onCastBallot,h=e.onAuditComplete,p=e.onCastComplete,d=e.onInvalid,y=this.voter.setup(),r(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(),t.next=3,y;case 3:i((function(t,e){v.voter.encrypt(t,e).then((function(t){o(t),a((function(){f(t,"".concat(v.voter.uniqueId,"-election-").concat(v.voter.election.uniqueId,".txt")),h()})),u(c(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:r=e.sent,p(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d();case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))}))}),(function(){d()}));case 4:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}],r&&f(e.prototype,r),a&&f(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},74916:function(t,e,r){"use strict";r.d(e,{r:function(){return h}});var n=r(54802);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==i(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function a(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var h=function(){function t(e){var r=e.bulletinBoardClient,i=e.authorityPublicKeyJSON,o=e.election,a=e.uniqueId,s=e.wrapperAdapter;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uniqueId=a,this.election=o,this.bulletinBoardClient=r,this.wrapperAdapter=s,this.parser=new n.N({authorityPublicKeyJSON:i})}var e,r,i,s,u,l;return e=t,r=[{key:"setup",value:(l=c(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wrapperAdapter.setup();case 2:return t.abrupt("return",this.bulletinBoardClient.getElectionLogEntries({electionUniqueId:this.election.uniqueId,types:["create_election","end_key_ceremony"]}).then(function(){var t=c(o().mark((function t(r){var n,i,s,u,c,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a(r),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=14;break}return s=i.value,t.next=7,e.parser.parse(s);case 7:return u=t.sent,c=u.messageIdentifier,f=u.decodedData,t.next=12,e.wrapperAdapter.processMessage(c.typeSubtype,f);case 12:t.next=3;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),n.e(t.t0);case 19:return t.prev=19,n.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[1,16,19,22]])})));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"encrypt",value:(u=c(o().mark((function t(e,r){var n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wrapperAdapter.encrypt(e,r);case 2:return n=t.sent,i=n.encryptedData,a=n.auditableData,t.next=7,this.hash(i);case 7:return s=t.sent,t.abrupt("return",{encryptedData:i,encryptedDataHash:s,auditableData:a,plainVote:e,electionUniqueId:this.election.uniqueId});case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"hash",value:(s=c(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e)).then((function(t){return Array.from(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join("")})));case 1:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"verifyVote",value:function(t){var e=this.election.uniqueId;return this.bulletinBoardClient.getLogEntry({electionUniqueId:e,contentHash:t})}}],r&&f(e.prototype,r),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},10259:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&o.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==n(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{d:function(){return l}});var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n,o,s;return e=t,r=[{key:"processPythonCodeOnWorker",value:(o=i().mark((function t(e,r){var n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){n.worker.onmessage=function(e){t(e.data.results)},n.worker.onerror=function(t){console.error("Error in worker",t),i(t)},n.worker.postMessage(a({python:e},r))})));case 1:case"end":return t.stop()}}),t)})),s=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){u(i,r,n,a,s,"next",t)}function s(t){u(i,r,n,a,s,"throw",t)}a(void 0)}))},function(t,e){return s.apply(this,arguments)})}],r&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},47611:function(){window.addEventListener("unhandledrejection",(function(t){window.Decidim.currentDialogs["server-failure"]&&(document.getElementById("tech-info").innerHTML=t.reason,-1===t.reason.toString().indexOf("fetch")&&(document.getElementById("communication_error").hidden=!0,document.getElementById("generic_error").hidden=!1),window.Decidim.currentDialogs["server-failure"].open())}))},81541:function(t,e){"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=s(t),a=o[0],u=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),f=0,l=u>0?a-4:a;for(r=0;r<l;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(u(t,s,s+a>c?c:s+a));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},88249:function(t,e,r){"use strict";var n=r(24488);function i(t,e){return void 0===e&&(e="utf8"),Buffer.isBuffer(t)?a(t.toString("base64")):a(Buffer.from(t,e).toString("base64"))}function o(t){return t=t.toString(),n.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function a(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var s=i;s.encode=i,s.decode=function(t,e){return void 0===e&&(e="utf8"),Buffer.from(o(t),"base64").toString(e)},s.toBase64=o,s.fromBase64=a,s.toBuffer=function(t){return Buffer.from(o(t),"base64")},e.default=s},24488:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var n=e,i=4-r,o=e+i,a=Buffer.alloc(o);for(a.write(t);i--;)a.write("=",n++);return a.toString()}},90328:function(t,e,r){t.exports=r(88249).default,t.exports.default=t.exports},22486:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:String(e)}function o(t,e,r){return e=s(e),function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var l=r(81541),h=r(42524),p="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=v,e.IS=50;var d=2147483647;function y(t){if(t>d)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,v.prototype),e}function v(t,e,r){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return b(t)}return g(t,e,r)}function g(t,e,r){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!v.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|C(t,e),n=y(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(nt(t,Uint8Array)){var e=new Uint8Array(t);return E(e.buffer,e.byteOffset,e.byteLength)}return w(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(t));if(nt(t,ArrayBuffer)||t&&nt(t.buffer,ArrayBuffer))return E(t,e,r);if("undefined"!==typeof SharedArrayBuffer&&(nt(t,SharedArrayBuffer)||t&&nt(t.buffer,SharedArrayBuffer)))return E(t,e,r);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return v.from(n,e,r);var i=function(t){if(v.isBuffer(t)){var e=0|S(t.length),r=y(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!==typeof t.length||it(t.length)?y(0):w(t);if("Buffer"===t.type&&Array.isArray(t.data))return w(t.data)}(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return v.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(t))}function m(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function b(t){return m(t),y(t<0?0:0|S(t))}function w(t){for(var e=t.length<0?0:0|S(t.length),r=y(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function E(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,v.prototype),n}function S(t){if(t>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|t}function C(t,e){if(v.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||nt(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(t));var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return tt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return et(t).length;default:if(i)return n?-1:tt(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,r);case"utf8":case"utf-8":return L(this,e,r);case"ascii":return F(this,e,r);case"latin1":case"binary":return j(this,e,r);case"base64":return P(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function T(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function k(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),it(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=v.from(e,n)),v.isBuffer(e))return 0===e.length?-1:A(t,e,r,n,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function I(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=e.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(it(s))return o;t[r+o]=s}return o}function B(t,e,r,n){return rt(tt(e,t.length-r),t,r,n)}function x(t,e,r,n){return rt(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function O(t,e,r,n){return rt(et(e),t,r,n)}function N(t,e,r,n){return rt(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function P(t,e,r){return 0===e&&r===t.length?l.fromByteArray(t):l.fromByteArray(t.slice(e,r))}function L(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,f=void 0,l=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128===(192&(u=t[i+1]))&&(l=(31&o)<<6|63&u)>127&&(a=l);break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}v.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(r){return!1}}(),v.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}}),v.poolSize=8192,v.from=function(t,e,r){return g(t,e,r)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array),v.alloc=function(t,e,r){return function(t,e,r){return m(t),t<=0?y(t):void 0!==e?"string"===typeof r?y(t).fill(e,r):y(t).fill(e):y(t)}(t,e,r)},v.allocUnsafe=function(t){return b(t)},v.allocUnsafeSlow=function(t){return b(t)},v.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==v.prototype},v.compare=function(t,e){if(nt(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),nt(e,Uint8Array)&&(e=v.from(e,e.offset,e.byteLength)),!v.isBuffer(t)||!v.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},v.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return v.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=v.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(nt(o,Uint8Array))i+o.length>n.length?(v.isBuffer(o)||(o=v.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!v.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},v.byteLength=C,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)T(this,e,e+1);return this},v.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)T(this,e,e+3),T(this,e+1,e+2);return this},v.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)T(this,e,e+7),T(this,e+1,e+6),T(this,e+2,e+5),T(this,e+3,e+4);return this},v.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?L(this,0,t):_.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(t){if(!v.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===v.compare(this,t)},v.prototype.inspect=function(){var t="",r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},p&&(v.prototype[p]=v.prototype.inspect),v.prototype.compare=function(t,e,r,n,i){if(nt(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),!v.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(t));if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=t.slice(e,r),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},v.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},v.prototype.indexOf=function(t,e,r){return k(this,t,e,r,!0)},v.prototype.lastIndexOf=function(t,e,r){return k(this,t,e,r,!1)},v.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return B(this,t,e,r);case"ascii":case"latin1":case"binary":return x(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function F(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function j(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function D(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=ot[t[o]];return i}function U(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function V(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function K(t,e,r,n,i,o){if(!v.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n,i){$(e,n,i,t,r,7);var o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function q(t,e,r,n,i){$(e,n,i,t,r,7);var o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function z(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,4),h.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,8),h.write(t,e,r,n,52,8),r+8}v.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,v.prototype),n},v.prototype.readUintLE=v.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},v.prototype.readUintBE=v.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},v.prototype.readUint8=v.prototype.readUInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),this[t]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]|this[t+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]<<8|this[t+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},v.prototype.readBigUInt64LE=at((function(t){J(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Z(t,this.length-8);var n=e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24),i=this[++t]+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),v.prototype.readBigUInt64BE=at((function(t){J(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Z(t,this.length-8);var n=e*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t],i=this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),v.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},v.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},v.prototype.readInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},v.prototype.readInt16LE=function(t,e){t>>>=0,e||V(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},v.prototype.readInt16BE=function(t,e){t>>>=0,e||V(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},v.prototype.readInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},v.prototype.readInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},v.prototype.readBigInt64LE=at((function(t){J(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Z(t,this.length-8);var n=this[t+4]+this[t+5]*Math.pow(2,8)+this[t+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24))})),v.prototype.readBigInt64BE=at((function(t){J(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Z(t,this.length-8);var n=(e<<24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+r)})),v.prototype.readFloatLE=function(t,e){return t>>>=0,e||V(t,4,this.length),h.read(this,t,!0,23,4)},v.prototype.readFloatBE=function(t,e){return t>>>=0,e||V(t,4,this.length),h.read(this,t,!1,23,4)},v.prototype.readDoubleLE=function(t,e){return t>>>=0,e||V(t,8,this.length),h.read(this,t,!0,52,8)},v.prototype.readDoubleBE=function(t,e){return t>>>=0,e||V(t,8,this.length),h.read(this,t,!1,52,8)},v.prototype.writeUintLE=v.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||K(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||K(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},v.prototype.writeUint8=v.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,1,255,0),this[e]=255&t,e+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},v.prototype.writeBigUInt64LE=at((function(t){return M(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),v.prototype.writeBigUInt64BE=at((function(t){return q(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),v.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);K(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},v.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);K(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},v.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},v.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},v.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},v.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},v.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||K(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},v.prototype.writeBigInt64LE=at((function(t){return M(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),v.prototype.writeBigInt64BE=at((function(t){return q(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),v.prototype.writeFloatLE=function(t,e,r){return G(this,t,e,!0,r)},v.prototype.writeFloatBE=function(t,e,r){return G(this,t,e,!1,r)},v.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},v.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},v.prototype.copy=function(t,e,r,n){if(!v.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},v.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!v.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=v.isBuffer(t)?t:v.from(t,n),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var Q={};function W(t,e,r){Q[t]=function(r){function i(){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o(this,i),Object.defineProperty(u(r),"message",{value:e.apply(u(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}var a,s,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(i,r),a=i,(s=[{key:"code",get:function(){return t},set:function(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}])&&n(a.prototype,s),f&&n(a,f),Object.defineProperty(a,"prototype",{writable:!1}),i}(r)}function Y(t){for(var e="",r=t.length,n="-"===t[0]?1:0;r>=n+4;r-=3)e="_".concat(t.slice(r-3,r)).concat(e);return"".concat(t.slice(0,r)).concat(e)}function $(t,e,r,n,i,o){if(t>r||t<e){var a,s="bigint"===typeof e?"n":"";throw a=o>3?0===e||e===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(e).concat(s," and <= ").concat(r).concat(s),new Q.ERR_OUT_OF_RANGE("value",a,t)}!function(t,e,r){J(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||Z(e,t.length-(r+1))}(n,i,o)}function J(t,e){if("number"!==typeof t)throw new Q.ERR_INVALID_ARG_TYPE(e,"number",t)}function Z(t,e,r){if(Math.floor(t)!==t)throw J(t,r),new Q.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new Q.ERR_BUFFER_OUT_OF_BOUNDS;throw new Q.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(e),t)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(t,e){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(f(e))}),TypeError),W("ERR_OUT_OF_RANGE",(function(t,e,r){var n='The value of "'.concat(t,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=Y(String(r)):"bigint"===typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=Y(i)),i+="n"),n+=" It must be ".concat(e,". Received ").concat(i)}),RangeError);var X=/[^+/0-9A-Za-z-_]/g;function tt(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function et(t){return l.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function rt(t,e,r,n){var i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function nt(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function it(t){return t!==t}var ot=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}();function at(t){return"undefined"===typeof BigInt?st:t}function st(){throw new Error("BigInt not supported")}},86653:function(t,e,r){var n,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}o=function(){"use strict";function t(t){return"function"===typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,i=void 0,o=void 0,s=function(t,e){d[n]=t,d[n+1]=e,2===(n+=2)&&(o?o(y):w())},u="undefined"!==typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(y,1)}}var d=new Array(1e3);function y(){for(var t=0;t<n;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;n=0}var v,g,m,b,w=void 0;function E(t,e){var r=this,n=new this.constructor(_);void 0===n[C]&&j(n);var i=r._state;if(i){var o=arguments[i-1];s((function(){return R(i,n,o,r._result)}))}else P(r,n,t,e);return n}function S(t){if(t&&"object"===a(t)&&t.constructor===this)return t;var e=new this(_);return B(e,t),e}l?w=function(){return process.nextTick(y)}:f?(g=0,m=new f(y),b=document.createTextNode(""),m.observe(b,{characterData:!0}),w=function(){b.data=g=++g%2}):h?((v=new MessageChannel).port1.onmessage=y,w=function(){return v.port2.postMessage(0)}):w=void 0===u?function(){try{var t=Function("return this")().require("vertx");return"undefined"!==typeof(i=t.runOnLoop||t.runOnContext)?function(){i(y)}:p()}catch(e){return p()}}():p();var C=Math.random().toString(36).substring(2);function _(){}var T=void 0,k=1,A=2;function I(e,r,n){r.constructor===e.constructor&&n===E&&r.constructor.resolve===S?function(t,e){e._state===k?O(t,e._result):e._state===A?N(t,e._result):P(e,void 0,(function(e){return B(t,e)}),(function(e){return N(t,e)}))}(e,r):void 0===n?O(e,r):t(n)?function(t,e,r){s((function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}(r,e,(function(r){n||(n=!0,e!==r?B(t,r):O(t,r))}),(function(e){n||(n=!0,N(t,e))}),t._label);!n&&i&&(n=!0,N(t,i))}),t)}(e,r,n):O(e,r)}function B(t,e){if(t===e)N(t,new TypeError("You cannot resolve a promise with itself"));else if(i=a(n=e),null===n||"object"!==i&&"function"!==i)O(t,e);else{var r=void 0;try{r=e.then}catch(o){return void N(t,o)}I(t,e,r)}var n,i}function x(t){t._onerror&&t._onerror(t._result),L(t)}function O(t,e){t._state===T&&(t._result=e,t._state=k,0!==t._subscribers.length&&s(L,t))}function N(t,e){t._state===T&&(t._state=A,t._result=e,s(x,t))}function P(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=r,i[o+A]=n,0===o&&t._state&&s(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)n=e[a],i=e[a+r],n?R(r,n,i,o):i(o);t._subscribers.length=0}}function R(e,r,n,i){var o=t(n),a=void 0,s=void 0,u=!0;if(o){try{a=n(i)}catch(c){u=!1,s=c}if(r===a)return void N(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state!==T||(o&&u?B(r,a):!1===u?N(r,s):e===k?O(r,a):e===A&&N(r,a))}var F=0;function j(t){t[C]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,r){this._instanceConstructor=t,this.promise=new t(_),this.promise[C]||j(this.promise),e(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&O(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===S){var i=void 0,o=void 0,a=!1;try{i=t.then}catch(u){a=!0,o=u}if(i===E&&t._state!==T)this._settledAt(t._state,e,t._result);else if("function"!==typeof i)this._remaining--,this._result[e]=t;else if(r===U){var s=new r(_);a?N(s,o):I(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new r((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===T&&(this._remaining--,t===A?N(n,r):this._result[e]=r),0===this._remaining&&O(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;P(t,void 0,(function(t){return r._settledAt(k,e,t)}),(function(t){return r._settledAt(A,e,t)}))},t}(),U=function(){function e(t){this[C]=F++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!==typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){B(t,e)}),(function(e){N(t,e)}))}catch(r){N(t,r)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this,n=r.constructor;return t(e)?r.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):r.then(e,e)},e}();return U.prototype.then=E,U.all=function(t){return new D(this,t).promise},U.race=function(t){var r=this;return e(t)?new r((function(e,n){for(var i=t.length,o=0;o<i;o++)r.resolve(t[o]).then(e,n)})):new r((function(t,e){return e(new TypeError("You must pass an array to race."))}))},U.resolve=S,U.reject=function(t){var e=new this(_);return N(e,t),e},U._setScheduler=function(t){o=t},U._setAsap=function(t){s=t},U._asap=s,U.polyfill=function(){var t=void 0;if("undefined"!==typeof r.g)t=r.g;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(i){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U},U.Promise=U,U},"object"===a(e)?t.exports=o():void 0===(i="function"===typeof(n=o)?n.call(e,r,e,t):n)||(t.exports=i)},42524:function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*y}},10973:function(t,e,r){var n=r(17769)(r(77600),"DataView");t.exports=n},46076:function(t,e,r){var n=r(75575),i=r(20323),o=r(28418),a=r(31734),s=r(57390);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},38627:function(t,e,r){var n=r(65809),i=r(34600);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},67872:function(t,e,r){var n=r(64931),i=r(20855),o=r(8326),a=r(50882),s=r(57818);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},53910:function(t,e,r){var n=r(65809),i=r(34600);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},89324:function(t,e,r){var n=r(17769)(r(77600),"Map");t.exports=n},82792:function(t,e,r){var n=r(61003),i=r(54031),o=r(84894),a=r(6314),s=r(36146);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},29379:function(t,e,r){var n=r(17769)(r(77600),"Promise");t.exports=n},18286:function(t,e,r){var n=r(17769)(r(77600),"Set");t.exports=n},27390:function(t,e,r){var n=r(82792),i=r(80123),o=r(96504);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},88922:function(t,e,r){var n=r(67872),i=r(20857),o=r(12817),a=r(36696),s=r(11340),u=r(15676);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},99724:function(t,e,r){var n=r(77600).Symbol;t.exports=n},16265:function(t,e,r){var n=r(77600).Uint8Array;t.exports=n},30448:function(t,e,r){var n=r(17769)(r(77600),"WeakMap");t.exports=n},82314:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},56414:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},91185:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},38178:function(t,e,r){var n=r(10908);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},59102:function(t){t.exports=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}},42908:function(t,e,r){var n=r(71319),i=r(81585),o=r(33420),a=r(4135),s=r(66034),u=r(71372),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),f=!r&&i(t),l=!r&&!f&&a(t),h=!r&&!f&&!l&&u(t),p=r||f||l||h,d=p?n(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},98333:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},82823:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},27956:function(t,e,r){var n=r(93527),i=r(79859);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},76076:function(t,e,r){var n=r(93527),i=r(79859),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},15268:function(t,e,r){var n=r(79859);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},42136:function(t,e,r){var n=r(9086),i=r(17145);t.exports=function(t,e){return t&&n(e,i(e),t)}},53863:function(t,e,r){var n=r(9086),i=r(80066);t.exports=function(t,e){return t&&n(e,i(e),t)}},93527:function(t,e,r){var n=r(9806);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},98554:function(t){t.exports=function(t,e,r){return t===t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}},93380:function(t,e,r){var n=r(88922),i=r(56414),o=r(76076),a=r(42136),s=r(53863),u=r(56665),c=r(34148),f=r(77524),l=r(86651),h=r(65083),p=r(75080),d=r(72548),y=r(18404),v=r(29550),g=r(6814),m=r(33420),b=r(4135),w=r(62247),E=r(53510),S=r(68121),C=r(17145),_=r(80066),T="[object Arguments]",k="[object Function]",A="[object Object]",I={};I[T]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[A]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[k]=I["[object WeakMap]"]=!1,t.exports=function t(e,r,B,x,O,N){var P,L=1&r,R=2&r,F=4&r;if(B&&(P=O?B(e,x,O,N):B(e)),void 0!==P)return P;if(!E(e))return e;var j=m(e);if(j){if(P=y(e),!L)return c(e,P)}else{var D=d(e),U=D==k||"[object GeneratorFunction]"==D;if(b(e))return u(e,L);if(D==A||D==T||U&&!O){if(P=R||U?{}:g(e),!L)return R?l(e,s(P,e)):f(e,a(P,e))}else{if(!I[D])return O?e:{};P=v(e,D,L)}}N||(N=new n);var V=N.get(e);if(V)return V;N.set(e,P),S(e)?e.forEach((function(n){P.add(t(n,r,B,n,e,N))})):w(e)&&e.forEach((function(n,i){P.set(i,t(n,r,B,i,e,N))}));var K=j?void 0:(F?R?p:h:R?_:C)(e);return i(K||e,(function(n,i){K&&(n=e[i=n]),o(P,i,t(n,r,B,i,e,N))})),P}},65809:function(t,e,r){var n=r(53510),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},84844:function(t,e,r){var n=r(10172),i=r(44583);t.exports=function(t,e,r,o){var a=t.length;for((r=n(r))<0&&(r=-r>a?0:a+r),(o=void 0===o||o>a?a:n(o))<0&&(o+=a),o=r>o?0:i(o);r<o;)t[r++]=e;return t}},32960:function(t){t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},73019:function(t,e,r){var n=r(82823),i=r(2564);t.exports=function t(e,r,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var f=e[u];r>0&&o(f)?r>1?t(f,r-1,o,a,s):n(s,f):a||(s[s.length]=f)}return s}},85898:function(t,e,r){var n=r(94650)();t.exports=n},60593:function(t,e,r){var n=r(66404),i=r(55002);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},75230:function(t,e,r){var n=r(82823),i=r(33420);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},72873:function(t,e,r){var n=r(99724),i=r(8576),o=r(9447),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},68654:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},10908:function(t,e,r){var n=r(32960),i=r(16220),o=r(54684);t.exports=function(t,e,r){return e===e?o(t,e,r):n(t,i,r)}},91292:function(t,e,r){var n=r(27390),i=r(38178),o=r(59102),a=r(98333),s=r(46686),u=r(7162),c=Math.min;t.exports=function(t,e,r){for(var f=r?o:i,l=t[0].length,h=t.length,p=h,d=Array(h),y=1/0,v=[];p--;){var g=t[p];p&&e&&(g=a(g,s(e))),y=c(g.length,y),d[p]=!r&&(e||l>=120&&g.length>=120)?new n(p&&g):void 0}g=t[0];var m=-1,b=d[0];t:for(;++m<l&&v.length<y;){var w=g[m],E=e?e(w):w;if(w=r||0!==w?w:0,!(b?u(b,E):f(v,E,r))){for(p=h;--p;){var S=d[p];if(!(S?u(S,E):f(t[p],E,r)))continue t}b&&b.push(E),v.push(w)}}return v}},63825:function(t,e,r){var n=r(72873),i=r(63585);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},72263:function(t,e,r){var n=r(72548),i=r(63585);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},16220:function(t){t.exports=function(t){return t!==t}},12290:function(t,e,r){var n=r(80405),i=r(41417),o=r(53510),a=r(36220),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?h:s).test(a(t))}},47289:function(t,e,r){var n=r(72548),i=r(63585);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},4780:function(t,e,r){var n=r(72873),i=r(73733),o=r(63585),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},90521:function(t,e,r){var n=r(78004),i=r(28143),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},8290:function(t,e,r){var n=r(53510),i=r(78004),o=r(8468),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},34600:function(t){t.exports=function(){}},58669:function(t,e,r){var n=r(88922),i=r(27956),o=r(85898),a=r(52943),s=r(53510),u=r(80066),c=r(52049);t.exports=function t(e,r,f,l,h){e!==r&&o(r,(function(o,u){if(h||(h=new n),s(o))a(e,r,u,f,t,l,h);else{var p=l?l(c(e,u),o,u+"",e,r,h):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}},52943:function(t,e,r){var n=r(27956),i=r(56665),o=r(25998),a=r(34148),s=r(6814),u=r(81585),c=r(33420),f=r(73096),l=r(4135),h=r(80405),p=r(53510),d=r(25290),y=r(71372),v=r(52049),g=r(72161);t.exports=function(t,e,r,m,b,w,E){var S=v(t,r),C=v(e,r),_=E.get(C);if(_)n(t,r,_);else{var T=w?w(S,C,r+"",t,e,E):void 0,k=void 0===T;if(k){var A=c(C),I=!A&&l(C),B=!A&&!I&&y(C);T=C,A||I||B?c(S)?T=S:f(S)?T=a(S):I?(k=!1,T=i(C,!0)):B?(k=!1,T=o(C,!0)):T=[]:d(C)||u(C)?(T=S,u(S)?T=g(S):p(S)&&!h(S)||(T=s(C))):k=!1}k&&(E.set(C,T),b(T,C,m,w,E),E.delete(C)),n(t,r,T)}}},97360:function(t,e,r){var n=r(80033),i=r(12686);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},80033:function(t,e,r){var n=r(60593),i=r(46133),o=r(66404);t.exports=function(t,e,r){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],f=n(t,c);r(f,c)&&i(u,o(c,t),f)}return u}},19575:function(t,e,r){var n=r(567),i=r(93468),o=r(57638);t.exports=function(t,e){return o(i(t,e,n),t+"")}},46133:function(t,e,r){var n=r(76076),i=r(66404),o=r(66034),a=r(53510),s=r(55002);t.exports=function(t,e,r,u){if(!a(t))return t;for(var c=-1,f=(e=i(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var p=s(e[c]),d=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=l){var y=h[p];void 0===(d=u?u(y,p,h):void 0)&&(d=a(y)?y:o(e[c+1])?[]:{})}n(h,p,d),h=h[p]}return t}},23893:function(t,e,r){var n=r(567),i=r(15931),o=i?function(t,e){return i.set(t,e),t}:n;t.exports=o},5917:function(t,e,r){var n=r(21045),i=r(9806),o=r(567),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},84023:function(t){t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},71319:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},61461:function(t,e,r){var n=r(99724),i=r(98333),o=r(33420),a=r(18473),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},25261:function(t,e,r){var n=r(55447),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},46686:function(t){t.exports=function(t){return function(e){return t(e)}}},71704:function(t,e,r){var n=r(27390),i=r(38178),o=r(59102),a=r(7162),s=r(58814),u=r(34914);t.exports=function(t,e,r){var c=-1,f=i,l=t.length,h=!0,p=[],d=p;if(r)h=!1,f=o;else if(l>=200){var y=e?null:s(t);if(y)return u(y);h=!1,f=a,d=new n}else d=e?[]:p;t:for(;++c<l;){var v=t[c],g=e?e(v):v;if(v=r||0!==v?v:0,h&&g===g){for(var m=d.length;m--;)if(d[m]===g)continue t;e&&d.push(g),p.push(v)}else f(d,g,r)||(d!==p&&d.push(g),p.push(v))}return p}},17796:function(t,e,r){var n=r(66404),i=r(72185),o=r(15188),a=r(55002);t.exports=function(t,e){return e=n(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},7162:function(t){t.exports=function(t,e){return t.has(e)}},59366:function(t,e,r){var n=r(73096);t.exports=function(t){return n(t)?t:[]}},66404:function(t,e,r){var n=r(33420),i=r(39645),o=r(77239),a=r(26453);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},56292:function(t,e,r){var n=r(16265);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},56665:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t=r.nmd(t);var i=r(77600),o="object"==n(e)&&e&&!e.nodeType&&e,a=o&&"object"==n(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}},87230:function(t,e,r){var n=r(56292);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},90650:function(t){var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},8375:function(t,e,r){var n=r(99724),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},25998:function(t,e,r){var n=r(56292);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},96703:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=r.length,f=e(a-s,0),l=Array(c+f),h=!i;++u<c;)l[u]=r[u];for(;++o<s;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[u++]=t[o++];return l}},90957:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,f=r.length,l=e(a-u,0),h=Array(l+f),p=!i;++o<l;)h[o]=t[o];for(var d=o;++c<f;)h[d+c]=r[c];for(;++s<u;)(p||o<a)&&(h[d+n[s]]=t[o++]);return h}},34148:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},9086:function(t,e,r){var n=r(76076),i=r(93527);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=o?o(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?i(r,c,f):n(r,c,f)}return r}},77524:function(t,e,r){var n=r(9086),i=r(53741);t.exports=function(t,e){return n(t,i(t),e)}},86651:function(t,e,r){var n=r(9086),i=r(93374);t.exports=function(t,e){return n(t,i(t),e)}},56888:function(t,e,r){var n=r(77600)["__core-js_shared__"];t.exports=n},91550:function(t){t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},48338:function(t,e,r){var n=r(19575),i=r(79449);t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,a)}return e}))}},94650:function(t){t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}},36519:function(t,e,r){var n=r(64094),i=r(77600);t.exports=function(t,e,r){var o=1&e,a=n(t);return function e(){return(this&&this!==i&&this instanceof e?a:t).apply(o?r:this,arguments)}}},64094:function(t,e,r){var n=r(65809),i=r(53510);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),o=t.apply(r,e);return i(o)?o:r}}},78489:function(t,e,r){var n=r(82314),i=r(64094),o=r(20182),a=r(60226),s=r(52616),u=r(53495),c=r(77600);t.exports=function(t,e,r){var f=i(t);return function i(){for(var l=arguments.length,h=Array(l),p=l,d=s(i);p--;)h[p]=arguments[p];var y=l<3&&h[0]!==d&&h[l-1]!==d?[]:u(h,d);return(l-=y.length)<r?a(t,e,o,i.placeholder,void 0,h,y,void 0,void 0,r-l):n(this&&this!==c&&this instanceof i?f:t,this,h)}}},20182:function(t,e,r){var n=r(96703),i=r(90957),o=r(91550),a=r(64094),s=r(60226),u=r(52616),c=r(64881),f=r(53495),l=r(77600);t.exports=function t(e,r,h,p,d,y,v,g,m,b){var w=128&r,E=1&r,S=2&r,C=24&r,_=512&r,T=S?void 0:a(e);return function k(){for(var A=arguments.length,I=Array(A),B=A;B--;)I[B]=arguments[B];if(C)var x=u(k),O=o(I,x);if(p&&(I=n(I,p,d,C)),y&&(I=i(I,y,v,C)),A-=O,C&&A<b){var N=f(I,x);return s(e,r,t,k.placeholder,h,I,N,g,m,b-A)}var P=E?h:this,L=S?P[e]:e;return A=I.length,g?I=c(I,g):_&&A>1&&I.reverse(),w&&m<A&&(I.length=m),this&&this!==l&&this instanceof k&&(L=T||a(L)),L.apply(P,I)}}},89667:function(t,e,r){var n=r(82314),i=r(64094),o=r(77600);t.exports=function(t,e,r,a){var s=1&e,u=i(t);return function e(){for(var i=-1,c=arguments.length,f=-1,l=a.length,h=Array(l+c),p=this&&this!==o&&this instanceof e?u:t;++f<l;)h[f]=a[f];for(;c--;)h[f++]=arguments[++i];return n(p,s?r:this,h)}}},60226:function(t,e,r){var n=r(85162),i=r(17086),o=r(63902);t.exports=function(t,e,r,a,s,u,c,f,l,h){var p=8&e;e|=p?32:64,4&(e&=~(p?64:32))||(e&=-4);var d=[t,e,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,f,l,h],y=r.apply(void 0,d);return n(t)&&i(y,d),y.placeholder=a,o(y,t,e)}},58814:function(t,e,r){var n=r(18286),i=r(48489),o=r(34914),a=n&&1/o(new n([,-0]))[1]==1/0?function(t){return new n(t)}:i;t.exports=a},75612:function(t,e,r){var n=r(23893),i=r(36519),o=r(78489),a=r(20182),s=r(89667),u=r(9570),c=r(33374),f=r(17086),l=r(63902),h=r(10172),p=Math.max;t.exports=function(t,e,r,d,y,v,g,m){var b=2&e;if(!b&&"function"!=typeof t)throw new TypeError("Expected a function");var w=d?d.length:0;if(w||(e&=-97,d=y=void 0),g=void 0===g?g:p(h(g),0),m=void 0===m?m:h(m),w-=y?y.length:0,64&e){var E=d,S=y;d=y=void 0}var C=b?void 0:u(t),_=[t,e,r,d,y,E,S,v,g,m];if(C&&c(_,C),t=_[0],e=_[1],r=_[2],d=_[3],y=_[4],!(m=_[9]=void 0===_[9]?b?0:t.length:p(_[9]-w,0))&&24&e&&(e&=-25),e&&1!=e)T=8==e||16==e?o(t,e,m):32!=e&&33!=e||y.length?a.apply(void 0,_):s(t,e,r,d);else var T=i(t,e,r);return l((C?n:f)(T,_),t,e)}},87425:function(t,e,r){var n=r(25290);t.exports=function(t){return n(t)?void 0:t}},9806:function(t,e,r){var n=r(17769),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},43321:function(t,e,r){var n=r(90939),i=r(93468),o=r(57638);t.exports=function(t){return o(i(t,void 0,n),t+"")}},1081:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i="object"==("undefined"===typeof r.g?"undefined":n(r.g))&&r.g&&r.g.Object===Object&&r.g;t.exports=i},65083:function(t,e,r){var n=r(75230),i=r(53741),o=r(17145);t.exports=function(t){return n(t,o,i)}},75080:function(t,e,r){var n=r(75230),i=r(93374),o=r(80066);t.exports=function(t){return n(t,o,i)}},9570:function(t,e,r){var n=r(15931),i=r(48489),o=n?function(t){return n.get(t)}:i;t.exports=o},83399:function(t,e,r){var n=r(74210),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],o=i.call(n,e)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==t)return a.name}return e}},52616:function(t){t.exports=function(t){return t.placeholder}},19158:function(t,e,r){var n=r(17721);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},17769:function(t,e,r){var n=r(12290),i=r(59369);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},80878:function(t,e,r){var n=r(38268)(Object.getPrototypeOf,Object);t.exports=n},8576:function(t,e,r){var n=r(99724),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(u){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},53741:function(t,e,r){var n=r(91185),i=r(20668),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},93374:function(t,e,r){var n=r(82823),i=r(80878),o=r(53741),a=r(20668),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:a;t.exports=s},72548:function(t,e,r){var n=r(10973),i=r(89324),o=r(29379),a=r(18286),s=r(30448),u=r(72873),c=r(36220),f="[object Map]",l="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=c(n),v=c(i),g=c(o),m=c(a),b=c(s),w=u;(n&&w(new n(new ArrayBuffer(1)))!=d||i&&w(new i)!=f||o&&w(o.resolve())!=l||a&&w(new a)!=h||s&&w(new s)!=p)&&(w=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return d;case v:return f;case g:return l;case m:return h;case b:return p}return e}),t.exports=w},59369:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},91266:function(t){var e=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},16313:function(t,e,r){var n=r(66404),i=r(81585),o=r(33420),a=r(66034),s=r(73733),u=r(55002);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,l=!1;++c<f;){var h=u(e[c]);if(!(l=null!=t&&r(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&s(f)&&a(h,f)&&(o(t)||i(t))}},75575:function(t,e,r){var n=r(55471);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},20323:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},28418:function(t,e,r){var n=r(55471),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},31734:function(t,e,r){var n=r(55471),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},57390:function(t,e,r){var n=r(55471);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},18404:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},29550:function(t,e,r){var n=r(56292),i=r(87230),o=r(90650),a=r(8375),s=r(25998);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},6814:function(t,e,r){var n=r(65809),i=r(80878),o=r(78004);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},63911:function(t){var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+r+"] */\n")}},2564:function(t,e,r){var n=r(99724),i=r(81585),o=r(33420),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},66034:function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var i=e(t);return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<n}},79449:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(79859),o=r(59811),a=r(66034),s=r(53510);t.exports=function(t,e,r){if(!s(r))return!1;var u=n(e);return!!("number"==u?o(r)&&a(e,r.length):"string"==u&&e in r)&&i(r[e],t)}},39645:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(33420),o=r(18473),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var r=n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}},17721:function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){var r=e(t);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}},85162:function(t,e,r){var n=r(38627),i=r(9570),o=r(83399),a=r(79319);t.exports=function(t){var e=o(t),r=a[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var s=i(r);return!!s&&t===s[0]}},41417:function(t,e,r){var n,i=r(56888),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},78004:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},64931:function(t){t.exports=function(){this.__data__=[],this.size=0}},20855:function(t,e,r){var n=r(15268),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},8326:function(t,e,r){var n=r(15268);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},50882:function(t,e,r){var n=r(15268);t.exports=function(t){return n(this.__data__,t)>-1}},57818:function(t,e,r){var n=r(15268);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},61003:function(t,e,r){var n=r(46076),i=r(67872),o=r(89324);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},54031:function(t,e,r){var n=r(19158);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},84894:function(t,e,r){var n=r(19158);t.exports=function(t){return n(this,t).get(t)}},6314:function(t,e,r){var n=r(19158);t.exports=function(t){return n(this,t).has(t)}},36146:function(t,e,r){var n=r(19158);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},4923:function(t,e,r){var n=r(27437);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},33374:function(t,e,r){var n=r(96703),i=r(90957),o=r(53495),a="__lodash_placeholder__",s=128,u=Math.min;t.exports=function(t,e){var r=t[1],c=e[1],f=r|c,l=f<131,h=c==s&&8==r||c==s&&256==r&&t[7].length<=e[8]||384==c&&e[7].length<=e[8]&&8==r;if(!l&&!h)return t;1&c&&(t[2]=e[2],f|=1&r?0:4);var p=e[3];if(p){var d=t[3];t[3]=d?n(d,p,e[4]):p,t[4]=d?o(t[3],a):e[4]}return(p=e[5])&&(d=t[5],t[5]=d?i(d,p,e[6]):p,t[6]=d?o(t[5],a):e[6]),(p=e[7])&&(t[7]=p),c&s&&(t[8]=null==t[8]?e[8]:u(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=f,t}},15931:function(t,e,r){var n=r(30448),i=n&&new n;t.exports=i},55471:function(t,e,r){var n=r(17769)(Object,"create");t.exports=n},28143:function(t,e,r){var n=r(38268)(Object.keys,Object);t.exports=n},8468:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},34808:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t=r.nmd(t);var i=r(1081),o="object"==n(e)&&e&&!e.nodeType&&e,a=o&&"object"==n(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=u},9447:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},38268:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},93468:function(t,e,r){var n=r(82314),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=r(u),n(t,this,c)}}},15188:function(t,e,r){var n=r(60593),i=r(84023);t.exports=function(t,e){return e.length<2?t:n(t,i(e,0,-1))}},74210:function(t){t.exports={}},64881:function(t,e,r){var n=r(34148),i=r(66034),o=Math.min;t.exports=function(t,e){for(var r=t.length,a=o(e.length,r),s=n(t);a--;){var u=e[a];t[a]=i(u,r)?s[u]:void 0}return t}},53495:function(t){var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==r&&s!==e||(t[n]=e,a[o++]=n)}return a}},77600:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(1081),o="object"==("undefined"===typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},52049:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},80123:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},96504:function(t){t.exports=function(t){return this.__data__.has(t)}},17086:function(t,e,r){var n=r(23893),i=r(5274)(n);t.exports=i},34914:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},57638:function(t,e,r){var n=r(5917),i=r(5274)(n);t.exports=i},63902:function(t,e,r){var n=r(91266),i=r(63911),o=r(57638),a=r(40087);t.exports=function(t,e,r){var s=e+"";return o(t,i(s,a(n(s),r)))}},5274:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},20857:function(t,e,r){var n=r(67872);t.exports=function(){this.__data__=new n,this.size=0}},12817:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},36696:function(t){t.exports=function(t){return this.__data__.get(t)}},11340:function(t){t.exports=function(t){return this.__data__.has(t)}},15676:function(t,e,r){var n=r(67872),i=r(89324),o=r(82792);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},54684:function(t){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},77239:function(t,e,r){var n=r(4923),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},55002:function(t,e,r){var n=r(18473);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},36220:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}},55447:function(t){var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},40087:function(t,e,r){var n=r(56414),i=r(38178),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,(function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)})),t.sort()}},92392:function(t,e,r){var n=r(38627),i=r(53910),o=r(34148);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},32632:function(t,e,r){var n=r(76076),i=r(9086),o=r(48338),a=r(59811),s=r(78004),u=r(17145),c=Object.prototype.hasOwnProperty,f=o((function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var r in e)c.call(e,r)&&n(t,r,e[r])}));t.exports=f},36:function(t,e,r){var n=r(93380);t.exports=function(t){return n(t,4)}},21045:function(t){t.exports=function(t){return function(){return t}}},79859:function(t){t.exports=function(t,e){return t===e||t!==t&&e!==e}},73772:function(t,e,r){var n=r(84844),i=r(79449);t.exports=function(t,e,r,o){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&i(t,e,r)&&(r=0,o=a),n(t,e,r,o)):[]}},90939:function(t,e,r){var n=r(73019);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},12686:function(t,e,r){var n=r(68654),i=r(16313);t.exports=function(t,e){return null!=t&&i(t,e,n)}},567:function(t){t.exports=function(t){return t}},19356:function(t,e,r){var n=r(98333),i=r(91292),o=r(19575),a=r(59366),s=o((function(t){var e=n(t,a);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},81585:function(t,e,r){var n=r(63825),i=r(63585),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},33420:function(t){var e=Array.isArray;t.exports=e},59811:function(t,e,r){var n=r(80405),i=r(73733);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},73096:function(t,e,r){var n=r(59811),i=r(63585);t.exports=function(t){return i(t)&&n(t)}},4135:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t=r.nmd(t);var i=r(77600),o=r(40102),a="object"==n(e)&&e&&!e.nodeType&&e,s=a&&"object"==n(t)&&t&&!t.nodeType&&t,u=s&&s.exports===a?i.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},80405:function(t,e,r){var n=r(72873),i=r(53510);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},73733:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},62247:function(t,e,r){var n=r(72263),i=r(46686),o=r(34808),a=o&&o.isMap,s=a?i(a):n;t.exports=s},53510:function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){var r=e(t);return null!=t&&("object"==r||"function"==r)}},63585:function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return null!=t&&"object"==e(t)}},25290:function(t,e,r){var n=r(72873),i=r(80878),o=r(63585),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f}},68121:function(t,e,r){var n=r(47289),i=r(46686),o=r(34808),a=o&&o.isSet,s=a?i(a):n;t.exports=s},18473:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(72873),o=r(63585);t.exports=function(t){return"symbol"==n(t)||o(t)&&"[object Symbol]"==i(t)}},71372:function(t,e,r){var n=r(4780),i=r(46686),o=r(34808),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},17145:function(t,e,r){var n=r(42908),i=r(90521),o=r(59811);t.exports=function(t){return o(t)?n(t):i(t)}},80066:function(t,e,r){var n=r(42908),i=r(8290),o=r(59811);t.exports=function(t){return o(t)?n(t,!0):i(t)}},72185:function(t){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},27437:function(t,e,r){var n=r(82792);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},14797:function(t,e,r){var n=r(58669),i=r(48338)((function(t,e,r){n(t,e,r)}));t.exports=i},48489:function(t){t.exports=function(){}},7768:function(t,e,r){var n=r(98333),i=r(93380),o=r(17796),a=r(66404),s=r(9086),u=r(87425),c=r(43321),f=r(75080),l=c((function(t,e){var r={};if(null==t)return r;var c=!1;e=n(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,f(t),r),c&&(r=i(r,7,u));for(var l=e.length;l--;)o(r,e[l]);return r}));t.exports=l},45756:function(t,e,r){var n=r(19575),i=r(75612),o=r(52616),a=r(53495),s=n((function(t,e){var r=a(e,o(s));return i(t,64,void 0,e,r)}));s.placeholder={},t.exports=s},12912:function(t,e,r){var n=r(97360),i=r(43321)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},20668:function(t){t.exports=function(){return[]}},40102:function(t){t.exports=function(){return!1}},66063:function(t,e,r){var n=r(53705),i=1/0;t.exports=function(t){return t?(t=n(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},10172:function(t,e,r){var n=r(66063);t.exports=function(t){var e=n(t),r=e%1;return e===e?r?e-r:e:0}},44583:function(t,e,r){var n=r(98554),i=r(10172);t.exports=function(t){return t?n(i(t),0,4294967295):0}},53705:function(t,e,r){var n=r(25261),i=r(53510),o=r(18473),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},72161:function(t,e,r){var n=r(9086),i=r(80066);t.exports=function(t){return n(t,i(t))}},26453:function(t,e,r){var n=r(61461);t.exports=function(t){return null==t?"":n(t)}},46136:function(t,e,r){var n=r(71704);t.exports=function(t){return t&&t.length?n(t):[]}},79319:function(t,e,r){var n=r(38627),i=r(53910),o=r(34600),a=r(33420),s=r(63585),u=r(92392),c=Object.prototype.hasOwnProperty;function f(t){if(s(t)&&!a(t)&&!(t instanceof n)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}f.prototype=o.prototype,f.prototype.constructor=f,t.exports=f},35233:function(t,e,r){var n=r(46933);function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.aes.Algorithm(t,e)}))}r(73495),r(13039),r(26980),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=y({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return y({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=y({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return y({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){f||h();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return d(r._w,t,e,!1)},decrypt:function(t,e){return d(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!==typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var o=e.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)r.push(e.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(r,t.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(t,e){return f||h(),p(t,e)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var o,a,s,u,c,f=!1,l=4;function h(){f=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;o=new Array(256),a=new Array(256),u=new Array(4),c=new Array(4);for(e=0;e<4;++e)u[e]=new Array(256),c[e]=new Array(256);var r,n,i,l,h,p,d,y=0,v=0;for(e=0;e<256;++e){l=(l=v^v<<1^v<<2^v<<3^v<<4)>>8^255&l^99,o[y]=l,a[l]=y,p=(h=t[l])<<24^l<<16^l<<8^l^h,d=((r=t[y])^(n=t[r])^(i=t[n]))<<24^(y^i)<<16^(y^n^i)<<8^y^r^i;for(var g=0;g<4;++g)u[g][y]=p,c[g][l]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===y?y=v=1:(y=r^t[t[t[r^i]]],v^=t[t[v]])}}function p(t,e){for(var r,n=t.slice(0),i=1,a=n.length,u=l*(a+6+1),f=a;f<u;++f)r=n[f-1],f%a===0?(r=o[r>>>16&255]<<24^o[r>>>8&255]<<16^o[255&r]<<8^o[r>>>24]^s[i]<<24,i++):a>6&&f%a===4&&(r=o[r>>>24]<<24^o[r>>>16&255]<<16^o[r>>>8&255]<<8^o[255&r]),n[f]=n[f-a]^r;if(e){for(var h,p=c[0],d=c[1],y=c[2],v=c[3],g=n.slice(0),m=(f=0,(u=n.length)-l);f<u;f+=l,m-=l)if(0===f||f===u-l)g[f]=n[m],g[f+1]=n[m+3],g[f+2]=n[m+2],g[f+3]=n[m+1];else for(var b=0;b<l;++b)h=n[m+b],g[f+(3&-b)]=p[o[h>>>24]]^d[o[h>>>16&255]]^y[o[h>>>8&255]]^v[o[255&h]];n=g}return n}function d(t,e,r,n){var i,s,f,l,h,p,d,y,v,g,m,b,w=t.length/4-1;n?(i=c[0],s=c[1],f=c[2],l=c[3],h=a):(i=u[0],s=u[1],f=u[2],l=u[3],h=o),p=e[0]^t[0],d=e[n?3:1]^t[1],y=e[2]^t[2],v=e[n?1:3]^t[3];for(var E=3,S=1;S<w;++S)g=i[p>>>24]^s[d>>>16&255]^f[y>>>8&255]^l[255&v]^t[++E],m=i[d>>>24]^s[y>>>16&255]^f[v>>>8&255]^l[255&p]^t[++E],b=i[y>>>24]^s[v>>>16&255]^f[p>>>8&255]^l[255&d]^t[++E],v=i[v>>>24]^s[p>>>16&255]^f[d>>>8&255]^l[255&y]^t[++E],p=g,d=m,y=b;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[y>>>8&255]<<8^h[255&v]^t[++E],r[n?3:1]=h[d>>>24]<<24^h[y>>>16&255]<<16^h[v>>>8&255]<<8^h[255&p]^t[++E],r[2]=h[y>>>24]<<24^h[v>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^t[++E],r[n?1:3]=h[v>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&y]^t[++E]}function y(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},73873:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933);r(26980),r(92625);var o=t.exports=i.asn1=i.asn1||{};function a(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}o.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},o.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},o.create=function(t,e,r,n,a){if(i.util.isArray(n)){for(var s=[],u=0;u<n.length;++u)void 0!==n[u]&&s.push(n[u]);n=s}var c={tagClass:t,type:e,constructed:r,composed:r||i.util.isArray(n),value:n};return a&&"bitStringContents"in a&&(c.bitStringContents=a.bitStringContents,c.original=o.copy(c)),c},o.copy=function(t,e){var r;if(i.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(o.copy(t[n],e));return r}return"string"===typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:o.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},o.equals=function(t,e,r){if(i.util.isArray(t)){if(!i.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var a=0;a<t.length;++a)if(!o.equals(t[a],e[a]))return!1;return!0}if(n(t)!==n(e))return!1;if("string"===typeof t)return t===e;var s=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&o.equals(t.value,e.value);return r&&r.includeBitStringContents&&(s=s&&t.bitStringContents===e.bitStringContents),s},o.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e};function s(t,e,r,n){var i;a(t,e,2);var u=t.getByte();e--;var c=192&u,f=31&u;i=t.length();var l,h,p=function(t,e){var r=t.getByte();if(e--,128!==r){var n;if(128&r){var i=127&r;a(t,e,i),n=t.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,e);if(e-=i-t.length(),void 0!==p&&p>e){if(n.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=e,d.requested=p,d}p=e}var y=32===(32&u);if(y)if(l=[],void 0===p)for(;;){if(a(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),l.push(s(t,e,r+1,n)),e-=i-t.length()}else for(;p>0;)i=t.length(),l.push(s(t,p,r+1,n)),e-=i-t.length(),p-=i-t.length();if(void 0===l&&c===o.Class.UNIVERSAL&&f===o.Type.BITSTRING&&(h=t.bytes(p)),void 0===l&&n.decodeBitStrings&&c===o.Class.UNIVERSAL&&f===o.Type.BITSTRING&&p>1){var v=t.read,g=e,m=0;if(f===o.Type.BITSTRING&&(a(t,e,1),m=t.getByte(),e--),0===m)try{i=t.length();var b=s(t,e,r+1,{strict:!0,decodeBitStrings:!0}),w=i-t.length();e-=w,f==o.Type.BITSTRING&&w++;var E=b.tagClass;w!==p||E!==o.Class.UNIVERSAL&&E!==o.Class.CONTEXT_SPECIFIC||(l=[b])}catch(C){}void 0===l&&(t.read=v,e=g)}if(void 0===l){if(void 0===p){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=e}if(f===o.Type.BMPSTRING)for(l="";p>0;p-=2)a(t,e,2),l+=String.fromCharCode(t.getInt16()),e-=2;else l=t.getBytes(p),e-=p}var S=void 0===h?null:{bitStringContents:h};return o.create(c,f,y,l,S)}o.fromDer=function(t,e){void 0===e&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"===typeof e&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),"string"===typeof t&&(t=i.util.createBuffer(t));var r=t.length(),n=s(t,t.length(),0,e);if(e.parseAllBytes&&0!==t.length()){var o=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=r,o.remaining=t.length(),o}return n},o.toDer=function(t){var e=i.util.createBuffer(),r=t.tagClass|t.type,n=i.util.createBuffer(),a=!1;if("bitStringContents"in t&&(a=!0,t.original&&(a=o.equals(t,t.original))),a)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)void 0!==t.value[s]&&n.putBuffer(o.toDer(t.value[s]))}else if(t.type===o.Type.BMPSTRING)for(s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===o.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0===(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128===(128&t.value.charCodeAt(1)))?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(127&n.length());else{var u=n.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);e.putByte(128|c.length);for(s=c.length-1;s>=0;--s)e.putByte(c.charCodeAt(s))}return e.putBuffer(n),e},o.oidToDer=function(t){var e,r,n,o,a=t.split("."),s=i.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var u=2;u<a.length;++u){e=!0,r=[],n=parseInt(a[u],10);do{o=127&n,n>>>=7,e||(o|=128),r.push(o),e=!1}while(n>0);for(var c=r.length-1;c>=0;--c)s.putByte(r[c])}return s},o.derToOid=function(t){var e;"string"===typeof t&&(t=i.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)n<<=7,128&(r=t.getByte())?n+=127&r:(e+="."+(n+r),n=0);return e},o.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),c&&("+"===(u=t.charAt(c))||"-"===u)){var f=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);f*=6e4,"+"===u?e.setTime(+e-f):e.setTime(+e+f)}return e},o.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;"Z"===t.charAt(t.length-1)&&(f=!0);var l=t.length-5,h=t.charAt(l);"+"!==h&&"-"!==h||(c=60*parseInt(t.substr(l+1,2),10)+parseInt(t.substr(l+4,2),10),c*=6e4,"+"===h&&(c*=-1),f=!0);return"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,a,s,u)),e},o.dateToUtcTime=function(t){if("string"===typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},o.dateToGeneralizedTime=function(t){if("string"===typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},o.integerToDer=function(t){var e=i.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},o.derToInteger=function(t){"string"===typeof t&&(t=i.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},o.validate=function(t,e,r,n){var a=!1;if(t.tagClass!==e.tagClass&&"undefined"!==typeof e.tagClass||t.type!==e.type&&"undefined"!==typeof e.type)n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));else if(t.constructed===e.constructed||"undefined"===typeof e.constructed){if(a=!0,e.value&&i.util.isArray(e.value))for(var s=0,u=0;a&&u<e.value.length;++u)a=e.value[u].optional||!1,t.value[s]&&((a=o.validate(t.value[s],e.value[u],r,n))?++s:e.value[u].optional&&(a=!0)),!a&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(a&&r)if(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');return a};var u=/[^\\u0000-\\u00ff]/;o.prettyPrint=function(t,e,r){var n="";r=r||2,(e=e||0)>0&&(n+="\n");for(var a="",s=0;s<e*r;++s)a+=" ";switch(n+=a+"Tag: ",t.tagClass){case o.Class.UNIVERSAL:n+="Universal:";break;case o.Class.APPLICATION:n+="Application:";break;case o.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case o.Class.PRIVATE:n+="Private:"}if(t.tagClass===o.Class.UNIVERSAL)switch(n+=t.type,t.type){case o.Type.NONE:n+=" (None)";break;case o.Type.BOOLEAN:n+=" (Boolean)";break;case o.Type.INTEGER:n+=" (Integer)";break;case o.Type.BITSTRING:n+=" (Bit string)";break;case o.Type.OCTETSTRING:n+=" (Octet string)";break;case o.Type.NULL:n+=" (Null)";break;case o.Type.OID:n+=" (Object Identifier)";break;case o.Type.ODESC:n+=" (Object Descriptor)";break;case o.Type.EXTERNAL:n+=" (External or Instance of)";break;case o.Type.REAL:n+=" (Real)";break;case o.Type.ENUMERATED:n+=" (Enumerated)";break;case o.Type.EMBEDDED:n+=" (Embedded PDV)";break;case o.Type.UTF8:n+=" (UTF8)";break;case o.Type.ROID:n+=" (Relative Object Identifier)";break;case o.Type.SEQUENCE:n+=" (Sequence)";break;case o.Type.SET:n+=" (Set)";break;case o.Type.PRINTABLESTRING:n+=" (Printable String)";break;case o.Type.IA5String:n+=" (IA5String (ASCII))";break;case o.Type.UTCTIME:n+=" (UTC time)";break;case o.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case o.Type.BMPSTRING:n+=" (BMP String)"}else n+=t.type;if(n+="\n",n+=a+"Constructed: "+t.constructed+"\n",t.composed){var c=0,f="";for(s=0;s<t.value.length;++s)void 0!==t.value[s]&&(c+=1,f+=o.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(f+=","));n+=a+"Sub values: "+c+f}else{if(n+=a+"Value: ",t.type===o.Type.OID){var l=o.derToOid(t.value);n+=l,i.pki&&i.pki.oids&&l in i.pki.oids&&(n+=" ("+i.pki.oids[l]+") ")}if(t.type===o.Type.INTEGER)try{n+=o.derToInteger(t.value)}catch(p){n+="0x"+i.util.bytesToHex(t.value)}else if(t.type===o.Type.BITSTRING){if(t.value.length>1?n+="0x"+i.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var h=t.value.charCodeAt(0);1==h?n+=" (1 unused bit shown)":h>1&&(n+=" ("+h+" unused bits shown)")}}else if(t.type===o.Type.OCTETSTRING)u.test(t.value)||(n+="("+t.value+") "),n+="0x"+i.util.bytesToHex(t.value);else if(t.type===o.Type.UTF8)try{n+=i.util.decodeUtf8(t.value)}catch(d){if("URI malformed"!==d.message)throw d;n+="0x"+i.util.bytesToHex(t.value)+" (malformed UTF8)"}else t.type===o.Type.PRINTABLESTRING||t.type===o.Type.IA5String?n+=t.value:u.test(t.value)?n+="0x"+i.util.bytesToHex(t.value):0===t.value.length?n+="[null]":n+=t.value}return n}},69375:function(t){var e={};t.exports=e;var r={};e.encode=function(t,e,r){if("string"!==typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!==typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(t instanceof Uint8Array){var i=0,o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var a=0,s=t.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;0===t.at(r)&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}(t,e);if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join("\r\n")}return n},e.decode=function(t,e){if("string"!==typeof t)throw new TypeError('"input" must be a string.');if("string"!==typeof e)throw new TypeError('"alphabet" must be a string.');var n=r[e];if(!n){n=r[e]=[];for(var i=0;i<e.length;++i)n[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");var o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;i++){var u=n[t.charCodeAt(i)];if(void 0===u)return;for(var c=0,f=u;c<s.length;++c)f+=s[c]*o,s[c]=255&f,f>>=8;for(;f>0;)s.push(255&f),f>>=8}for(var l=0;t[l]===a&&l<t.length-1;++l)s.push(0);return"undefined"!==typeof Buffer?Buffer.from(s.reverse()):new Uint8Array(s.reverse())}},73495:function(t,e,r){var n=r(46933);r(26980),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"===typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"===typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},13039:function(t,e,r){var n=r(46933);r(26980),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function o(t,e){if("string"===typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var r=t;t=n.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!n.util.isArray(t)){var o=[],a=e/4;for(i=0;i<a;++i)o.push(t.getInt32());t=o}return t}function a(t){t[t.length-1]=t[t.length-1]+1&4294967295}function s(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=s(8*e.length());var o=e.length()%this.blockSize;for(o&&e.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=(n-1-a%n)*e;s[a/n|0]=1<<e-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}},26610:function(t,e,r){var n=r(46933);function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.des.Algorithm(t,e)}))}r(73495),r(13039),r(26980),t.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return p(r._keys,t,e,!1)},decrypt:function(t,e){return p(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=t.length()>8?3:1,g=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<v;w++){var E=t.getInt32(),S=t.getInt32();E^=(e=252645135&(E>>>4^S))<<4,E^=e=65535&((S^=e)>>>-16^E),E^=(e=858993459&(E>>>2^(S^=e<<-16)))<<2,E^=e=65535&((S^=e)>>>-16^E),E^=(e=1431655765&(E>>>1^(S^=e<<-16)))<<1,E^=e=16711935&((S^=e)>>>8^E),e=(E^=(e=1431655765&(E>>>1^(S^=e<<8)))<<1)<<8|(S^=e)>>>20&240,E=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=e;for(var C=0;C<m.length;++C){m[C]?(E=E<<2|E>>>26,S=S<<2|S>>>26):(E=E<<1|E>>>27,S=S<<1|S>>>27),S&=-15;var _=r[(E&=-15)>>>28]|n[E>>>24&15]|i[E>>>20&15]|o[E>>>16&15]|a[E>>>12&15]|s[E>>>8&15]|u[E>>>4&15],T=c[S>>>28]|f[S>>>24&15]|l[S>>>20&15]|h[S>>>16&15]|p[S>>>12&15]|d[S>>>8&15]|y[S>>>4&15];e=65535&(T>>>16^_),g[b++]=_^e,g[b++]=T^e<<16}}return g}(e),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(t,e,r,n){var i,p,d=32===t.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=e[0],v=e[1];y^=(p=252645135&(y>>>4^v))<<4,y^=(p=65535&(y>>>16^(v^=p)))<<16,y^=p=858993459&((v^=p)>>>2^y),y^=p=16711935&((v^=p<<2)>>>8^y),y=(y^=(p=1431655765&(y>>>1^(v^=p<<8)))<<1)<<1|y>>>31,v=(v^=p)<<1|v>>>31;for(var g=0;g<d;g+=3){for(var m=i[g+1],b=i[g+2],w=i[g];w!=m;w+=b){var E=v^t[w],S=(v>>>4|v<<28)^t[w+1];p=y,y=v,v=p^(a[E>>>24&63]|u[E>>>16&63]|f[E>>>8&63]|h[63&E]|o[S>>>24&63]|s[S>>>16&63]|c[S>>>8&63]|l[63&S])}p=y,y=v,v=p}v=v>>>1|v<<31,v^=p=1431655765&((y=y>>>1|y<<31)>>>1^v),v^=(p=16711935&(v>>>8^(y^=p<<1)))<<8,v^=(p=858993459&(v>>>2^(y^=p)))<<2,v^=p=65535&((y^=p)>>>16^v),v^=p=252645135&((y^=p<<16)>>>4^v),y^=p<<4,r[0]=y,r[1]=v}function d(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},46933:function(t){t.exports={options:{usePureJavaScript:!1}}},27515:function(t,e,r){var n=r(46933);r(71269),r(26980),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,o={start:function(o,a){if(null!==o)if("string"===typeof o){if(!((o=o.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');e=n.md.algorithms[o].create()}else e=o;if(null===a)a=t;else{if("string"===typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var s=a;a=n.util.createBuffer();for(var u=0;u<s.length;++u)a.putByte(s[u])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=a.length();for(u=0;u<c;++u){s=a.at(u);r.putByte(54^s),i.putByte(92^s)}if(c<e.blockLength)for(s=e.blockLength-c,u=0;u<s;++u)r.putByte(54),i.putByte(92);t=a,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return o.digest=o.getMac,o}},73183:function(t,e,r){var n,i=r(46933);t.exports=i.jsbn=i.jsbn||{};function o(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function a(){return new o(null)}function s(t,e,r,n,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,f=s*u+c*a;i=((u=a*u+((16383&f)<<14)+r.data[n]+i)>>28)+(f>>14)+s*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=o,"undefined"===typeof navigator?(o.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,f=s*u+c*a;i=((u=a*u+((32767&f)<<15)+r.data[n]+(1073741823&i))>>>30)+(f>>>15)+s*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(o.prototype.am=s,n=28),o.prototype.DB=n,o.prototype.DM=(1<<n)-1,o.prototype.DV=1<<n;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-n,o.prototype.F2=2*n-52;var u,c,f="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function h(t){return f.charAt(t)}function p(t,e){var r=l[t.charCodeAt(e)];return null==r?-1:r}function d(t){var e=a();return e.fromInt(t),e}function y(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function v(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function m(t,e){return t&e}function b(t,e){return t|e}function w(t,e){return t^e}function E(t,e){return t&~e}function S(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function C(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function _(){}function T(t){return t}function k(t){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}v.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},v.prototype.revert=function(t){return t},v.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},v.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},v.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=a();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=a();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},o.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},o.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var s=8==r?255&t[n]:p(t,n);s<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},o.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},o.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},o.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)e.data[r]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},o.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},o.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},o.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)},o.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},o.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var s=a(),u=this.s,c=t.s,f=this.DB-y(n.data[n.t-1]);f>0?(n.lShiftTo(f,s),i.lShiftTo(f,r)):(n.copyTo(s),i.copyTo(r));var l=s.t,h=s.data[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?s.data[l-2]>>this.F2:0),d=this.FV/p,v=(1<<this.F1)/p,g=1<<this.F2,m=r.t,b=m-l,w=null==e?a():e;for(s.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),o.ONE.dlShiftTo(l,w),w.subTo(s,s);s.t<l;)s.data[s.t++]=0;for(;--b>=0;){var E=r.data[--m]==h?this.DM:Math.floor(r.data[m]*d+(r.data[m-1]+g)*v);if((r.data[m]+=s.am(0,E,r,b,0,l))<E)for(s.dlShiftTo(b,w),r.subTo(w,r);r.data[m]<--E;)r.subTo(w,r)}null!=e&&(r.drShiftTo(l,e),u!=c&&o.ZERO.subTo(e,e)),r.t=l,r.clamp(),f>0&&r.rShiftTo(f,r),u<0&&o.ZERO.subTo(r,r)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(t,e){if(t>4294967295||t<1)return o.ONE;var r=a(),n=a(),i=e.convert(this),s=y(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)},o.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(i=!0,o=h(r));a>=0;)s<e?(r=(this.data[a]&(1<<s)-1)<<e-s,r|=this.data[--a]>>(s+=this.DB-e)):(r=this.data[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=h(r));return i?o:"0"},o.prototype.negate=function(){var t=a();return o.ZERO.subTo(this,t),t},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(t){var e=a();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e},o.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new v(e):new g(e),this.exp(t,r)},o.ZERO=d(0),o.ONE=d(1),_.prototype.convert=T,_.prototype.revert=T,_.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},_.prototype.sqrTo=function(t,e){t.squareTo(e)},k.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=a();return t.copyTo(e),this.reduce(e),e},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},k.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/A[A.length-1];o.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},o.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=d(r),i=a(),o=a(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},o.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,s=0,u=0;u<t.length;++u){var c=p(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(s=e*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},o.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},o.prototype.changeBit=function(t,e){var r=o.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},o.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},o.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},o.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},o.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},o.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},o.prototype.millerRabin=function(t){var e=this.subtract(o.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),a={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},s=0;s<t;++s){do{n=new o(this.bitLength(),a)}while(n.compareTo(o.ONE)<=0||n.compareTo(e)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},o.prototype.clone=function(){var t=a();return this.copyTo(t),t},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},o.prototype.equals=function(t){return 0==this.compareTo(t)},o.prototype.min=function(t){return this.compareTo(t)<0?this:t},o.prototype.max=function(t){return this.compareTo(t)>0?this:t},o.prototype.and=function(t){var e=a();return this.bitwiseTo(t,m,e),e},o.prototype.or=function(t){var e=a();return this.bitwiseTo(t,b,e),e},o.prototype.xor=function(t){var e=a();return this.bitwiseTo(t,w,e),e},o.prototype.andNot=function(t){var e=a();return this.bitwiseTo(t,E,e),e},o.prototype.not=function(){for(var t=a(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},o.prototype.shiftLeft=function(t){var e=a();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},o.prototype.shiftRight=function(t){var e=a();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},o.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+S(this.data[t]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=C(this.data[r]^e);return t},o.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},o.prototype.setBit=function(t){return this.changeBit(t,b)},o.prototype.clearBit=function(t){return this.changeBit(t,E)},o.prototype.flipBit=function(t){return this.changeBit(t,w)},o.prototype.add=function(t){var e=a();return this.addTo(t,e),e},o.prototype.subtract=function(t){var e=a();return this.subTo(t,e),e},o.prototype.multiply=function(t){var e=a();return this.multiplyTo(t,e),e},o.prototype.divide=function(t){var e=a();return this.divRemTo(t,e,null),e},o.prototype.remainder=function(t){var e=a();return this.divRemTo(t,null,e),e},o.prototype.divideAndRemainder=function(t){var e=a(),r=a();return this.divRemTo(t,e,r),new Array(e,r)},o.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=d(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new v(e):e.isEven()?new k(e):new g(e);var s=new Array,u=3,c=r-1,f=(1<<r)-1;if(s[1]=n.convert(this),r>1){var l=a();for(n.sqrTo(s[1],l);u<=f;)s[u]=a(),n.mulTo(l,s[u-2],s[u]),u+=2}var h,p,m=t.t-1,b=!0,w=a();for(i=y(t.data[m])-1;m>=0;){for(i>=c?h=t.data[m]>>i-c&f:(h=(t.data[m]&(1<<i+1)-1)<<c-i,m>0&&(h|=t.data[m-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),b)s[h].copyTo(o),b=!1;else{for(;u>1;)n.sqrTo(o,w),n.sqrTo(w,o),u-=2;u>0?n.sqrTo(o,w):(p=o,o=w,w=p),n.mulTo(w,s[h],o)}for(;m>=0&&0==(t.data[m]&1<<i);)n.sqrTo(o,w),p=o,o=w,w=p,--i<0&&(i=this.DB-1,--m)}return n.revert(o)},o.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var r=t.clone(),n=this.clone(),i=d(1),a=d(0),s=d(0),u=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),a.subTo(u,a)):(n.subTo(r,n),e&&s.subTo(i,s),u.subTo(a,u))}return 0!=n.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},o.prototype.pow=function(t){return this.exp(t,new _)},o.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},o.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(r.data[0]==A[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<A.length;){for(var n=A[e],i=e+1;i<A.length&&n<I;)n*=A[i++];for(n=r.modInt(n);e<i;)if(n%A[e++]==0)return!1}return r.millerRabin(t)}},71269:function(t,e,r){var n=r(46933);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},33552:function(t,e,r){var n=r(46933);r(46609),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},46609:function(t,e,r){var n=r(46933);r(26980),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,o=Math.ceil(r/t.digestLength),a=0;a<o;a++){var s=new n.util.ByteBuffer;s.putInt32(a),t.start(),t.update(e+s.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},92625:function(t,e,r){var n=r(46933);n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function o(t,e){i[t]=e,i[e]=t}function a(t,e){i[t]=e}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.3.101.112","EdDSA25519"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("1.3.14.3.2.29","sha1WithRSASignature"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("2.16.840.1.101.3.4.2.4","sha224"),o("2.16.840.1.101.3.4.2.5","sha512-224"),o("2.16.840.1.101.3.4.2.6","sha512-256"),o("1.2.840.113549.2.2","md2"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.4","surname"),o("2.5.4.5","serialNumber"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.9","streetAddress"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.5.4.12","title"),o("2.5.4.13","description"),o("2.5.4.15","businessCategory"),o("2.5.4.17","postalCode"),o("2.5.4.42","givenName"),o("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),o("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),o("2.16.840.1.113730.1.1","nsCertType"),o("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},60619:function(t,e,r){var n=r(46933);if(r(35233),r(73873),r(26610),r(71269),r(92625),r(29249),r(98960),r(91664),r(19825),r(84728),r(26980),"undefined"===typeof i)var i=n.jsbn.BigInteger;var o=n.asn1,a=n.pki=n.pki||{};t.exports=a.pbe=n.pbe=n.pbe||{};var s=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function l(t,e){return t.start().update(e).digest().getBytes()}function h(t){var e;if(t){if(!(e=a.oids[o.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return p(e)}function p(t){var e=n.md;switch(t){case"hmacWithSHA224":e=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}a.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,c,f=n.random.getBytesSync(r.saltSize),l=r.count,h=o.integerToDer(l);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,y,v;switch(r.algorithm){case"aes128":i=16,d=16,y=s["aes128-CBC"],v=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,y=s["aes192-CBC"],v=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,y=s["aes256-CBC"],v=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,y=s.desCBC,v=n.des.createEncryptionCipher;break;default:throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),m=p(g),b=n.pkcs5.pbkdf2(e,f,l,i,m),w=n.random.getBytesSync(d);(C=v(b)).start(w),C.update(o.toDer(t)),C.finish(),c=C.output.getBytes();var E=function(t,e,r,i){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,e.getBytes())]);"hmacWithSHA1"!==i&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return s}(f,h,i,g);u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),E]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(y).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,w)])])])}else{var S;if("3des"!==r.algorithm)throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S;i=24;var C,_=new n.util.ByteBuffer(f);b=a.pbe.generatePkcs12Key(e,_,1,l,i),w=a.pbe.generatePkcs12Key(e,_,2,l,i);(C=n.des.createEncryptionCipher(b)).start(w),C.update(o.toDer(t)),C.finish(),c=C.output.getBytes(),u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,h.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[u,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(t,e){var r=null,i={},s=[];if(!o.validate(t,u,i,s)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=s,c}var f=o.derToOid(i.encryptionOid),l=a.pbe.getCipher(f,i.encryptionParams,e),h=n.util.createBuffer(i.encryptedData);return l.update(h),l.finish()&&(r=o.fromDer(l.output)),r},a.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})},a.encryptedPrivateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(e.body)},a.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));return i=a.encryptPrivateKeyInfo(i,e,r),a.encryptedPrivateKeyToPem(i)}var s,u,c,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",c=16,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",c=24,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",c=32,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",c=24,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",c=8,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var h=f(n.pbe.opensslDeriveBytes(e,u.substr(0,8),c));h.start(u),h.update(o.toDer(a.privateKeyToAsn1(t))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},a.decryptRsaPrivateKey=function(t,e){var r=null,i=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,u;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,u=function(t){return n.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":s=8,u=function(t){return n.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":s=16,u=function(t){return n.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var f=n.util.hexToBytes(i.dekInfo.parameters),l=u(n.pbe.opensslDeriveBytes(e,f.substr(0,8),s));if(l.start(f),l.update(n.util.createBuffer(i.body)),!l.finish())return r;r=l.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(r),e):o.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(t,e,r,i,o,a){var s,u;if("undefined"===typeof a||null===a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var c=a.digestLength,f=a.blockLength,l=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!==t&&void 0!==t){for(u=0;u<t.length;u++)h.putInt16(t.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=e.length(),y=new n.util.ByteBuffer;y.fillWithByte(r,f);var v=f*Math.ceil(d/f),g=new n.util.ByteBuffer;for(u=0;u<v;u++)g.putByte(e.at(u%d));var m=f*Math.ceil(p/f),b=new n.util.ByteBuffer;for(u=0;u<m;u++)b.putByte(h.at(u%p));var w=g;w.putBuffer(b);for(var E=Math.ceil(o/c),S=1;S<=E;S++){var C=new n.util.ByteBuffer;C.putBytes(y.bytes()),C.putBytes(w.bytes());for(var _=0;_<i;_++)a.start(),a.update(C.getBytes()),C=a.digest();var T=new n.util.ByteBuffer;for(u=0;u<f;u++)T.putByte(C.at(u%c));var k=Math.ceil(d/f)+Math.ceil(p/f),A=new n.util.ByteBuffer;for(s=0;s<k;s++){var I=new n.util.ByteBuffer(w.getBytes(f)),B=511;for(u=T.length()-1;u>=0;u--)B>>=8,B+=T.at(u)+I.at(u),I.setAt(u,255&B);A.putBuffer(I)}w=A,l.putBuffer(C)}return l.truncate(l.length()-o),l},a.pbe.getCipher=function(t,e,r){switch(t){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(t,e,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(t,e,r){var i,s={},u=[];if(!o.validate(e,c,s,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((t=o.derToOid(s.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,i.supportedOids=["pkcs5PBKDF2"],i;if((t=o.derToOid(s.encOid))!==a.oids["aes128-CBC"]&&t!==a.oids["aes192-CBC"]&&t!==a.oids["aes256-CBC"]&&t!==a.oids["des-EDE3-CBC"]&&t!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var f,l,p=s.kdfSalt,d=n.util.createBuffer(s.kdfIterationCount);switch(d=d.getInt(d.length()<<3),a.oids[t]){case"aes128-CBC":f=16,l=n.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,l=n.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,l=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,l=n.des.createDecryptionCipher;break;case"desCBC":f=8,l=n.des.createDecryptionCipher}var y=h(s.prfOid),v=n.pkcs5.pbkdf2(r,p,d,f,y),g=s.encIv,m=l(v);return m.start(g),m},a.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},s=[];if(!o.validate(e,f,i,s))throw(y=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,y;var u,c,l,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),t){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,l=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,l=function(t,e){var r=n.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var y;throw(y=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,y}var v=h(i.prfOid),g=a.pbe.generatePkcs12Key(r,p,1,d,u,v);return v.start(),l(g,a.pbe.generatePkcs12Key(r,p,2,d,c,v))},a.pbe.opensslDeriveBytes=function(t,e,r,i){if("undefined"===typeof i||null===i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===e&&(e="");for(var o=[l(i,t+e)],a=16,s=1;a<r;++s,a+=16)o.push(l(i,o[s-1]+t+e));return o.join("").substr(0,r)}},29249:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933);r(27515),r(71269),r(26980);var o,a=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(o=r(50310)),t.exports=i.pbkdf2=a.pbkdf2=function(t,e,r,a,s,u){if("function"===typeof s&&(u=s,s=null),i.util.isNodejs&&!i.options.usePureJavaScript&&o.pbkdf2&&(null===s||"object"!==n(s))&&(o.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!==typeof s&&(s="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),u?4===o.pbkdf2Sync.length?o.pbkdf2(t,e,r,a,(function(t,e){if(t)return u(t);u(null,e.toString("binary"))})):o.pbkdf2(t,e,r,a,s,(function(t,e){if(t)return u(t);u(null,e.toString("binary"))})):4===o.pbkdf2Sync.length?o.pbkdf2Sync(t,e,r,a).toString("binary"):o.pbkdf2Sync(t,e,r,a,s).toString("binary");if("undefined"!==typeof s&&null!==s||(s="sha1"),"string"===typeof s){if(!(s in i.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=i.md[s].create()}var c=s.digestLength;if(a>4294967295*c){var f=new Error("Derived key is too long.");if(u)return u(f);throw f}var l=Math.ceil(a/c),h=a-(l-1)*c,p=i.hmac.create();p.start(s,t);var d,y,v,g="";if(!u){for(var m=1;m<=l;++m){p.start(null,null),p.update(e),p.update(i.util.int32ToBytes(m)),d=v=p.digest().getBytes();for(var b=2;b<=r;++b)p.start(null,null),p.update(v),y=p.digest().getBytes(),d=i.util.xorBytes(d,y,c),v=y;g+=m<l?d:d.substr(0,h)}return g}m=1;function w(){if(m>l)return u(null,g);p.start(null,null),p.update(e),p.update(i.util.int32ToBytes(m)),d=v=p.digest().getBytes(),b=2,E()}function E(){if(b<=r)return p.start(null,null),p.update(v),y=p.digest().getBytes(),d=i.util.xorBytes(d,y,c),v=y,++b,i.util.setImmediate(E);g+=m<l?d:d.substr(0,h),++m,w()}w()}},98960:function(t,e,r){var n=r(46933);r(26980);var i=t.exports=n.pem=n.pem||{};function o(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<e.length;++i,++o)if(o>65&&-1!==a){var s=e[a];","===s?(++a,e=e.substr(0,a)+"\r\n "+e.substr(a)):e=e.substr(0,a)+"\r\n"+s+e.substr(a+1),o=i-a-1,a=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(a=i);return e}function a(t){return t.replace(/^\s+/,"")}i.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=o(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=o(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=o(r)),t.headers)for(var a=0;a<t.headers.length;++a)i+=o(t.headers[a]);return t.procType&&(i+="\r\n"),i+=n.util.encode64(t.body,e.maxline||64)+"\r\n",i+="-----END "+t.type+"-----\r\n"},i.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;e=i.exec(t);){var u=e[1];"NEW CERTIFICATE REQUEST"===u&&(u="CERTIFICATE REQUEST");var c={type:u,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(c),e[2]){for(var f=e[2].split(s),l=0;e&&l<f.length;){for(var h=f[l].replace(/\s+$/,""),p=l+1;p<f.length;++p){var d=f[p];if(!/\s/.test(d[0]))break;h+=d,l=p}if(e=h.match(o)){for(var y={name:e[1],values:[]},v=e[2].split(","),g=0;g<v.length;++g)y.values.push(a(v[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==y.name)if(c.dekInfo||"DEK-Info"!==y.name)c.headers.push(y);else{if(0===y.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:v[0],parameters:v[1]||null}}else c.contentDomain=v[0]||"";else{if("Proc-Type"!==y.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==y.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:v[0],type:v[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},84396:function(t,e,r){var n=r(46933);r(26980),r(91664),r(51313);var i=t.exports=n.pkcs1=n.pkcs1||{};function o(t,e,r){r||(r=n.md.sha1.create());for(var i="",o=Math.ceil(e/r.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(t+s),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,a,s,u;"string"===typeof r?(i=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),u||(u=s);var c=Math.ceil(t.n.bitLength()/8),f=c-2*s.digestLength-2;if(e.length>f)throw(v=new Error("RSAES-OAEP input message length is too long.")).length=e.length,v.maxLength=f,v;i||(i=""),s.update(i,"raw");for(var l=s.digest(),h="",p=f-e.length,d=0;d<p;d++)h+="\0";var y=l.getBytes()+h+"\x01"+e;if(a){if(a.length!==s.digestLength){var v;throw(v=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,v.digestLength=s.digestLength,v}}else a=n.random.getBytes(s.digestLength);var g=o(a,c-s.digestLength-1,u),m=n.util.xorBytes(y,g,y.length),b=o(m,s.digestLength,u);return"\0"+n.util.xorBytes(a,b,a.length)+m},i.decode_rsa_oaep=function(t,e,r){var i,a,s;"string"===typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,g.expectedLength=u,g;if(void 0===a?a=n.md.sha1.create():a.start(),s||(s=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var c=a.digest().getBytes(),f=e.charAt(0),l=e.substring(1,a.digestLength+1),h=e.substring(1+a.digestLength),p=o(h,a.digestLength,s),d=o(n.util.xorBytes(l,p,l.length),u-a.digestLength-1,s),y=n.util.xorBytes(h,d,h.length),v=y.substring(0,a.digestLength),g="\0"!==f,m=0;m<a.digestLength;++m)g|=c.charAt(m)!==v.charAt(m);for(var b=1,w=a.digestLength,E=a.digestLength;E<y.length;E++){var S=y.charCodeAt(E);g|=S&(b?65534:0),w+=b&=1&S^1}if(g||1!==y.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(w+1)}},24828:function(t,e,r){var n=r(46933);r(73873),r(27515),r(92625),r(71995),r(60619),r(91664),r(84728),r(51313),r(26980),r(70660);var i=n.asn1,o=n.pki,a=t.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},f={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(t,e,r,n){for(var i=[],o=0;o<t.length;o++)for(var a=0;a<t[o].safeBags.length;a++){var s=t[o].safeBags[a];void 0!==n&&s.type!==n||(null!==e?void 0!==s.attributes[e]&&s.attributes[e].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function p(t){if(t.composed||t.constructed){for(var e=n.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function d(t,e){var r={},a=[];if(!i.validate(t,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=a,s;var s,u=i.derToOid(r.contentType);if(u!==o.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,s;u=i.derToOid(r.encAlgorithm);var c=o.pbe.getCipher(u,r.encParameter,e),f=p(r.encryptedContentAsn1),l=n.util.createBuffer(f.value);if(c.update(l),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function y(t,e,r){if(!e&&0===t.length)return[];if((t=i.fromDer(t,e)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<t.value.length;a++){var s=t.value[a],u={},f=[];if(!i.validate(s,c,u,f))throw(g=new Error("Cannot read SafeBag.")).errors=f,g;var h,p,d={type:i.derToOid(u.bagId),attributes:v(u.bagAttributes)};n.push(d);var y=u.bagValue.value[0];switch(d.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(y=o.decryptPrivateKeyInfo(y,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{d.key=o.privateKeyFromAsn1(y)}catch(m){d.key=null,d.asn1=y}continue;case o.oids.certBag:h=l,p=function(){if(i.derToOid(u.certId)!==o.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=i.derToOid(u.certId),t}var r=i.fromDer(u.cert,e);try{d.cert=o.certificateFromAsn1(r,!0)}catch(m){d.cert=null,d.asn1=r}};break;default:var g;throw(g=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,g}if(void 0!==h&&!i.validate(y,h,u,f))throw(g=new Error("Cannot read PKCS#12 "+h.name)).errors=f,g;p()}return n}function v(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},a=[];if(!i.validate(t[r],f,n,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var u=i.derToOid(n.oid);if(void 0!==o.oids[u]){e[o.oids[u]]=[];for(var c=0;c<n.values.length;++c)e[o.oids[u]].push(n.values[c].value)}}return e}a.pkcs12FromAsn1=function(t,e,r){"string"===typeof e?(r=e,e=!0):void 0===e&&(e=!0);var c={};if(!i.validate(t,u,c,[]))throw(f=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=f,f;var f,l={version:c.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=n.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=h(l.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=h(l.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=h(l.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return h(l.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return h(l.safeContents,"localKeyId",t,e)}};if(3!==c.version.charCodeAt(0))throw(f=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),f;if(i.derToOid(c.contentType)!==o.oids.data)throw(f=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(c.contentType),f;var v=c.content.value[0];if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(v=p(v),c.mac){var g=null,m=0,b=i.derToOid(c.macAlgorithm);switch(b){case o.oids.sha1:g=n.md.sha1.create(),m=20;break;case o.oids.sha256:g=n.md.sha256.create(),m=32;break;case o.oids.sha384:g=n.md.sha384.create(),m=48;break;case o.oids.sha512:g=n.md.sha512.create(),m=64;break;case o.oids.md5:g=n.md.md5.create(),m=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new n.util.ByteBuffer(c.macSalt),E="macIterations"in c?parseInt(n.util.bytesToHex(c.macIterations),16):1,S=a.generateKey(r,w,3,E,m,g),C=n.hmac.create();if(C.start(g,S),C.update(v.value),C.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(t,e,r,n){if(e=i.fromDer(e,r),e.tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<e.value.length;a++){var u=e.value[a],c={},f=[];if(!i.validate(u,s,c,f))throw(g=new Error("Cannot read ContentInfo.")).errors=f,g;var l={encrypted:!1},h=null,v=c.content.value[0];switch(i.derToOid(c.contentType)){case o.oids.data:if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(v).value;break;case o.oids.encryptedData:h=d(v,n),l.encrypted=!0;break;default:var g;throw(g=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(c.contentType),g}l.safeBags=y(h,r,n),t.safeContents.push(l)}}(l,v.value,e,r),l},a.toPkcs12Asn1=function(t,e,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var u,c=s.localKeyId;if(null!==c)c=n.util.hexToBytes(c);else if(s.generateLocalKeyId)if(e){var f=n.util.isArray(e)?e[0]:e;"string"===typeof f&&(f=o.certificateFromPem(f)),(A=n.md.sha1.create()).update(i.toDer(o.certificateToAsn1(f)).getBytes()),c=A.digest().getBytes()}else c=n.random.getBytes(20);var l=[];null!==c&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),"friendlyName"in s&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),l.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,l));var h=[],p=[];null!==e&&(p=n.util.isArray(e)?e:[e]);for(var d=[],y=0;y<p.length;++y){"string"===typeof(e=p[y])&&(e=o.certificateFromPem(e));var v=0===y?u:void 0,g=o.certificateToAsn1(e),m=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(g).getBytes())])])]),v]);d.push(m)}if(d.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);h.push(w)}var E=null;if(null!==t){var S=o.wrapRsaPrivateKey(o.privateKeyToAsn1(t));E=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[S]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(S,r,s)]),u]);var C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[E]),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(C).getBytes())])]);h.push(_)}var T,k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(s.useMac){var A=n.md.sha1.create(),I=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),B=s.count,x=(t=a.generateKey(r,I,3,B,20),n.hmac.create());x.start(A,t),x.update(i.toDer(k).getBytes());var O=x.getMac();T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,I.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(B).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(k).getBytes())])]),T])},a.generateKey=n.pbe.generatePkcs12Key},30442:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933);r(35233),r(73873),r(26610),r(92625),r(98960),r(71995),r(91664),r(26980),r(70660);var o=i.asn1,a=t.exports=i.pkcs7=i.pkcs7||{};function s(t){var e={},r=[];if(!o.validate(t,a.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(e.issuer),serialNumber:i.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:o.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}function u(t){for(var e,r=[],n=0;n<t.length;++n)r.push((e=t[n],o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:e.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.encryptedContent.algorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.encryptedContent.content)])));return r}function c(t){var e=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:t.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,i.util.hexToBytes(t.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.digestAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.signatureAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),e.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var a=t.unauthenticatedAttributes[n];r.values.push(f(a))}e.value.push(r)}return e}function f(t){var e;if(t.type===i.pki.oids.contentType)e=o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.value).getBytes());else if(t.type===i.pki.oids.messageDigest)e=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===i.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),a=t.value;if("string"===typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?o.utcTimeToDate(a):o.generalizedTimeToDate(a):new Date(s)}e=a>=r&&a<n?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(a)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(a))}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[e])])}function l(t,e,r){var n={};if(!o.validate(e,r,n,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(o.derToOid(n.contentType)!==i.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var s="";if(i.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=n.encryptedContent[u].value}else s=n.encryptedContent;t.encryptedContent={algorithm:o.derToOid(n.encAlgorithm),parameter:i.util.createBuffer(n.encParameter.value),content:i.util.createBuffer(s)}}if(n.content){s="";if(i.util.isArray(n.content))for(u=0;u<n.content.length;++u){if(n.content[u].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=n.content[u].value}else s=n.content;t.content=i.util.createBuffer(s)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}function h(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:e=i.aes.createDecryptionCipher(t.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:e=i.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}a.messageFromPem=function(t){var e=i.pem.decode(t)[0];if("PKCS7"!==e.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=o.fromDer(e.body);return a.messageFromAsn1(n)},a.messageToPem=function(t,e){var r={type:"PKCS7",body:o.toDer(t.toAsn1()).getBytes()};return i.pem.encode(r,{maxline:e})},a.messageFromAsn1=function(t){var e={},r=[];if(!o.validate(t,a.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s,u=o.derToOid(e.contentType);switch(u){case i.pki.oids.envelopedData:s=a.createEnvelopedData();break;case i.pki.oids.encryptedData:s=a.createEncryptedData();break;case i.pki.oids.signedData:s=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s},a.createSignedData=function(){var t=null;return t={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(l(t,e,a.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var r=t.rawCapture.certificates.value,n=0;n<r.length;++n)t.certificates.push(i.pki.certificateFromAsn1(r[n]))},toAsn1:function(){t.contentInfo||t.sign();for(var e=[],r=0;r<t.certificates.length;++r)e.push(i.pki.certificateToAsn1(t.certificates[r]));var n=[],a=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return e.length>0&&a.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,e)),n.length>0&&a.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,n)),a.value[0].value.push(o.create(o.Class.UNIVERSAL,o.Type.SET,!0,t.signerInfos)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.type).getBytes()),a])},addSigner:function(e){var r=e.issuer,n=e.serialNumber;if(e.certificate){var o=e.certificate;"string"===typeof o&&(o=i.pki.certificateFromPem(o)),r=o.issuer.attributes,n=o.serialNumber}var a=e.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof a&&(a=i.pki.privateKeyFromPem(a));var s=e.digestAlgorithm||i.pki.oids.sha1;switch(s){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=e.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,l=0;l<u.length;++l){var h=u[l];if(c||h.type!==i.pki.oids.contentType){if(f||h.type!==i.pki.oids.messageDigest);else if(f=!0,c)break}else if(c=!0,f)break}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:a,version:1,issuer:r,serialNumber:n,digestAlgorithm:s,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(e){var r;(e=e||{},"object"!==n(t.content)||null===t.contentInfo)&&(t.contentInfo=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.pki.oids.data).getBytes())]),"content"in t&&(t.content instanceof i.util.ByteBuffer?r=t.content.bytes():"string"===typeof t.content&&(r=i.util.encodeUtf8(t.content)),e.detached?t.detachedContent=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r):t.contentInfo.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)]))));0!==t.signers.length&&function(e){var r;r=t.detachedContent?t.detachedContent:(r=t.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var n=o.derToOid(t.contentInfo.value[0].value),a=o.toDer(r);for(var s in a.getByte(),o.getBerValueLength(a),a=a.getBytes(),e)e[s].start().update(a);for(var u=new Date,l=0;l<t.signers.length;++l){var h=t.signers[l];if(0===h.authenticatedAttributes.length){if(n!==i.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var y=h.authenticatedAttributes[d];y.type===i.pki.oids.messageDigest?y.value=e[h.digestAlgorithm].digest():y.type===i.pki.oids.signingTime&&(y.value||(y.value=u)),p.value.push(f(y)),h.authenticatedAttributesAsn1.value.push(f(y))}a=o.toDer(p).getBytes(),h.md.start().update(a)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(c(t[r]));return e}(t.signers)}(function(){for(var e={},r=0;r<t.signers.length;++r){var n=t.signers[r];(a=n.digestAlgorithm)in e||(e[a]=i.md[i.pki.oids[a]].create()),0===n.authenticatedAttributes.length?n.md=e[a]:n.md=i.md[i.pki.oids[a]].create()}for(var a in t.digestAlgorithmIdentifiers=[],e)t.digestAlgorithmIdentifiers.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return e}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"===typeof e&&(e=i.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},a.createEncryptedData=function(){var t=null;return t={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(e){l(t,e,a.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),h(t)}}},a.createEnvelopedData=function(){var t=null;return t={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=l(t,e,a.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(s(t[r]));return e}(r.recipientInfos.value)},toAsn1:function(){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.type).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,u(t.recipients)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,(e=t.encryptedContent,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.pki.oids.data).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.algorithm).getBytes()),e.parameter?o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.content.getBytes())])]))])])]);var e},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=i.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}h(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var n,o,a;switch(r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key,r){case i.pki.oids["aes128-CBC"]:n=16,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:n=24,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:n=32,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:n=24,o=8,a=i.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===e)e=i.util.createBuffer(i.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(o));var s=a(e);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var u=0;u<t.recipients.length;++u){var c=t.recipients[u];if(void 0===c.encryptedContent.content){if(c.encryptedContent.algorithm!==i.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data)}}}}}},71995:function(t,e,r){var n=r(46933);r(73873),r(26980);var i=n.asn1,o=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},62926:function(t,e,r){var n=r(46933);r(73873),r(92625),r(60619),r(98960),r(29249),r(24828),r(18164),r(84728),r(26980),r(70660);var i=n.asn1,o=t.exports=n.pki=n.pki||{};o.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(e.body)},o.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(e.body);return o.privateKeyFromAsn1(a)},o.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},36313:function(t,e,r){var n=r(46933);r(26980),r(73183),r(91664),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var a=function(t,e){return t|e};e.generateProbablePrime=function(t,e,i){"function"===typeof e&&(i=e,e={});var o=(e=e||{}).algorithm||"PRIMEINC";"string"===typeof o&&(o={name:o}),o.options=o.options||{};var a=e.prng||n.random,u={nextBytes:function(t){for(var e=a.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===o.name)return function(t,e,i,o){if("workers"in i)return function(t,e,i,o){if("undefined"===typeof Worker)return s(t,e,i,o);var a=c(t,e),u=i.workers,f=i.workLoad||100,l=30*f/8,h=i.workerScript||"forge/prime.worker.js";if(-1===u)return n.util.estimateCores((function(t,e){t&&(e=2),u=e-1,p()}));function p(){u=Math.max(1,u);for(var n=[],i=0;i<u;++i)n[i]=new Worker(h);for(i=0;i<u;++i)n[i].addEventListener("message",p);var s=!1;function p(i){if(!s){0;var u=i.data;if(u.found){for(var h=0;h<n.length;++h)n[h].terminate();return s=!0,o(null,new r(u.prime,16))}a.bitLength()>t&&(a=c(t,e));var p=a.toString(16);i.target.postMessage({hex:p,workLoad:f}),a.dAddOffset(l,0)}}}p()}(t,e,i,o);return s(t,e,i,o)}(t,u,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function s(t,e,r,n){var i=c(t,e),o=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(o=r.millerRabinTests);var a=10;"maxBlockTime"in r&&(a=r.maxBlockTime),u(i,t,e,0,o,a,n)}function u(t,e,r,o,a,s,f){var l=+new Date;do{if(t.bitLength()>e&&(t=c(e,r)),t.isProbablePrime(a))return f(null,t);t.dAddOffset(i[o++%8],0)}while(s<0||+new Date-l<s);n.util.setImmediate((function(){u(t,e,r,o,a,s,f)}))}function c(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(o).byteValue(),0),n}}()},86353:function(t,e,r){var n=r(46933);r(26980);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||process.versions["node-webkit"]||(i=r(50310)),(t.exports=n.prng=n.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,o=new Array(32),a=0;a<32;++a)o[a]=r.create();function s(){if(e.pools[0].messageLength>=32)return u();var t=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(t)),u()}function u(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r===0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function c(t){var e=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(e=function(t){return i.getRandomValues(t)});var o=n.util.createBuffer();if(e)for(;o.length()<t;){var a=Math.max(1,Math.min(t-o.length(),65536)/4),s=new Uint32Array(Math.floor(a));try{e(s);for(var u=0;u<s.length;++u)o.putInt32(s[u])}catch(p){if(!("undefined"!==typeof QuotaExceededError&&p instanceof QuotaExceededError))throw p}}if(o.length()<t)for(var c,f,l,h=Math.floor(65536*Math.random());o.length()<t;){f=16807*(65535&h),f+=(32767&(c=16807*(h>>16)))<<16,h=4294967295&(f=(2147483647&(f+=c>>15))+(f>>31));for(u=0;u<3;++u)l=h>>>(u<<3),l^=Math.floor(256*Math.random()),o.putByte(255&l)}return o.getBytes(t)}return e.pools=o,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var i=e.plugin.cipher,o=e.plugin.increment,a=e.plugin.formatKey,s=e.plugin.formatSeed,c=n.util.createBuffer();e.key=null,function f(l){if(l)return r(l);if(c.length()>=t)return r(null,c.getBytes(t));e.generated>1048575&&(e.key=null);if(null===e.key)return n.util.nextTick((function(){!function(t){if(e.pools[0].messageLength>=32)return u(),t();var r=32-e.pools[0].messageLength<<5;e.seedFile(r,(function(r,n){if(r)return t(r);e.collect(n),u(),t()}))}(f)}));var h=i(e.key,e.seed);e.generated+=h.length,c.putBytes(h),e.key=a(i(e.key,o(e.seed))),e.seed=s(i(e.key,e.seed)),n.util.setImmediate(f)}()},e.generateSync=function(t){var r=e.plugin.cipher,i=e.plugin.increment,o=e.plugin.formatKey,a=e.plugin.formatSeed;e.key=null;for(var u=n.util.createBuffer();u.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&s();var c=r(e.key,e.seed);e.generated+=c.length,u.putBytes(c),e.key=o(r(e.key,i(e.seed))),e.seed=a(r(e.key,e.seed))}return u.getBytes(t)},i?(e.seedFile=function(t,e){i.randomBytes(t,(function(t,r){if(t)return e(t);e(null,r.toString())}))},e.seedFileSync=function(t){return i.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,c(t))}catch(r){e(r)}},e.seedFileSync=c),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){if(t===self)e.seedFile=function(t,e){self.addEventListener("message",(function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:t}}})};else{t.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,(function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})}))}))}},e}},18164:function(t,e,r){var n=r(46933);r(91664),r(26980),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,i=t.mgf,o=r.digestLength,a=t.salt||null;if("string"===typeof a&&(a=n.util.createBuffer(a)),"saltLength"in t)e=t.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");e=a.length()}if(null!==a&&a.length()!==e)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||n.random,u={encode:function(t,u){var c,f,l=u-1,h=Math.ceil(l/8),p=t.digest().getBytes();if(h<o+e+2)throw new Error("Message is too long to encrypt.");f=null===a?s.getBytesSync(e):a.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),r.start(),r.update(d.getBytes());var y=r.digest().getBytes(),v=new n.util.ByteBuffer;v.fillWithByte(0,h-e-o-2),v.putByte(1),v.putBytes(f);var g=v.getBytes(),m=h-o-1,b=i.generate(y,m),w="";for(c=0;c<m;c++)w+=String.fromCharCode(g.charCodeAt(c)^b.charCodeAt(c));var E=65280>>8*h-l&255;return(w=String.fromCharCode(w.charCodeAt(0)&~E)+w.substr(1))+y+String.fromCharCode(188)},verify:function(t,a,s){var u,c=s-1,f=Math.ceil(c/8);if(a=a.substr(-f),f<o+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(f-1))throw new Error("Encoded message does not end in 0xBC.");var l=f-o-1,h=a.substr(0,l),p=a.substr(l,o),d=65280>>8*f-c&255;if(0!==(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var y=i.generate(p,l),v="";for(u=0;u<l;u++)v+=String.fromCharCode(h.charCodeAt(u)^y.charCodeAt(u));v=String.fromCharCode(v.charCodeAt(0)&~d)+v.substr(1);var g=f-o-e-2;for(u=0;u<g;u++)if(0!==v.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==v.charCodeAt(g))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=v.substr(-e),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(t),b.putBytes(m),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}};return u}},91664:function(t,e,r){var n=r(46933);r(35233),r(55363),r(86353),r(26980),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),o=n.util.createBuffer();function a(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var s=a(),u=null,c=n.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(u=function(t){return f.getRandomValues(t)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"===typeof window||window.document,s.collectInt(+new Date,32),"undefined"!==typeof navigator){var l="";for(var h in navigator)try{"string"==typeof navigator[h]&&(l+=navigator[h])}catch(p){}s.collect(l),l=null}e&&(e().mousemove((function(t){s.collectInt(t.clientX,16),s.collectInt(t.clientY,16)})),e().keypress((function(t){s.collectInt(t.charCode,8)})))}if(n.random)for(var h in s)n.random[h]=s[h];else n.random=s;n.random.createInstance=a,t.exports=n.random}("undefined"!==typeof jQuery?jQuery:null)},19825:function(t,e,r){var n=r(46933);r(26980);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],a=function(t,e){return t<<e&65535|(65535&t)>>16-e},s=function(t,e){return(65535&t)>>e|t<<16-e&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"===typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,o=t,a=t.length(),s=e,u=Math.ceil(s/8),c=255>>(7&s);for(r=a;r<128;r++)o.putByte(i[o.at(r-1)+o.at(r-a)&255]);for(o.setAt(128-u,i[o.at(128-u)&c]),r=127-u;r>=0;r--)o.setAt(r,i[o.at(r+1)^o.at(r+u)]);return o};var u=function(t,e,r){var i,u,c,f,l=!1,h=null,p=null,d=null,y=[];for(t=n.rc2.expandKey(t,e),c=0;c<64;c++)y.push(t.getInt16Le());r?(i=function(t){for(c=0;c<4;c++)t[c]+=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),t[c]=a(t[c],o[c]),f++},u=function(t){for(c=0;c<4;c++)t[c]+=y[63&t[(c+3)%4]]}):(i=function(t){for(c=3;c>=0;c--)t[c]=s(t[c],o[c]),t[c]-=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),f--},u=function(t){for(c=3;c>=0;c--)t[c]-=y[63&t[(c+3)%4]]});var v=function(t){var e=[];for(c=0;c<4;c++){var n=h.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),e.push(65535&n)}f=r?0:63;for(var i=0;i<t.length;i++)for(var o=0;o<t[i][0];o++)t[i][1](e);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(e[c]):e[c]^=d.getInt16Le()),p.putInt16Le(e[c])},g=null;return g={start:function(t,e){t&&"string"===typeof t&&(t=n.util.createBuffer(t)),l=!1,h=n.util.createBuffer(),p=e||new n.util.createBuffer,d=t,g.output=p},update:function(t){for(l||h.putBuffer(t);h.length()>=8;)v([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,h,!r);else{var n=8===h.length()?8:8-h.length();h.fillWithByte(n,n)}if(e&&(l=!0,g.update()),!r&&(e=0===h.length()))if(t)e=t(8,p,!r);else{var i=p.length(),o=p.at(i-1);o>i?e=!1:p.truncate(o)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return u(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return u(t,e,!1)}},84728:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933);if(r(73873),r(73183),r(92625),r(84396),r(36313),r(91664),r(26980),"undefined"===typeof o)var o=i.jsbn.BigInteger;var a=i.util.isNodejs?r(50310):null,s=i.asn1,u=i.util;i.pki=i.pki||{},t.exports=i.pki.rsa=i.rsa=i.rsa||{};var c=i.pki,f=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},h={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},p={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},d=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},y={name:"DigestInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},v=function(t){var e;if(!(t.algorithm in c.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=c.oids[t.algorithm];var n=s.oidToDer(e).getBytes(),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);o.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,n)),o.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var a=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),s.toDer(i).getBytes()},g=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var n;e.dP||(e.dP=e.d.mod(e.p.subtract(o.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(o.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{n=new o(i.util.bytesToHex(i.random.getBytes(e.n.bitLength()/8)),16)}while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(o.ONE));for(var a=(t=t.multiply(n.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);a.compareTo(s)<0;)a=a.add(e.p);var u=a.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return u=u.multiply(n.modInverse(e.n)).mod(e.n)};function m(t,e,r){var n=i.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=o-11,a}n.putByte(0),n.putByte(r);var s,u=o-3-t.length;if(0===r||1===r){s=0===r?0:255;for(var c=0;c<u;++c)n.putByte(s)}else for(;u>0;){var f=0,l=i.random.getBytes(u);for(c=0;c<u;++c)0===(s=l.charCodeAt(c))?++f:n.putByte(s);u=f}return n.putByte(0),n.putBytes(t),n}function b(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8),a=i.util.createBuffer(t),s=a.getByte(),u=a.getByte();if(0!==s||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&"undefined"===typeof n)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=o-3-n;for(var f=0;f<c;++f)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===u)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}if(0!==a.getByte()||c!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function w(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=i.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0===(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128===(128&r.charCodeAt(1)))?r.substr(1):r}function E(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function S(t){return i.util.isNodejs&&"function"===typeof a[t]}function C(t){return"undefined"!==typeof u.globalScope&&"object"===n(u.globalScope.crypto)&&"object"===n(u.globalScope.crypto.subtle)&&"function"===typeof u.globalScope.crypto.subtle[t]}function _(t){return"undefined"!==typeof u.globalScope&&"object"===n(u.globalScope.msCrypto)&&"object"===n(u.globalScope.msCrypto.subtle)&&"function"===typeof u.globalScope.msCrypto.subtle[t]}function T(t){for(var e=i.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}c.rsa.encrypt=function(t,e,r){var n,a=r,s=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,n=m(t,e,r)):(n=i.util.createBuffer()).putBytes(t);for(var u=new o(n.toHex(),16),c=g(u,e,a).toString(16),f=i.util.createBuffer(),l=s-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(i.util.hexToBytes(c)),f.getBytes()},c.rsa.decrypt=function(t,e,r,n){var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=a,s}var u=new o(i.util.createBuffer(t).toHex(),16);if(u.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=g(u,e,r).toString(16),f=i.util.createBuffer(),l=a-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(i.util.hexToBytes(c)),!1!==n?b(f.getBytes(),e,r):f.getBytes()},c.rsa.createKeyPairGenerationState=function(t,e,r){"string"===typeof t&&(t=parseInt(t,10)),t=t||2048;var n,a=(r=r||{}).prng||i.random,s={nextBytes:function(t){for(var e=a.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(n={algorithm:u,state:0,bits:t,rng:s,eInt:e||65537,e:new o(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(n.eInt),n},c.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new o(null);r.fromInt(30);for(var n,i=0,a=function(t,e){return t|e},s=+new Date,u=0;null===t.keys&&(e<=0||u<e);){if(0===t.state){var l=null===t.p?t.pBits:t.qBits,h=l-1;0===t.pqState?(t.num=new o(l,t.rng),t.num.testBit(h)||t.num.bitwiseTo(o.ONE.shiftLeft(h),a,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):1===t.pqState?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(E(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(f[i++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(o.ONE).gcd(t.e).compareTo(o.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(o.ONE),t.q1=t.q.subtract(o.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(o.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var p=t.e.modInverse(t.phi);t.keys={privateKey:c.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:c.rsa.setPublicKey(t.n,t.e)}}u+=(n=+new Date)-s,s=n}return null!==t.keys},c.rsa.generateKeyPair=function(t,e,r,f){if(1===arguments.length?"object"===n(t)?(r=t,t=void 0):"function"===typeof t&&(f=t,t=void 0):2===arguments.length?"number"===typeof t?"function"===typeof e?(f=e,e=void 0):"number"!==typeof e&&(r=e,e=void 0):(r=t,f=e,t=void 0,e=void 0):3===arguments.length&&("number"===typeof e?"function"===typeof r&&(f=r,r=void 0):(f=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!i.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(65537===e||3===e))if(f){if(S("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(t,e,r){if(t)return f(t);f(null,{privateKey:c.privateKeyFromPem(r),publicKey:c.publicKeyFromPem(e)})}));if(C("generateKey")&&C("exportKey"))return u.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:T(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(t){return u.globalScope.crypto.subtle.exportKey("pkcs8",t.privateKey)})).then(void 0,(function(t){f(t)})).then((function(t){if(t){var e=c.privateKeyFromAsn1(s.fromDer(i.util.createBuffer(t)));f(null,{privateKey:e,publicKey:c.setRsaPublicKey(e.n,e.e)})}}));if(_("generateKey")&&_("exportKey")){var l=u.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:T(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return l.oncomplete=function(t){var e=t.target.result,r=u.globalScope.msCrypto.subtle.exportKey("pkcs8",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=c.privateKeyFromAsn1(s.fromDer(i.util.createBuffer(e)));f(null,{privateKey:r,publicKey:c.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){f(t)}},void(l.onerror=function(t){f(t)})}}else if(S("generateKeyPairSync")){var h=a.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(h.privateKey),publicKey:c.publicKeyFromPem(h.publicKey)}}var p=c.rsa.createKeyPairGenerationState(t,e,r);if(!f)return c.rsa.stepKeyPairGenerationState(p,0),p.keys;!function(t,e,r){"function"===typeof e&&(r=e,e={});e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng);function a(){s(t.pBits,(function(e,n){return e?r(e):(t.p=n,null!==t.q?u(e,t.q):void s(t.qBits,u))}))}function s(t,e){i.prime.generateProbablePrime(t,n,e)}function u(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var i=t.p;t.p=t.q,t.q=i}if(0!==t.p.subtract(o.ONE).gcd(t.e).compareTo(o.ONE))return t.p=null,void a();if(0!==t.q.subtract(o.ONE).gcd(t.e).compareTo(o.ONE))return t.q=null,void s(t.qBits,u);if(t.p1=t.p.subtract(o.ONE),t.q1=t.q.subtract(o.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(o.ONE))return t.p=t.q=null,void a();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void s(t.qBits,u);var f=t.e.modInverse(t.phi);t.keys={privateKey:c.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:c.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}a()}(p,r,f)},c.setRsaPublicKey=c.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,n){if("string"===typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return m(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return i.pkcs1.encode_rsa_oaep(e,t,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"===typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var o=e.encode(t,r,!0);return c.rsa.encrypt(o,r,!0)},verify:function(t,e,n,o){"string"===typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),void 0===o&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){e=b(e,r,!0);var n=s.fromDer(e,{parseAllBytes:o._parseAllDigestBytes}),a={},u=[];if(!s.validate(n,y,a,u))throw(c=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=u,c;var c,f=s.derToOid(a.algorithmIdentifier);if(f!==i.oids.md2&&f!==i.oids.md5&&f!==i.oids.sha1&&f!==i.oids.sha224&&f!==i.oids.sha256&&f!==i.oids.sha384&&f!==i.oids.sha512&&f!==i.oids["sha512-224"]&&f!==i.oids["sha512-256"])throw(c=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=f,c;if((f===i.oids.md2||f===i.oids.md5)&&!("parameters"in a))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return t===a.digest}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return t===(e=b(e,r,!0))}});var a=c.rsa.decrypt(e,r,!0,!1);return n.verify(t,a,r.n.bitLength())}};return r},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(t,e,r,n,o,a,s,u){var f={n:t,e:e,d:r,p:n,q:o,dP:a,dQ:s,qInv:u,decrypt:function(t,e,r){"string"===typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var n=c.rsa.decrypt(t,f,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:b};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return i.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(n,f,!1)},sign:function(t,e){var r=!1;"string"===typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:v},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,f.n.bitLength());return c.rsa.encrypt(n,f,r)}};return f},c.wrapRsaPrivateKey=function(t){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(t).getBytes())])},c.privateKeyFromAsn1=function(t){var e,r,n,a,u,f,p,d,y={},v=[];if(s.validate(t,l,y,v)&&(t=s.fromDer(i.util.createBuffer(y.privateKey))),y={},v=[],!s.validate(t,h,y,v)){var g=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw g.errors=v,g}return e=i.util.createBuffer(y.privateKeyModulus).toHex(),r=i.util.createBuffer(y.privateKeyPublicExponent).toHex(),n=i.util.createBuffer(y.privateKeyPrivateExponent).toHex(),a=i.util.createBuffer(y.privateKeyPrime1).toHex(),u=i.util.createBuffer(y.privateKeyPrime2).toHex(),f=i.util.createBuffer(y.privateKeyExponent1).toHex(),p=i.util.createBuffer(y.privateKeyExponent2).toHex(),d=i.util.createBuffer(y.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new o(e,16),new o(r,16),new o(n,16),new o(a,16),new o(u,16),new o(f,16),new o(p,16),new o(d,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(t){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.qInv))])},c.publicKeyFromAsn1=function(t){var e={},r=[];if(s.validate(t,d,e,r)){var n,a=s.derToOid(e.publicKeyOid);if(a!==c.oids.rsaEncryption)throw(n=new Error("Cannot read public key. Unknown OID.")).oid=a,n;t=e.rsaPublicKey}if(r=[],!s.validate(t,p,e,r))throw(n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,n;var u=i.util.createBuffer(e.publicKeyModulus).toHex(),f=i.util.createBuffer(e.publicKeyExponent).toHex();return c.setRsaPublicKey(new o(u,16),new o(f,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(t){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(t)])])},c.publicKeyToRSAPublicKey=function(t){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(t.e))])}},51313:function(t,e,r){var n=r(46933);r(71269),r(26980);var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(o),s(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(e.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(u=8*i.fullMessageLength[l+1])/4294967296>>>0,a.putInt32(f>>>0),f=u>>>0;a.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};s(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var o=null,a=!1;function s(t,e,r){for(var n,i,o,a,s,u,c,f=r.length();f>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,f-=64}}},55363:function(t,e,r){var n=r(46933);r(71269),r(26980);var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(o),u(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(e.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(s=8*i.fullMessageLength[l+1])/4294967296>>>0,a.putInt32(f>>>0),f=s>>>0;a.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var o=null,a=!1,s=null;function u(t,e,r){for(var n,i,o,a,u,c,f,l,h,p,d,y,v,g=r.length();g>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,f=t.h1,l=t.h2,h=t.h3,p=t.h4,d=t.h5,y=t.h6,v=t.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&f|l&(c^f),n=v+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(y^p&(d^y))+s[u]+e[u],v=y,y=d,d=p,p=h+n>>>0,h=l,l=f,f=c,c=n+(i=o+a)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+l|0,t.h3=t.h3+h|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+y|0,t.h7=t.h7+v|0,g-=64}}},9698:function(t,e,r){var n=r(46933);r(71269),r(26980);var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var o=n.sha384=n.sha512.sha384=n.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=o,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(t){if(s||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),"undefined"===typeof t&&(t="SHA-512"),!(t in c))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=c[t],r=null,i=n.util.createBuffer(),o=new Array(80),l=0;l<80;++l)o[l]=new Array(2);var h=64;switch(t){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var t=p.messageLengthSize/4,o=0;o<t;++o)p.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(e.length);for(o=0;o<e.length;++o)r[o]=e[o].slice(0);return p}};return p.start(),p.update=function(t,e){"utf8"===e&&(t=n.util.encodeUtf8(t));var a=t.length;p.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=p.fullMessageLength.length-1;s>=0;--s)p.fullMessageLength[s]+=a[1],a[1]=a[0]+(p.fullMessageLength[s]/4294967296>>>0),p.fullMessageLength[s]=p.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(t),f(r,o,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var e=n.util.createBuffer();e.putBytes(i.bytes());var s,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;e.putBytes(a.substr(0,p.blockLength-u));for(var c=8*p.fullMessageLength[0],l=0;l<p.fullMessageLength.length-1;++l)c+=(s=8*p.fullMessageLength[l+1])/4294967296>>>0,e.putInt32(c>>>0),c=s>>>0;e.putInt32(c);var h=new Array(r.length);for(l=0;l<r.length;++l)h[l]=r[l].slice(0);f(h,o,e);var d,y=n.util.createBuffer();d="SHA-512"===t?h.length:"SHA-384"===t?h.length-2:h.length-4;for(l=0;l<d;++l)y.putInt32(h[l][0]),l===d-1&&"SHA-512/224"===t||y.putInt32(h[l][1]);return y},p};var a=null,s=!1,u=null,c=null;function f(t,e,r){for(var n,i,o,a,s,c,f,l,h,p,d,y,v,g,m,b,w,E,S,C,_,T,k,A,I,B,x,O,N,P,L,R,F,j=r.length();j>=128;){for(x=0;x<16;++x)e[x][0]=r.getInt32()>>>0,e[x][1]=r.getInt32()>>>0;for(;x<80;++x)n=(((O=(P=e[x-2])[0])>>>19|(N=P[1])<<13)^(N>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|N>>>19)^(N<<3|O>>>29)^(O<<26|N>>>6))>>>0,o=(((O=(R=e[x-15])[0])>>>1|(N=R[1])<<31)^(O>>>8|N<<24)^O>>>7)>>>0,a=((O<<31|N>>>1)^(O<<24|N>>>8)^(O<<25|N>>>7))>>>0,L=e[x-7],F=e[x-16],N=i+L[1]+a+F[1],e[x][0]=n+L[0]+o+F[0]+(N/4294967296>>>0)>>>0,e[x][1]=N>>>0;for(d=t[0][0],y=t[0][1],v=t[1][0],g=t[1][1],m=t[2][0],b=t[2][1],w=t[3][0],E=t[3][1],S=t[4][0],C=t[4][1],_=t[5][0],T=t[5][1],k=t[6][0],A=t[6][1],I=t[7][0],B=t[7][1],x=0;x<80;++x)f=((S>>>14|C<<18)^(S>>>18|C<<14)^(C>>>9|S<<23))>>>0,l=(k^S&(_^k))>>>0,s=((d>>>28|y<<4)^(y>>>2|d<<30)^(y>>>7|d<<25))>>>0,c=((d<<4|y>>>28)^(y<<30|d>>>2)^(y<<25|d>>>7))>>>0,h=(d&v|m&(d^v))>>>0,p=(y&g|b&(y^g))>>>0,N=B+(((S<<18|C>>>14)^(S<<14|C>>>18)^(C<<23|S>>>9))>>>0)+((A^C&(T^A))>>>0)+u[x][1]+e[x][1],n=I+f+l+u[x][0]+e[x][0]+(N/4294967296>>>0)>>>0,i=N>>>0,o=s+h+((N=c+p)/4294967296>>>0)>>>0,a=N>>>0,I=k,B=A,k=_,A=T,_=S,T=C,S=w+n+((N=E+i)/4294967296>>>0)>>>0,C=N>>>0,w=m,E=b,m=v,b=g,v=d,g=y,d=n+o+((N=i+a)/4294967296>>>0)>>>0,y=N>>>0;N=t[0][1]+y,t[0][0]=t[0][0]+d+(N/4294967296>>>0)>>>0,t[0][1]=N>>>0,N=t[1][1]+g,t[1][0]=t[1][0]+v+(N/4294967296>>>0)>>>0,t[1][1]=N>>>0,N=t[2][1]+b,t[2][0]=t[2][0]+m+(N/4294967296>>>0)>>>0,t[2][1]=N>>>0,N=t[3][1]+E,t[3][0]=t[3][0]+w+(N/4294967296>>>0)>>>0,t[3][1]=N>>>0,N=t[4][1]+C,t[4][0]=t[4][0]+S+(N/4294967296>>>0)>>>0,t[4][1]=N>>>0,N=t[5][1]+T,t[5][0]=t[5][0]+_+(N/4294967296>>>0)>>>0,t[5][1]=N>>>0,N=t[6][1]+A,t[6][0]=t[6][0]+k+(N/4294967296>>>0)>>>0,t[6][1]=N>>>0,N=t[7][1]+B,t[7][0]=t[7][0]+I+(N/4294967296>>>0)>>>0,t[7][1]=N>>>0,j-=128}}},26980:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933),o=r(69375),a=t.exports=i.util=i.util||{};function s(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function u(t){if(this.data="",this.read=0,"string"===typeof t)this.data=t;else if(a.isArrayBuffer(t)||a.isArrayBufferView(t))if("undefined"!==typeof Buffer&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof u||"object"===n(t)&&"string"===typeof t.data&&"number"===typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if("undefined"!==typeof process&&process.nextTick&&!process.browser)return a.nextTick=process.nextTick,void("function"===typeof setImmediate?a.setImmediate=setImmediate:a.setImmediate=a.nextTick);if("function"===typeof setImmediate)return a.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(a.nextTick=function(t){return setImmediate(t)});if(a.setImmediate=function(t){setTimeout(t,0)},"undefined"!==typeof window&&"function"===typeof window.postMessage){var t="forge.setImmediate",e=[];a.setImmediate=function(r){e.push(r),1===e.length&&window.postMessage(t,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===t){r.stopPropagation();var n=e.slice();e.length=0,n.forEach((function(t){t()}))}}),!0)}if("undefined"!==typeof MutationObserver){var r=Date.now(),n=!0,i=document.createElement("div");e=[];new MutationObserver((function(){var t=e.slice();e.length=0,t.forEach((function(t){t()}))})).observe(i,{attributes:!0});var o=a.setImmediate;a.setImmediate=function(t){Date.now()-r>15?(r=Date.now(),o(t)):(e.push(t),1===e.length&&i.setAttribute("a",n=!n))}}a.nextTick=a.setImmediate}(),a.isNodejs="undefined"!==typeof process&&process.versions&&process.versions.node,a.globalScope=a.isNodejs?r.g:"undefined"===typeof self?window:self,a.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.isArrayBuffer=function(t){return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer},a.isArrayBufferView=function(t){return t&&a.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},a.ByteBuffer=u,a.ByteStringBuffer=u;a.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},a.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},a.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},a.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(a.encodeUtf8(t))},a.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},a.ByteStringBuffer.prototype.putInt=function(t,e){s(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},a.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},a.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},a.ByteStringBuffer.prototype.getInt=function(t){s(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},a.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.ByteStringBuffer.prototype.bytes=function(t){return"undefined"===typeof t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},a.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var t=a.createBuffer(this.data);return t.read=this.read,t},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=a.isArrayBuffer(t),n=a.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},a.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},a.DataBuffer.prototype.putBytes=function(t,e){if(a.isArrayBufferView(t)){var r=(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-i.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=r,this}if(a.isArrayBuffer(t)){var i=new Uint8Array(t);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(t instanceof a.DataBuffer||"object"===n(t)&&"number"===typeof t.read&&"number"===typeof t.write&&a.isArrayBufferView(t.data)){i=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(i.byteLength),new Uint8Array(t.data.byteLength,this.write).set(i),this.write+=i.byteLength,this}if(t instanceof a.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"===typeof t){var o;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(t,o,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(t,o,this.write),this;if("utf8"===e&&(t=a.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(o),this;if("utf16"===e)return this.accommodate(2*t.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},a.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},a.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},a.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(t,e){s(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},a.DataBuffer.prototype.putSignedInt=function(t,e){return s(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},a.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},a.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},a.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},a.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},a.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},a.DataBuffer.prototype.getInt=function(t){s(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},a.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.DataBuffer.prototype.bytes=function(t){return"undefined"===typeof t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},a.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return a.binary.raw.encode(e);if("hex"===t)return a.binary.hex.encode(e);if("base64"===t)return a.binary.base64.encode(e);if("utf8"===t)return a.text.utf8.decode(e);if("utf16"===t)return a.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},a.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=a.encodeUtf8(t)),new a.ByteBuffer(t)},a.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},a.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},a.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},a.bytesToHex=function(t){return a.createBuffer(t).toHex()},a.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(t,e){for(var r,n,i,o="",a="",s=0;s<t.length;)r=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),o+=c.charAt(r>>2),o+=c.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=c.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":c.charAt(63&i)),e&&o.length>e&&(a+=o.substr(0,e)+"\r\n",o=o.substr(e));return a+=o},a.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,o="",a=0;a<t.length;)e=f[t.charCodeAt(a++)-43],r=f[t.charCodeAt(a++)-43],n=f[t.charCodeAt(a++)-43],i=f[t.charCodeAt(a++)-43],o+=String.fromCharCode(e<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},a.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},a.decodeUtf8=function(t){return decodeURIComponent(escape(t))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},a.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},a.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,o=r=r||0;for(1&t.length&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n},a.binary.base64.encode=function(t,e){for(var r,n,i,o="",a="",s=0;s<t.byteLength;)r=t[s++],n=t[s++],i=t[s++],o+=c.charAt(r>>2),o+=c.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=c.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":c.charAt(63&i)),e&&o.length>e&&(a+=o.substr(0,e)+"\r\n",o=o.substr(e));return a+=o},a.binary.base64.decode=function(t,e,r){var n,i,o,a,s=e;s||(s=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<t.length;)n=f[t.charCodeAt(u++)-43],i=f[t.charCodeAt(u++)-43],o=f[t.charCodeAt(u++)-43],a=f[t.charCodeAt(u++)-43],s[c++]=n<<2|i>>4,64!==o&&(s[c++]=(15&i)<<4|o>>2,64!==a&&(s[c++]=(3&o)<<6|a));return e?c-r:s.subarray(0,c)},a.binary.base58.encode=function(t,e){return a.binary.baseN.encode(t,l,e)},a.binary.base58.decode=function(t,e){return a.binary.baseN.decode(t,l,e)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(t,e,r){t=a.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.text.utf8.decode=function(t){return a.decodeUtf8(String.fromCharCode.apply(null,t))},a.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n},a.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},a.deflate=function(t,e,r){if(e=a.decode64(t.deflate(a.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},a.inflate=function(t,e,r){var n=t.inflate(a.encode64(e)).rval;return null===n?null:a.decode64(n)};var h=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=a.encode64(JSON.stringify(r)),n=t.setItem(e,r)),"undefined"!==typeof n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},p=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},d=function(t,e,r,n){var i=p(t,e);null===i&&(i={}),i[r]=n,h(t,e,i)},y=function(t,e,r){var n=p(t,e);return null!==n&&(n=r in n?n[r]:null),n},v=function(t,e,r){var n=p(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),h(t,e,n)}},g=function(t,e){h(t,e,null)},m=function(t,e,r){var n,i=null;"undefined"===typeof r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),o="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),o=!0)}catch(u){a=u}if(o)break}if(!o)throw a;return i};a.setItem=function(t,e,r,n,i){m(d,arguments,i)},a.getItem=function(t,e,r,n){return m(y,arguments,n)},a.removeItem=function(t,e,r,n){m(v,arguments,n)},a.clearItems=function(t,e,r){m(g,arguments,r)},a.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},a.format=function(t){for(var e,r,n=/%./g,i=0,o=[],a=0;e=n.exec(t);){(r=t.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")},a.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+s:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},a.formatSize=function(t){return t=t>=1073741824?a.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?a.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?a.formatNumber(t/1024,0)+" KiB":a.formatNumber(t,0)+" bytes"},a.bytesFromIP=function(t){return-1!==t.indexOf(".")?a.bytesFromIPv4(t):-1!==t.indexOf(":")?a.bytesFromIPv6(t):null},a.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=a.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},a.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter((function(t){return 0===t.length&&++e,!0}))).length+e),n=a.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var o=a.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(t){return 4===t.length?a.bytesToIPv4(t):16===t.length?a.bytesToIPv6(t):null},a.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},a.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=a.bytesToHex(t[i]+t[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=e.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),0===c.start&&e.unshift(""),7===c.end&&e.push(""))}return e.join(":")},a.estimateCores=function(t,e){if("function"===typeof t&&(e=t,t={}),t=t||{},"cores"in a&&!t.update)return e(null,a.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,e(null,a.cores);if("undefined"===typeof Worker)return a.cores=1,e(null,a.cores);if("undefined"===typeof Blob)return a.cores=2,e(null,a.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function t(n,i,o){if(0===i){var s=Math.floor(n.reduce((function(t,e){return t+e}),0)/n.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(r),e(null,a.cores)}!function(t,e){for(var n=[],i=[],o=0;o<t;++o){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===t){for(var o=0;o<t;++o)n[o].terminate();e(null,i)}})),n.push(a)}for(o=0;o<t;++o)n[o].postMessage(o)}(o,(function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],o=r[n]=[],a=0;a<t;++a)if(n!==a){var s=e[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce((function(t,e){return Math.max(t,e.length)}),0)}(o,r)),t(n,i-1,o)}))}([],5,16)}},70660:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(46933);r(35233),r(73873),r(26610),r(71269),r(33552),r(92625),r(98960),r(18164),r(84728),r(26980);var o=i.asn1,a=t.exports=i.pki=i.pki||{},s=a.oids,u={};u.CN=s.commonName,u.commonName="CN",u.C=s.countryName,u.countryName="C",u.L=s.localityName,u.localityName="L",u.ST=s.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=s.organizationName,u.organizationName="O",u.OU=s.organizationalUnitName,u.organizationalUnitName="OU",u.E=s.emailAddress,u.emailAddress="E";var c=i.pki.rsa.publicKeyValidator,f={name:"Certificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequestInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0}]}]}]},p={name:"CertificationRequest",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h,{name:"CertificationRequest.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function d(t,e){"string"===typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],(e.type&&e.type===r.type||e.name&&e.name===r.name||e.shortName&&e.shortName===r.shortName)&&(n=r);return n}a.RDNAttributesAsArray=function(t,e){for(var r,n,i,a=[],c=0;c<t.value.length;++c){r=t.value[c];for(var f=0;f<r.value.length;++f)i={},n=r.value[f],i.type=o.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in s&&(i.name=s[i.type],i.name in u&&(i.shortName=u[i.name])),e&&(e.update(i.type),e.update(i.value)),a.push(i)}return a},a.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=o.derToOid(n.value[0].value),c=n.value[1].value,f=0;f<c.length;++f){var l={};if(l.type=i,l.value=c[f].value,l.valueTagClass=c[f].type,l.type in s&&(l.name=s[l.type],l.name in u&&(l.shortName=u[l.name])),l.type===s.extensionRequest){l.extensions=[];for(var h=0;h<l.value.length;++h)l.extensions.push(a.certificateExtensionFromAsn1(l.value[h]))}e.push(l)}return e};var y=function(t,e,r){var n={};if(t!==s["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var i={},a=[];if(!o.validate(e,l,i,a)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=a,u}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=o.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=o.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=o.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n},v=function(t){switch(s[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},g=function(t){var e,r=t.certificate;switch(r.signatureOid){case s.sha1WithRSAEncryption:case s.sha1WithRSASignature:break;case s["RSASSA-PSS"]:var n,o,a;if(void 0===(n=s[r.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[n])throw(a=new Error("Unsupported MGF hash function.")).oid=r.signatureParameters.mgf.hash.algorithmOid,a.name=n,a;if(void 0===(o=s[r.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[o])throw(a=new Error("Unsupported MGF function.")).oid=r.signatureParameters.mgf.algorithmOid,a.name=o,a;if(o=i.mgf[o].create(i.md[n].create()),void 0===(n=s[r.signatureParameters.hash.algorithmOid])||void 0===i.md[n])throw(a=new Error("Unsupported RSASSA-PSS hash function.")).oid=r.signatureParameters.hash.algorithmOid,a.name=n,a;e=i.pss.create(i.md[n].create(),o,r.signatureParameters.saltLength)}return r.publicKey.verify(t.md.digest().getBytes(),t.signature,e)};function m(t){for(var e,r,n=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),a=t.attributes,s=0;s<a.length;++s){var u=(e=a[s]).value,c=o.Type.PRINTABLESTRING;"valueTagClass"in e&&(c=e.valueTagClass)===o.Type.UTF8&&(u=i.util.encodeUtf8(u)),r=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),o.create(o.Class.UNIVERSAL,c,!1,u)])]),n.value.push(r)}return n}function b(t){for(var e,r=0;r<t.length;++r){if("undefined"===typeof(e=t[r]).name&&(e.type&&e.type in a.oids?e.name=a.oids[e.type]:e.shortName&&e.shortName in u&&(e.name=a.oids[u[e.shortName]])),"undefined"===typeof e.type){if(!e.name||!(e.name in a.oids))throw(i=new Error("Attribute type not specified.")).attribute=e,i;e.type=a.oids[e.name]}if("undefined"===typeof e.shortName&&e.name&&e.name in u&&(e.shortName=u[e.name]),e.type===s.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=o.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(a.certificateExtensionToAsn1(w(e.extensions[n])))}var i;if("undefined"===typeof e.value)throw(i=new Error("Attribute value not specified.")).attribute=e,i}}function w(t,e){if(e=e||{},"undefined"===typeof t.name&&t.id&&t.id in a.oids&&(t.name=a.oids[t.id]),"undefined"===typeof t.id){if(!t.name||!(t.name in a.oids))throw(E=new Error("Extension ID not specified.")).extension=t,E;t.id=a.oids[t.name]}if("undefined"!==typeof t.value)return t;if("keyUsage"===t.name){var r=0,n=0,u=0;t.digitalSignature&&(n|=128,r=7),t.nonRepudiation&&(n|=64,r=6),t.keyEncipherment&&(n|=32,r=5),t.dataEncipherment&&(n|=16,r=4),t.keyAgreement&&(n|=8,r=3),t.keyCertSign&&(n|=4,r=2),t.cRLSign&&(n|=2,r=1),t.encipherOnly&&(n|=1,r=0),t.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(n)+String.fromCharCode(u):0!==n&&(c+=String.fromCharCode(n)),t.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,c)}else if("basicConstraints"===t.name)t.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var l in t)!0===t[l]&&(l in s?f.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s[l]).getBytes())):-1!==l.indexOf(".")&&f.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(l).getBytes())))}else if("nsCertType"===t.name){r=0,n=0;t.client&&(n|=128,r=7),t.server&&(n|=64,r=6),t.email&&(n|=32,r=5),t.objsign&&(n|=16,r=4),t.reserved&&(n|=8,r=3),t.sslCA&&(n|=4,r=2),t.emailCA&&(n|=2,r=1),t.objCA&&(n|=1,r=0);c=String.fromCharCode(r);0!==n&&(c+=String.fromCharCode(n)),t.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,c)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);for(var h=0;h<t.altNames.length;++h){c=(g=t.altNames[h]).value;if(7===g.type&&g.ip){if(null===(c=i.util.bytesFromIP(g.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,E}else 8===g.type&&(c=g.oid?o.oidToDer(o.oidToDer(g.oid)):o.oidToDer(c));t.value.value.push(o.create(o.Class.CONTEXT_SPECIFIC,g.type,!1,c))}}else if("nsComment"===t.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=o.create(o.Class.UNIVERSAL,o.Type.IA5STRING,!1,t.comment)}else if("subjectKeyIdentifier"===t.name&&e.cert){var p=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=p.toHex(),t.value=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===t.name&&e.cert){t.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);f=t.value.value;if(t.keyIdentifier){var d=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var y=[o.create(o.Class.CONTEXT_SPECIFIC,4,!0,[m(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];f.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,y))}if(t.serialNumber){var v=i.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);f.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===t.name){t.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);f=t.value.value;var g,b=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),w=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<t.altNames.length;++h){c=(g=t.altNames[h]).value;if(7===g.type&&g.ip){if(null===(c=i.util.bytesFromIP(g.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,E}else 8===g.type&&(c=g.oid?o.oidToDer(o.oidToDer(g.oid)):o.oidToDer(c));w.value.push(o.create(o.Class.CONTEXT_SPECIFIC,g.type,!1,c))}b.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[w])),f.push(b)}var E;if("undefined"===typeof t.value)throw(E=new Error("Extension value not specified.")).extension=t,E;return t}function E(t,e){if(t===s["RSASSA-PSS"]){var r=[];return void 0!==e.hash.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.mgf.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.mgf.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.saltLength).getBytes())])),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,r)}return o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")}function S(t){var e=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,n=0;n<r.length;++n){var a=r[n],s=a.value,u=o.Type.UTF8;"valueTagClass"in a&&(u=a.valueTagClass),u===o.Type.UTF8&&(s=i.util.encodeUtf8(s));var c=!1;"valueConstructed"in a&&(c=a.valueConstructed);var f=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,u,c,s)])]);e.value.push(f)}return e}a.certificateFromPem=function(t,e,r){var n=i.pem.decode(t)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=o.fromDer(n.body,r);return a.certificateFromAsn1(u,e)},a.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:o.toDer(a.certificateToAsn1(t)).getBytes()};return i.pem.encode(r,{maxline:e})},a.publicKeyFromPem=function(t){var e=i.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=o.fromDer(e.body);return a.publicKeyFromAsn1(n)},a.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:o.toDer(a.publicKeyToAsn1(t)).getBytes()};return i.pem.encode(r,{maxline:e})},a.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:o.toDer(a.publicKeyToRSAPublicKey(t)).getBytes()};return i.pem.encode(r,{maxline:e})},a.getPublicKeyFingerprint=function(t,e){var r,n=(e=e||{}).md||i.md.sha1.create();switch(e.type||"RSAPublicKey"){case"RSAPublicKey":r=o.toDer(a.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=o.toDer(a.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}n.start(),n.update(r);var s=n.digest();if("hex"===e.encoding){var u=s.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if("binary"===e.encoding)return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return s},a.certificationRequestFromPem=function(t,e,r){var n=i.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==n.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=o.fromDer(n.body,r);return a.certificationRequestFromAsn1(u,e)},a.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:o.toDer(a.certificationRequestToAsn1(t)).getBytes()};return i.pem.encode(r,{maxline:e})},a.createCertificate=function(){var t={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return d(t.issuer,e)},t.issuer.addField=function(e){b([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return d(t.subject,e)},t.subject.addField=function(e){b([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){b(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){b(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)w(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"===typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],(e.id&&r.id===e.id||e.name&&r.name===e.name)&&(n=r);return n},t.sign=function(e,r){t.md=r||i.md.sha1.create();var n=s[t.md.algorithm+"WithRSAEncryption"];if(!n){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=a.getTBSCertificate(t);var c=o.toDer(t.tbsCertificate);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var u=e.md;if(null===u){u=v({signatureOid:e.signatureOid,type:"certificate"});var c=e.tbsCertificate||a.getTBSCertificate(e),f=o.toDer(c);u.update(f.getBytes())}return null!==u&&(r=g({certificate:t,md:u,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=s.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(n.subjectKeyIdentifier)===o}}return!1},t},a.certificateFromAsn1=function(t,e){var r={},n=[];if(!o.validate(t,f,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}if(o.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=a.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=i.util.createBuffer(r.certSerialNumber);u.serialNumber=c.toHex(),u.signatureOid=i.asn1.derToOid(r.certSignatureOid),u.signatureParameters=y(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=i.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=y(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var l=[];if(void 0!==r.certValidity1UTCTime&&l.push(o.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&l.push(o.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&l.push(o.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&l.push(o.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=l[0],u.validity.notAfter=l[1],u.tbsCertificate=r.tbsCertificate,e){u.md=v({signatureOid:u.signatureOid,type:"certificate"});var h=o.toDer(u.tbsCertificate);u.md.update(h.getBytes())}var p=i.md.sha1.create(),g=o.toDer(r.certIssuer);p.update(g.getBytes()),u.issuer.getField=function(t){return d(u.issuer,t)},u.issuer.addField=function(t){b([t]),u.issuer.attributes.push(t)},u.issuer.attributes=a.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=p.digest().toHex();var m=i.md.sha1.create(),w=o.toDer(r.certSubject);return m.update(w.getBytes()),u.subject.getField=function(t){return d(u.subject,t)},u.subject.addField=function(t){b([t]),u.subject.attributes.push(t)},u.subject.attributes=a.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=m.digest().toHex(),r.certExtensions?u.extensions=a.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},a.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(a.certificateExtensionFromAsn1(n.value[i]));return e},a.certificateExtensionFromAsn1=function(t){var e={};if(e.id=o.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===o.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in s)if(e.name=s[e.id],"keyUsage"===e.name){var r=0,n=0;(u=o.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1),n=u.value.length>2?u.value.charCodeAt(2):0),e.digitalSignature=128===(128&r),e.nonRepudiation=64===(64&r),e.keyEncipherment=32===(32&r),e.dataEncipherment=16===(16&r),e.keyAgreement=8===(8&r),e.keyCertSign=4===(4&r),e.cRLSign=2===(2&r),e.encipherOnly=1===(1&r),e.decipherOnly=128===(128&n)}else if("basicConstraints"===e.name){(u=o.fromDer(e.value)).value.length>0&&u.value[0].type===o.Type.BOOLEAN?e.cA=0!==u.value[0].value.charCodeAt(0):e.cA=!1;var a=null;u.value.length>0&&u.value[0].type===o.Type.INTEGER?a=u.value[0].value:u.value.length>1&&(a=u.value[1].value),null!==a&&(e.pathLenConstraint=o.derToInteger(a))}else if("extKeyUsage"===e.name)for(var u=o.fromDer(e.value),c=0;c<u.value.length;++c){var f=o.derToOid(u.value[c].value);f in s?e[s[f]]=!0:e[f]=!0}else if("nsCertType"===e.name){r=0;(u=o.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1)),e.client=128===(128&r),e.server=64===(64&r),e.email=32===(32&r),e.objsign=16===(16&r),e.reserved=8===(8&r),e.sslCA=4===(4&r),e.emailCA=2===(2&r),e.objCA=1===(1&r)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){var l;e.altNames=[];u=o.fromDer(e.value);for(var h=0;h<u.value.length;++h){var p={type:(l=u.value[h]).type,value:l.value};switch(e.altNames.push(p),l.type){case 1:case 2:case 6:break;case 7:p.ip=i.util.bytesToIP(l.value);break;case 8:p.oid=o.derToOid(l.value)}}}else if("subjectKeyIdentifier"===e.name){u=o.fromDer(e.value);e.subjectKeyIdentifier=i.util.bytesToHex(u.value)}return e},a.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!o.validate(t,p,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}if(o.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=a.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=i.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=y(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=i.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=y(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,e){u.md=v({signatureOid:u.signatureOid,type:"certification request"});var c=o.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var f=i.md.sha1.create();return u.subject.getField=function(t){return d(u.subject,t)},u.subject.addField=function(t){b([t]),u.subject.attributes.push(t)},u.subject.attributes=a.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),u.subject.hash=f.digest().toHex(),u.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(t){return d(u,t)},u.addAttribute=function(t){b([t]),u.attributes.push(t)},u.attributes=a.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},a.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return d(t.subject,e)},t.subject.addField=function(e){b([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return d(t,e)},t.addAttribute=function(e){b([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){b(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){b(e),t.attributes=e},t.sign=function(e,r){t.md=r||i.md.sha1.create();var n=s[t.md.algorithm+"WithRSAEncryption"];if(!n){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=a.getCertificationRequestInfo(t);var c=o.toDer(t.certificationRequestInfo);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){r=v({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||a.getCertificationRequestInfo(t),i=o.toDer(n);r.update(i.getBytes())}return null!==r&&(e=g({certificate:t,md:r,signature:t.signature})),e},t};var C=new Date("1950-01-01T00:00:00Z"),_=new Date("2050-01-01T00:00:00Z");function T(t){return t>=C&&t<_?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(t)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(t))}a.getTBSCertificate=function(t){var e=T(t.validity.notBefore),r=T(t.validity.notAfter),n=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,i.util.hexToBytes(t.serialNumber)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.siginfo.algorithmOid).getBytes()),E(t.siginfo.algorithmOid,t.siginfo.parameters)]),m(t.issuer),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[e,r]),m(t.subject),a.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(a.certificateExtensionsToAsn1(t.extensions)),n},a.getCertificationRequestInfo=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),m(t.subject),a.publicKeyToAsn1(t.publicKey),S(t)])},a.distinguishedNameToAsn1=function(t){return m(t)},a.certificateToAsn1=function(t){var e=t.tbsCertificate||a.getTBSCertificate(t);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[e,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.signatureOid).getBytes()),E(t.signatureOid,t.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},a.certificateExtensionsToAsn1=function(t){var e=o.create(o.Class.CONTEXT_SPECIFIC,3,!0,[]),r=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(a.certificateExtensionToAsn1(t[n]));return e},a.certificateExtensionToAsn1=function(t){var e=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);e.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.id).getBytes())),t.critical&&e.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!==typeof t.value&&(r=o.toDer(r).getBytes()),e.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)),e},a.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||a.getCertificationRequestInfo(t);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[e,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.signatureOid).getBytes()),E(t.signatureOid,t.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},a.createCaStore=function(t){var e={certs:{}};function r(t){return n(t),e.certs[t.hash]||null}function n(t){if(!t.hash){var e=i.md.sha1.create();t.attributes=a.RDNAttributesAsArray(m(t),e),t.hash=e.digest().toHex()}}if(e.getIssuer=function(t){return r(t.issuer)},e.addCertificate=function(t){if("string"===typeof t&&(t=i.pki.certificateFromPem(t)),n(t.subject),!e.hasCertificate(t))if(t.subject.hash in e.certs){var r=e.certs[t.subject.hash];i.util.isArray(r)||(r=[r]),r.push(t),e.certs[t.subject.hash]=r}else e.certs[t.subject.hash]=t},e.hasCertificate=function(t){"string"===typeof t&&(t=i.pki.certificateFromPem(t));var e=r(t.subject);if(!e)return!1;i.util.isArray(e)||(e=[e]);for(var n=o.toDer(a.certificateToAsn1(t)).getBytes(),s=0;s<e.length;++s){if(n===o.toDer(a.certificateToAsn1(e[s])).getBytes())return!0}return!1},e.listAllCertificates=function(){var t=[];for(var r in e.certs)if(e.certs.hasOwnProperty(r)){var n=e.certs[r];if(i.util.isArray(n))for(var o=0;o<n.length;++o)t.push(n[o]);else t.push(n)}return t},e.removeCertificate=function(t){var s;if("string"===typeof t&&(t=i.pki.certificateFromPem(t)),n(t.subject),!e.hasCertificate(t))return null;var u=r(t.subject);if(!i.util.isArray(u))return s=e.certs[t.subject.hash],delete e.certs[t.subject.hash],s;for(var c=o.toDer(a.certificateToAsn1(t)).getBytes(),f=0;f<u.length;++f){c===o.toDer(a.certificateToAsn1(u[f])).getBytes()&&(s=u[f],u.splice(f,1))}return 0===u.length&&delete e.certs[t.subject.hash],s},t)for(var s=0;s<t.length;++s){var u=t[s];e.addCertificate(u)}return e},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(t,e,r){"function"===typeof r&&(r={verify:r}),r=r||{};var o=(e=e.slice(0)).slice(0),s=r.validityCheckDate;"undefined"===typeof s&&(s=new Date);var u=!0,c=null,f=0;do{var l=e.shift(),h=null,p=!1;if(s&&(s<l.validity.notBefore||s>l.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:s}),null===c){if(null===(h=e[0]||t.getIssuer(l))&&l.isIssuer(l)&&(p=!0,h=l),h){var d=h;i.util.isArray(d)||(d=[d]);for(var y=!1;!y&&d.length>0;){h=d.shift();try{y=h.verify(l)}catch(C){}}y||(c={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}null!==c||h&&!p||t.hasCertificate(l)||(c={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(null===c&&h&&!l.isIssuer(h)&&(c={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),null===c)for(var v={keyUsage:!0,basicConstraints:!0},g=0;null===c&&g<l.extensions.length;++g){var m=l.extensions[g];m.critical&&!(m.name in v)&&(c={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(null===c&&(!u||0===e.length&&(!h||p))){var b=l.getExtension("basicConstraints"),w=l.getExtension("keyUsage");if(null!==w&&(w.keyCertSign&&null!==b||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate})),null!==c||null===b||b.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),null===c&&null!==w&&"pathLenConstraint"in b)f-1>b.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}var E=null===c||c.error,S=r.verify?r.verify(E,f,o):E;if(!0!==S)throw!0===E&&(c={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(S||0===S)&&("object"!==n(S)||i.util.isArray(S)?"string"===typeof S&&(c.error=S):(S.message&&(c.message=S.message),S.error&&(c.error=S.error))),c;c=null,u=!1,++f}while(e.length>0);return!0}},17220:function(t,e,r){"use strict";var n=r(70354),i=r(95848),o=r(67961),a=r(87616),s=r(37631),u=r(64893);function c(t){if(16!==t.length)throw new Error("invalid iv")}function f(t){return n.setupFallback((function(e,r,i){try{c(i)}catch(a){return Promise.reject(a)}var o=Promise.resolve(r);return o=o.then((function(r){var o="AES-"+t+"-CBC",a=n.nodeCrypto.createCipheriv(o,e,i);return Buffer.concat([a.update(r),a.final()])})),o}),(function(t,e,r){try{c(r)}catch(o){return Promise.reject(o)}var i=Promise.resolve();return i=(i=(i=i.then((function(){return n.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["encrypt"])}))).then((function(t){var i={name:"AES-CBC",iv:r};return n.subtleCrypto.encrypt(i,t,e)}))).then((function(t){return t=Buffer.from(t)}))}),(function(t,e,r){try{c(r)}catch(i){return Promise.reject(i)}var n=Promise.resolve();return n=n.then((function(){var n=a.cipher.createCipher("AES-CBC",new s(t));return n.start({iv:new s(r)}),n.update(new s(e)),n.finish()?Buffer.from(n.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))}))}))}function l(t){return n.setupFallback((function(e,r,i){try{c(i)}catch(a){return Promise.reject(a)}var o=Promise.resolve();return o=o.then((function(){var o="AES-"+t+"-CBC",a=n.nodeCrypto.createDecipheriv(o,e,i);return Buffer.concat([a.update(r),a.final()])}))}),(function(t,e,r){try{c(r)}catch(o){return Promise.reject(o)}var i=Promise.resolve();return i=(i=(i=i.then((function(){return n.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["decrypt"])}))).then((function(t){var i={name:"AES-CBC",iv:r};return n.subtleCrypto.decrypt(i,t,e)}))).then((function(t){return t=Buffer.from(t)}))}),(function(t,e,r){try{c(r)}catch(i){return Promise.reject(i)}var n=Promise.resolve();return n=n.then((function(){var n=a.cipher.createDecipher("AES-CBC",new s(t));return n.start({iv:new s(r)}),n.update(new s(e)),n.finish()?Buffer.from(n.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))}))}))}function h(t,e){if(e<<1!==t.length<<3)throw new Error("invalid encryption key size")}function p(t){var e=f(t);return function(r,o,a){try{h(r,t)}catch(p){return Promise.reject(p)}var s=r.slice(t/8),u=r.slice(0,t/8),c=a.iv||Buffer.alloc(0),f=a.aad||a.adata||Buffer.alloc(0),l=e(s,o,c);return l=l.then((function(e){var r=Buffer.concat([f,c,e,n.int64ToBuffer(8*f.length)]);return i["HS"+2*t].sign(u,r,{length:t}).then((function(r){var n=r.mac.slice(0,t/8);return{data:e,tag:n}}))}))}}function d(t){var e=l(t);return function(r,o,a){try{h(r,t)}catch(d){return Promise.reject(d)}var s=r.slice(t/8),u=r.slice(0,t/8),c=a.iv||Buffer.alloc(0),f=a.aad||a.adata||Buffer.alloc(0),l=a.tag||a.mac||Buffer.alloc(0),p=Promise.resolve();return p=(p=p.then((function(){var e=Buffer.concat([f,c,o,n.int64ToBuffer(8*f.length)]);return i["HS"+2*t].verify(u,e,l,{length:t}).then((function(){return o}),(function(){throw new Error("mac check failed")}))}))).then((function(){return e(s,o,c)}))}}var y=Buffer.from("Encryption","utf8"),v=Buffer.from("Integrity","utf8"),g=Buffer.from(".","utf8");function m(t,e,r,i){var a=8*t.length,s=a/2,u=Promise.resolve();return u=(u=u.then((function(){return Buffer.concat([n.int32ToBuffer(1),t,n.int32ToBuffer(s),Buffer.from(e,"utf8"),r,i,y])}))).then((function(t){return o["SHA-"+a].digest(t).then((function(t){return t.slice(0,s/8)}))})),u=Promise.resolve(u)}function b(t,e,r,i){var a=8*t.length,s=a,u=Promise.resolve();return u=(u=u.then((function(){return Buffer.concat([n.int32ToBuffer(1),t,n.int32ToBuffer(s),Buffer.from(e,"utf8"),r,i,v])}))).then((function(t){return o["SHA-"+a].digest(t).then((function(t){return t.slice(0,s/8)}))})),u=Promise.resolve(u)}function w(t,e){var r=f(t);return function(o,a,s){var c,f,l=s.epu||n.int32ToBuffer(0),h=s.epv||n.int32ToBuffer(0),p=s.iv||Buffer.alloc(0),d=s.aad||s.adata||Buffer.alloc(0),y=s.kdata||Buffer.alloc(0),v=[m(o,e,l,h),b(o,e,l,h)],w=Promise.all(v).then((function(t){c=t[0],f=t[1]}));return w=(w=(w=w.then((function(){return r(c,a,p)}))).then((function(e){var r=Buffer.concat([d,g,Buffer.from(y),g,Buffer.from(u.base64url.encode(p),"utf8"),g,Buffer.from(u.base64url.encode(e),"utf8")]);return Promise.all([Promise.resolve(e),i["HS"+2*t].sign(f,r,{length:t})])}))).then((function(t){return{data:t[0],tag:t[1].mac}}))}}function E(t,e){var r=l(t);return function(o,a,s){var c,f,l=s.epu||n.int32ToBuffer(0),h=s.epv||n.int32ToBuffer(0),p=s.iv||Buffer.alloc(0),d=s.aad||s.adata||Buffer.alloc(0),y=s.kdata||Buffer.alloc(0),v=s.tag||s.mac||Buffer.alloc(0),w=[m(o,e,l,h),b(o,e,l,h)],E=Promise.all(w).then((function(t){c=t[0],f=t[1]}));return E=(E=E.then((function(){var e=Buffer.concat([d,g,Buffer.from(y),g,Buffer.from(u.base64url.encode(p),"utf8"),g,Buffer.from(u.base64url.encode(a),"utf8")]);try{return i["HS"+2*t].verify(f,e,v,{loose:!1})}catch(r){throw new Error("mac check failed")}}))).then((function(){return r(c,a,p)}))}}var S={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach((function(t){var e=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:p(e),decrypt:d(e)}})),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach((function(t){var e=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:w(e,t),decrypt:E(e,t)}})),t.exports=S},39696:function(t,e,r){"use strict";var n=r(70354),i=r(64893),o=r(72278),a=r(77867);function s(t,e){function r(r,n){if(t!==r.length<<3)throw new Error("invalid key size");if(!n&&!e)throw new Error("invalid iv");if(n&&12!==n.length)throw new Error("invalid iv")}function s(t){if(e){var r=i.base64url.encode(t.iv),n=i.base64url.encode(t.tag);t={data:t.data,header:{iv:r,tag:n}}}return t}return n.setupFallback((function(t,e,o){var a=o.iv,u=o.aad||o.adata||Buffer.alloc(0);try{r(t,a)}catch(l){return Promise.reject(l)}a=a||i.randomBytes(12);var c,f="aes-"+8*t.length+"-gcm";try{c=n.nodeCrypto.createCipheriv(f,t,a)}catch(l){throw new Error("unsupported algorithm: "+f)}if("function"!==typeof c.setAAD)throw new Error("unsupported algorithm: "+f);return u.length&&c.setAAD(u),s({data:Buffer.concat([c.update(e),c.final()]),iv:a,tag:c.getAuthTag()})}),(function(t,e,o){var a=o.iv,u=o.aad||o.adata||Buffer.alloc(0);try{r(t,a)}catch(f){return Promise.reject(f)}a=a||i.randomBytes(12);var c={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",t,c,!0,["encrypt"]).then((function(t){return c.iv=a,c.tagLength=128,u.length&&(c.additionalData=u),n.subtleCrypto.encrypt(c,t,e)})).then((function(t){var e=t.byteLength-16,r=t.slice(e);r=Buffer.from(r);var n=t.slice(0,e);return s({data:n=Buffer.from(n),iv:a,tag:r})}))}),(function(t,e,n){var u,c,f=n.iv,l=n.aad||n.adata||Buffer.alloc(0);try{r(t,f)}catch(h){return Promise.reject(h)}return f=f||i.randomBytes(12),u=a.createCipher({key:t,iv:f,additionalData:l}),c=Buffer.alloc(e.length),new Promise((function(t,r){var n=o.CHUNK_SIZE,i=0,a=0;!function o(){var l=Math.min(n,e.length-a);if(i+=u.update(e,a,l,c,i),a+=l,e.length>a)setTimeout(o,0);else if((i+=u.finish(c,i))===e.length){var h=u.tag;t(s({data:c,iv:f,tag:h}))}else r(new Error("encryption failed"))}()}))}))}function u(t){function e(e,r,n){if(t!==e.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}return n.setupFallback((function(t,r,i){var o=i.aad||i.adata||Buffer.alloc(0),a=i.iv||Buffer.alloc(0),s=i.tag||i.mac||Buffer.alloc(0);try{e(t,a,s)}catch(f){return Promise.reject(f)}var u,c="aes-"+8*t.length+"-gcm";try{u=n.nodeCrypto.createDecipheriv(c,t,a)}catch(f){throw new Error("unsupported algorithm: "+c)}if("function"!==typeof u.setAAD)throw new Error("unsupported algorithm: "+c);u.setAuthTag(s),o.length&&u.setAAD(o);try{return Buffer.concat([u.update(r),u.final()])}catch(f){throw new Error("decryption failed")}}),(function(t,r,i){var o=i.aad||i.adata||Buffer.alloc(0),a=i.iv||Buffer.alloc(0),s=i.tag||i.mac||Buffer.alloc(0);try{e(t,a,s)}catch(c){return Promise.reject(c)}var u={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",t,u,!0,["decrypt"]).then((function(t){return u.iv=a,u.tagLength=128,o.length&&(u.additionalData=o),r=Buffer.concat([r,s],r.length+s.length),n.subtleCrypto.decrypt(u,t,r)})).then((function(t){return t=Buffer.from(t)}))}),(function(t,r,n){var i,s,u=n.aad||n.adata||Buffer.alloc(0),c=n.iv||Buffer.alloc(0),f=n.tag||n.mac||Buffer.alloc(0);try{e(t,c,f)}catch(l){return Promise.reject(l)}return i=a.createDecipher({key:t,iv:c,additionalData:u,tag:f}),s=Buffer.alloc(r.length),new Promise((function(t,e){var n=o.CHUNK_SIZE,a=0,u=0;!function o(){var c=Math.min(n,r.length-u);if(a+=i.update(r,u,c,s,a),u+=c,r.length>u)setTimeout(o,0);else{try{a+=i.finish(s,a)}catch(l){return void e(new Error("decryption failed"))}a===r.length?t(s):e(new Error("decryption failed"))}}()}))}))}var c={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach((function(t){var e=/A(\d+)GCM(KW)?/g.exec(t),r=parseInt(e[1]),n="KW"===e[2];c[t]={encrypt:s(r,n),decrypt:u(r)}})),t.exports=c},3131:function(t,e,r){"use strict";var n=r(70354),i=r(87616),o=r(37631),a=Buffer.from("a6a6a6a6a6a6a6a6","hex");function s(t,e){for(var r=Math.max(t.length,e.length),n=Buffer.alloc(r),i=0;r>i;i++)n[i]=(t[i]||0)^(e[i]||0);return n}function u(t,e){for(var r=[],n=0;t.length>n;n+=e)r.push(t.slice(n,n+e));return r}function c(t){var e=Math.floor(t/4294967296),r=t%4294967296,n=Buffer.alloc(8);return n[0]=255&e>>>24,n[1]=255&e>>>16,n[2]=255&e>>>8,n[3]=255&e>>>0,n[4]=255&r>>>24,n[5]=255&r>>>16,n[6]=255&r>>>8,n[7]=255&r>>>0,n}function f(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length&&0!==r.length%8)throw new Error("invalid data length")}return n.setupFallback((function(r,i){try{e(r,i)}catch(g){return Promise.reject(g)}var o,f,l,h=u(i,8),p=Buffer.alloc(16);o=a;for(var d=0;6>d;d++)for(var y=0;h.length>y;y++){l=h.length*d+y+1,f=Buffer.concat([o,h[y]]),o=s((f=n.nodeCrypto.createCipheriv("AES"+t,r,p).update(f)).slice(0,8),c(l)),h[y]=f.slice(8,16)}h=[o].concat(h);var v=Buffer.concat(h);return Promise.resolve({data:v})}),(function(t,r){try{e(t,r)}catch(a){return Promise.reject(a)}var i={name:"AES-KW"},o=[n.subtleCrypto.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),n.subtleCrypto.importKey("raw",t,i,!0,["wrapKey"])];return o=(o=(o=Promise.all(o)).then((function(t){return n.subtleCrypto.wrapKey("raw",t[0],t[1],i)}))).then((function(t){return{data:t=Buffer.from(t)}}))}),(function(t,r){try{e(t,r)}catch(g){return Promise.reject(g)}var n,f,l,h=i.cipher.createCipher("AES",new o(t)),p=u(r,8);n=a;for(var d=0;6>d;d++)for(var y=0;p.length>y;y++)l=p.length*d+y+1,f=Buffer.concat([n,p[y]]),h.start(),h.update(new o(f)),h.finish(),n=s((f=Buffer.from(h.output.bytes(),"binary")).slice(0,8),c(l)),p[y]=f.slice(8,16);p=[n].concat(p);var v=Buffer.concat(p);return Promise.resolve({data:v})}))}function l(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!==r.length%8)throw new Error("invalid data length")}return n.setupFallback((function(r,i){try{e(r,i)}catch(v){return Promise.reject(v)}var o,f,l=u(i,8),h=Buffer.alloc(16);o=l[0],l=l.slice(1);for(var p=5;0<=p;--p)for(var d=l.length-1;0<=d;--d){f=s(o,c(l.length*p+d+1)),f=Buffer.concat([f,l[d],h]),o=(f=n.nodeCrypto.createDecipheriv("AES"+t,r,h).update(f)).slice(0,8),l[d]=f.slice(8,16)}if(o.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var y=Buffer.concat(l);return Promise.resolve(y)}),(function(t,r){try{e(t,r)}catch(a){return Promise.reject(a)}var i={name:"AES-KW"},o=n.subtleCrypto.importKey("raw",t,i,!0,["unwrapKey"]);return o=o.then((function(t){return n.subtleCrypto.unwrapKey("raw",r,t,i,{name:"HMAC",hash:"SHA-256"},!0,["sign"])})),o=(o=o.then((function(t){return n.subtleCrypto.exportKey("raw",t)}))).then((function(t){return t=Buffer.from(t)}))}),(function(t,r){try{e(t,r)}catch(v){return Promise.reject(v)}var n,f,l=i.cipher.createDecipher("AES",new o(t)),h=u(r,8);n=h[0],h=h.slice(1);for(var p=5;0<=p;--p)for(var d=h.length-1;0<=d;--d)f=s(n,c(h.length*p+d+1)),f=Buffer.concat([f,h[d]]),l.start(),l.update(new o(f)),l.finish(),n=(f=Buffer.from(l.output.bytes(),"binary")).slice(0,8),h[d]=f.slice(8,16);if(n.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var y=Buffer.concat(h);return Promise.resolve(y)}))}var h={};["A128KW","A192KW","A256KW"].forEach((function(t){var e=parseInt(/A(\d+)KW/g.exec(t)[1]);h[t]={encrypt:f(e),decrypt:l(e)}})),t.exports=h},87823:function(t,e,r){"use strict";var n=r(72278),i=r(67961);function o(t){t=t.replace("CONCAT-","");return function(e,r){var o=(r=r||{}).length,a=n.HASHLENGTH[t];if(!o)return Promise.reject(new Error("invalid key length"));if(!r.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var s=r.otherInfo,u=i[t].digest,c=Math.ceil(o/a),f=0,l=[];return function t(){if(c===f++)return Buffer.concat(l).slice(0,o);var r=Buffer.alloc(4+e.length+s.length);return r.writeUInt32BE(f,0),e.copy(r,4),s.copy(r,4+e.length),u(r).then((function(e){return l.push(e),t()}))}()}}var a={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach((function(t){a[t]={derive:o(t)}})),t.exports=a},72278:function(t){"use strict";t.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},79540:function(t){"use strict";var e={dir:{encrypt:function(t){return Promise.resolve({data:t,once:!0,direct:!0})},decrypt:function(t){return Promise.resolve(t)}}};t.exports=e},50524:function(t,e,r){"use strict";var n=r(36),i=r(94129),o=r(87616),a=r(64893),s={"P-256":256,"P-384":384,"P-521":521};function u(t,e){var r=n(t);return(e?["x","y"]:["d"]).forEach((function(t){r[t]=a.asBuffer(r[t],"base64url")})),r}var c=Buffer.from([4]);var f="1.2.840.10045.2.1";var l="Could not extract parameters from DER signature";function h(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=128&&--n,n}t.exports={convertToForge:function(t,e){var r=e?["x","y"]:["d"];return r=r.map((function(e){return new o.jsbn.BigInteger(t[e].toString("hex"),16)})),r=[t.crv].concat(r),(e?i.asPublicKey:i.asPrivateKey).apply(i,r)},convertToJWK:function(t,e){var r=n(t);return(e?["x","y"]:["x","y","d"]).forEach((function(t){r[t]=a.base64url.encode(r[t])})),delete r.key_ops,delete r.use,delete r.alg,e&&delete r.d,r},convertToObj:u,convertToBuffer:function(t,e){return t=u(t,e),e?Buffer.concat([c,t.x,t.y]):t.d},curveSize:function(t){return s[t||""]||NaN},derToConcat:function(t,e){var r=0;if(48!==t[r++])throw new Error(l);var n=t[r++];if(129===n&&(n=t[r++]),n>t.length-r)throw new Error(l);if(2!==t[r++])throw new Error(l);var i=t[r++];if(i>t.length-r-2)throw new Error(l);if(i>e+1)throw new Error(l);var o=r;if(r+=i,2!==t[r++])throw new Error(l);var a=t[r++];if(a!==t.length-r)throw new Error(l);if(a>e+1)throw new Error(l);var s=r;if((r+=a)!==t.length)throw new Error(l);var u=e-i,c=e-a,f=Buffer.alloc(u+i+c+a);for(r=0;r<u;++r)f[r]=0;var h=Math.max(-u,0);t.copy(f,r,o+h,o+i);for(var p=r=e;r<p+c;++r)f[r]=0;var d=Math.max(-c,0);return t.copy(f,r,s+d,s+a),f},concatToDer:function(t,e){var r=h(t,0,e),n=h(t,e,t.length),i=e-r,o=e-n,a=i+o+4,s=a<128,u=Buffer.alloc((s?2:3)+a),c=0;return u[c++]=48,s?u[c++]=a:(u[c++]=129,u[c++]=255&a),u[c++]=2,u[c++]=i,r<0?(u[c++]=0,c+=t.copy(u,c,0,e)):c+=t.copy(u,c,r,e),u[c++]=2,u[c++]=o,n<0?(u[c++]=0,t.copy(u,c,e)):t.copy(u,c,e+n),u},convertToPEM:function(t,e){var r,n,i,a=t.crv;return a=function(t){switch(t){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}(a),a=o.asn1.oidToDer(a),e?(r="EC PRIVATE KEY",n=Buffer.concat([Buffer.from([0,4]),t.x,t.y]).toString("binary"),t=t.d.toString("binary"),i=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.INTEGER,!1,"\x01"),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OCTETSTRING,!1,t),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,0,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,a.bytes())]),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,1,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,n)])])):(r="PUBLIC KEY",t=Buffer.concat([Buffer.from([0,4]),t.x,t.y]).toString("binary"),i=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,o.asn1.oidToDer(f).bytes()),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,a.bytes())]),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,t)])),i=o.asn1.toDer(i).bytes(),o.pem.encode({type:r,body:i})},EC_OID:f}},20375:function(t,e,r){"use strict";var n=r(68873),i=r(64893),o=r(50524),a=r(25928),s=r(87823),u=r(3131),c=r(70354),f=r(72278),l=r(36),h=r(7768),p=r(12912);function d(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+t)}}var y=t.exports={};function v(t,e,r){function n(t){return Buffer.concat([c.int32ToBuffer(t.length),t])}var o=r.algorithm||"",a=f.KEYLENGTH[o],s=i.asBuffer(r.apu||"","base64url"),u=i.asBuffer(r.apv||"","base64url"),l={public:e,length:a/8,hash:"SHA-256",otherInfo:Buffer.concat([n(Buffer.from(o,"utf8")),n(s),n(u),c.int32ToBuffer(a)])};return y["ECDH-CONCAT"].derive(t,l)}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach((function(t){var e,r,i=/^ECDH(?:-(\w+))?$/g.exec(t||"")[1],u=y[t]=y[t]||{};switch(i||""){case"CONCAT":u.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||d(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(o){return Promise.reject(o)}var n=["public"],i=y.ECDH.derive(t,p(e,n));return i.then((function(t){return s["CONCAT-"+r].derive(t,h(e,n))}))};break;case"HKDF":u.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||d(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(o){return Promise.reject(o)}var n=["public"],i=y.ECDH.derive(t,p(e,n));return i.then((function(t){return a["HKDF-"+r].derive(t,h(e,n))}))};break;case"":u.derive=(e={name:"ECDH"},r=function(t,e){var r=t&&o.convertToForge(t,!0);if(!r||!r.isValid())return Promise.reject(new Error("invalid EC public key"));switch(e){case"jwk":r=o.convertToJWK(t,!0);break;case"buffer":r=o.convertToBuffer(t,!0)}return Promise.resolve(r)},c.setupFallback((function(t,e){if("function"!==typeof c.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var n,i=(e=e||{}).length||0;switch(t.crv){case"P-256":n="prime256v1";break;case"P-384":n="secp384r1";break;case"P-521":n="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+n))}var a=o.convertToBuffer(t,!1),s=r(e.public,"buffer");return s=s.then((function(t){var e=c.nodeCrypto.createECDH(n);e.setPrivateKey(a);var r=e.computeSecret(t);if(i){if(r.length<i)return Promise.reject(new Error("key length too large: "+i));r=r.slice(0,i)}return r})),s}),(function(t,i){t=t||{};var a=(i=i||{}).length||0,s=n(l(e),{namedCurve:t.crv});a||(a=t.d.length);var u=o.convertToJWK(t,!1);u=c.subtleCrypto.importKey("jwk",u,s,!1,["deriveBits"]);var f=r(i.public,"jwk");f=f.then((function(t){return c.subtleCrypto.importKey("jwk",t,s,!1,[])}));var h=Promise.all([u,f]);return h=h.then((function(t){var r=t[0],i=t[1],o=n(l(e),{public:i});return c.subtleCrypto.deriveBits(o,r,8*a)})),h.then((function(t){return Buffer.from(t)}))}),(function(t,e){var n=(e=e||{}).length||0,i=o.convertToForge(t,!1),a=r(e.public,"forge");return a.then((function(t){var e=i.computeSecret(t);if(n){if(e.length<n)return Promise.reject(new Error("key length too large: "+n));e=e.slice(0,n)}return e}))})));break;default:u.derive=null}})),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach((function(t){var e,r,n=/^ECDH-ES(?:\+(.+))?/g.exec(t||"")[1],i=y[t]=y[t]||{};n?(n=u[n])?(i.encrypt=(r=n.encrypt,function(t,e,n){if(!(n=n||{}).epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=o.convertToObj(n.epk,!1);if(!t||!t.x||!t.y)return Promise.reject(new Error("missing static public key"));var a=v(i,o.convertToObj(t,!0),{algorithm:n.alg,apu:n.apu,apv:n.apv});return a.then((function(t){return r(t,e)}))}),i.decrypt=(e=n.decrypt,function(t,r,n){if(!(n=n||{}).epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=o.convertToObj(n.epk,!0);if(!t||!t.d)return Promise.reject(new Error("missing static private key"));var a=v(o.convertToObj(t,!1),i,{algorithm:n.alg,apu:n.apu,apv:n.apv});return a.then((function(t){return e(t,r)}))})):i.ecrypt=i.decrypt=null:(i.encrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=o.convertToObj(r.epk,!1);if(!t||!t.x||!t.y)return Promise.reject(new Error("missing static public key"));var i=v(n,o.convertToObj(t,!0),{algorithm:r.enc,apu:r.apu,apv:r.apv});return i.then((function(t){return{data:t,once:!0,direct:!0}}))},i.decrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=o.convertToObj(r.epk,!0);if(!t||!t.d)return Promise.reject(new Error("missing static private key"));var i=v(o.convertToObj(t,!1),n,{algorithm:r.enc,apu:r.apu,apv:r.apv});return i.then((function(t){return t}))})}))},25999:function(t,e,r){"use strict";var n=r(50524),i=r(70354),o=r(67961);function a(t){switch(t){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+t)}}function s(t){var e,r=a(t),s=t.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(s)>-1&&(e=function(t,e){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var o,a;switch(o=(o=Promise.resolve(i.nodeCrypto.createSign(s))).then((function(t){return t.update(e),t})),s.slice(-3)){case"384":a=48;break;case"512":a=66;break;default:a=32}return o=(o=o.then((function(e){return n.derToConcat(e.sign(n.convertToPEM(t,!0)),a)}))).then((function(t){return{data:e,mac:t}}))}),i.setupFallback(e,(function(e,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var a,s=n.convertToJWK(e,!1),u={name:"ECDSA",namedCurve:s.crv,hash:{name:t}};return a=(a=i.subtleCrypto.importKey("jwk",s,u,!0,["sign"])).then((function(t){return i.subtleCrypto.sign(u,t,o)})),a=a.then((function(t){return t=Buffer.from(t),{data:o,mac:t}}))}),(function(e,i){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var a=n.convertToForge(e,!1);return o[t].digest(i).then((function(t){return t=a.sign(t),t=Buffer.concat([t.r,t.s]),{data:i,mac:t}}))}))}function u(t){var e,r=a(t),s=t.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(s)>-1&&(e=function(t,e,o){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var a;switch(s.slice(-3)){case"384":a=48;break;case"512":a=66;break;default:a=32}return Promise.resolve(i.nodeCrypto.createVerify(s)).then((function(r){return r.update(e),r.end(),r.verify(n.convertToPEM(t,!1),n.concatToDer(o,a))})).then((function(t){if(!t)throw new Error("verification failed");return{data:e,mac:o,valid:!0}}))}),i.setupFallback(e,(function(e,o,a){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s,u=n.convertToJWK(e,!0),c={name:"ECDSA",namedCurve:u.crv,hash:{name:t}};return s=(s=i.subtleCrypto.importKey("jwk",u,c,!0,["verify"])).then((function(t){return i.subtleCrypto.verify(c,t,a,o)})),s=s.then((function(t){return t?{data:o,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(e,i,a){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToForge(e,!0);return o[t].digest(i).then((function(t){var e=a.length/2,r={r:a.slice(0,e),s:a.slice(e)};return s.verify(t,r)?{data:i,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))}))}))}var c={};["ES256","ES384","ES512"].forEach((function(t){var e=t.replace(/ES(\d+)/g,(function(t,e){return"SHA-"+e}));c[t]={sign:s(e),verify:u(e)}})),t.exports=c},70354:function(t,e,r){"use strict";"undefined"===typeof Promise&&r(86653).polyfill(),e.int32ToBuffer=function(t,e){return(e=e||Buffer.alloc(4))[0]=t>>>24&255,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=255&t,e};var n=Math.pow(2,32);e.int64ToBuffer=function(t,r){r=r||Buffer.alloc(8);var i=Math.floor(t/n),o=t%n;return i=e.int32ToBuffer(i),o=e.int32ToBuffer(o),r=Buffer.concat([i,o])};var i={};Object.defineProperty(e,"subtleCrypto",{get:function(){return"subtleCrypto"in i?i.subtleCrypto:i.subtleCrypto=function(){if("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle)return crypto.subtle}()},enumerable:!0}),Object.defineProperty(e,"nodeCrypto",{get:function(){return"nodeCrypto"in i?i.nodeCrypto:i.nodeCrypto=function(){var t;try{t=r(36303)}catch(e){return}if(Object.keys(t).length)return t}()},enumerable:!0}),e.setupFallback=function(t,r,n){var i;return i=t&&e.nodeCrypto?function(){var e,r=arguments;try{e=Promise.resolve(t.apply(null,r))}catch(o){e=function(t){return 0===t.message.indexOf("unsupported algorithm:")?(i=n).apply(null,r):Promise.reject(t)}(o)}return e}:r&&e.subtleCrypto?function(){var t,e=arguments;function o(t){return t.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==t.message&&t instanceof Error?Promise.reject(t):(i=n).apply(null,e)}try{t=(t=r.apply(null,e)).catch(o)}catch(a){t=o(a)}return t}:n,i}},25928:function(t,e,r){"use strict";var n=r(72278),i=r(95848);function o(t){var e=t.replace("HKDF-",""),r=t.replace("HKDF-SHA-","HS");return function(t,o){var a=n.HASHLENGTH[e]/8;"string"===typeof r&&(r=i[r].sign);var s=(o=o||{}).salt;s&&0!==s.length||(s=Buffer.alloc(a));var u=o.info||Buffer.alloc(0),c=o.length||a,f=Math.ceil(c/a),l=[],h=0;function p(t,e){return f===h++?Buffer.concat(l).slice(0,c):(e||(e=Buffer.alloc(0)),e=Buffer.concat([e,u,Buffer.from([h])]),e=(e=r(t,e)).then((function(r){return e=r.mac,l.push(e),p(t,e)})))}return r(s,t,{length:8*s.length}).then((function(t){return p(t.mac)}))}}var a={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach((function(t){a[t]={derive:o(t)}})),t.exports=a},95848:function(t,e,r){"use strict";var n=r(72278),i=r(87616),o=r(37631),a=r(70354);function s(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function o(t,e){return(t=(t||n.HASHLENGTH[r])/8)>e.length?Promise.reject(new Error("invalid key length")):Promise.resolve(e)}return a.setupFallback((function(t,r,n){var i;return i=(i=o((n=n||{}).length,t)).then((function(){var n=a.nodeCrypto.createHmac(e,t);n.update(r);var i=n.digest();return{data:r,mac:i}})),i}),(function(t,e,n){var i={name:"HMAC",hash:{name:r}};return o((n=n||{}).length,t).then((function(){return a.subtleCrypto.importKey("raw",t,i,!0,["sign"])})).then((function(t){return a.subtleCrypto.sign(i,t,e)})).then((function(t){var r=Buffer.from(t);return{data:e,mac:r}}))}),(function(t,r,n){return o((n=n||{}).length,t).then((function(){var n=i.hmac.create();return n.start(e,t.toString("binary")),n.update(r.toString("binary")),n=Buffer.from(n.digest().bytes(),"binary"),{data:r,mac:n}}))}))}function u(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function s(t,e,i){t=(t||n.HASHLENGTH[r])/8;for(var o=!0,a=0;t>a;a++)o=o&&e[a]===i[a];return o}return a.setupFallback((function(t,r,n,i){i=i||{};var o=a.nodeCrypto.createHmac(e,t);o.update(r);var u=o.digest();if(!s(i.length,n,u))throw new Error("verification failed");return{data:r,mac:u,valid:!0}}),(function(t,e,n,i){var o={name:"HMAC",hash:{name:r}};return((i=i||{}).length?a.subtleCrypto.importKey("raw",t,o,!0,["sign"]).then((function(t){return a.subtleCrypto.sign(o,t,e)})).then((function(t){var e=Buffer.from(t);return s(i.length,n,e)})):a.subtleCrypto.importKey("raw",t,o,!0,["verify"]).then((function(t){return a.subtleCrypto.verify(o,t,n,e)}))).then((function(t){return t?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verifaction failed"))}))}),(function(t,r,n,a){a=a||{};var u=i.hmac.create();return u.start(e,new o(t)),u.update(r.toString("binary")),u=Buffer.from(u.digest().bytes(),"binary"),s(a.length,n,u)?Promise.resolve({data:r,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))}))}var c={};["HS1","HS256","HS384","HS512"].forEach((function(t){c[t]={sign:s(t),verify:u(t)}})),t.exports=c},61664:function(t,e,r){"use strict";var n=[r(17220),r(39696),r(3131),r(87823),r(79540),r(20375),r(25999),r(25928),r(95848),r(68091),r(16701),r(42544),r(67961)],i={},o={},a={},s={},u={},c={};n.forEach((function(t){Object.keys(t).forEach((function(e){var r=t[e];"function"===typeof r.encrypt&&(u[e]=r.encrypt),"function"===typeof r.decrypt&&(c[e]=r.decrypt),"function"===typeof r.sign&&(a[e]=r.sign),"function"===typeof r.verify&&(s[e]=r.verify),"function"===typeof r.digest&&(i[e]=r.digest),"function"===typeof r.derive&&(o[e]=r.derive)}))})),e.digest=function(t,e,r){var n=i[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.derive=function(t,e,r){var n=o[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.sign=function(t,e,r,n){var i=a[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.verify=function(t,e,r,n,i){var o=s[t];return o?o(e,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.encrypt=function(t,e,r,n){var i=u[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.decrypt=function(t,e,r,n){var i=c[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))}},68091:function(t,e,r){"use strict";var n=r(87616),i=r(68873),o=r(64893),a=r(70354),s=r(72278),u=r(3131),c=Buffer.from([0]);function f(t,e,r){var n="PBES2-"+t+"+"+e,i=[Buffer.from(n,"utf8"),c,r];return Buffer.concat(i)}function l(t){function e(t){var e=(t=t||{}).length||0,r=o.asBuffer(t.salt||Buffer.alloc(0),"base64u4l"),n=t.iterations||0;if(0>=e)throw new Error("invalid key length");if(0>=n)throw new Error("invalid iteration count");return t.length=e,t.salt=r,t.iterations=n,t}return a.setupFallback((function(r,n){if(6>a.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+t);try{n=e(n)}catch(c){return Promise.reject(c)}var i=n.length,o=n.salt,s=n.iterations,u=t.replace("-","");return new Promise((function(t,e){a.nodeCrypto.pbkdf2(r,o,s,i,u,(function(r,n){r?e(r):t(n)}))}))}),(function(r,n){try{n=e(n)}catch(f){return Promise.reject(f)}var i=n.length,s=n.salt,u=n.iterations,c=Promise.resolve(r);return c=(c=c.then((function(t){return a.subtleCrypto.importKey("raw",t,"PBKDF2",!1,["deriveBits"])}))).then((function(e){var r={name:"PBKDF2",salt:new Uint8Array(s),iterations:u,hash:t};return a.subtleCrypto.deriveBits(r,e,8*i)})),c=c.then((function(t){return o.asBuffer(t)}))}),(function(r,i){try{i=e(i)}catch(u){return Promise.reject(u)}var o=i.length,a=i.salt,s=i.iterations;return new Promise((function(e,i){var u=n.md[t.replace("-","").toLowerCase()].create();n.pkcs5.pbkdf2(r.toString("binary"),a.toString("binary"),s,o,u,(function(t,r){t?i(t):(r=Buffer.from(r,"binary"),e(r))}))}))}))}function h(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),n=s.KEYLENGTH[e]/8;return function(a,s,c){c=c||{};var l=o.asBuffer(c.p2s||Buffer.alloc(0),"base64url"),h=c.p2c||8192;if(0>=h)throw new Error("invalid iteration count");if(0===l.length)l=o.randomBytes(16);else if(8>l.length)throw new Error("salt too small");var p={p2s:o.base64url.encode(l),p2c:h};l=f(t,e,l),c=i(c,{salt:l,iterations:h,length:n});var y=Promise.resolve(a);return y=y.then((function(t){return d[r].derive(t,c)})),y=(y=y.then((function(t){return u[e].encrypt(t,s)}))).then((function(t){return t.header=i(t.header||{},p),t}))}}function p(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),n=s.KEYLENGTH[e]/8;return function(a,s,c){c=c||{};var l=o.asBuffer(c.p2s||Buffer.alloc(0),"base64url"),h=c.p2c||0;if(0>=h)return Promise.reject(new Error("invalid iteration count"));if(8>l.length)return Promise.reject(new Error("salt too small"));l=f(t,e,l),c=i(c,{salt:l,iterations:h,length:n});var p=Promise.resolve(a);return p=p.then((function(t){return d[r].derive(t,c)})),p=p.then((function(t){return u[e].decrypt(t,s)}))}}var d={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach((function(t){var e=t.replace("PBKDF2-","");d[t]={derive:l(e)}})),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach((function(t){var e=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(t),r=e[1],n=e[2];d[t]={encrypt:h(r,n),decrypt:p(r,n)}})),t.exports=d},53922:function(t,e,r){"use strict";var n=r(36),i=r(87616),o=r(64893);function a(t,e){var r=e?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return r=r.map((function(e){return new i.jsbn.BigInteger(t[e].toString("hex"),16)})),(e?i.pki.rsa.setPublicKey:i.pki.rsa.setPrivateKey).apply(i.pki.rsa,r)}t.exports={convertToForge:a,convertToJWK:function(t,e){var r=n(t);return(e?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach((function(t){r[t]=o.base64url.encode(r[t])})),delete r.key_ops,delete r.use,delete r.alg,e&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r},convertToPem:function(t,e){var r,n=e?"__cachedPublicPem":"__cachedPrivatePem";return t[n]?t[n]:(r=e?i.pki.publicKeyToPem(a(t,e)):i.pki.privateKeyToPem(a(t,e)),Object.defineProperty(t,n,{value:r}),r)}}},16701:function(t,e,r){"use strict";var n=r(87616),i=r(70354),o=r(37631),a=r(53922),s={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function u(t){return i.nodeCrypto&&i.nodeCrypto.constants&&-1!==Object.keys(s).indexOf(t)}function c(t){var e={name:t};"RSA-OAEP-256"===t?(e.name="RSA-OAEP",e.hash={name:"SHA-256"}):"RSA-OAEP"===t?e.hash={name:"SHA-1"}:e.name="RSAES-PKCS1-v1_5";var r,c;return r="RSAES-PKCS1-v1_5"!==e.name?function(t,r){return t=a.convertToJWK(t,!0),i.subtleCrypto.importKey("jwk",t,e,!0,["encrypt"]).then((function(t){return i.subtleCrypto.encrypt(e,t,r)})).then((function(t){return{data:Buffer.from(t)}}))}:null,u(t)&&(c=function(e,r){return e=a.convertToPem(e,!0),{data:i.nodeCrypto.publicEncrypt({key:e,padding:i.nodeCrypto.constants[s[t]]},r)}}),i.setupFallback(c,r,(function(t,r){r=new o(r).bytes();var i=a.convertToForge(t,!0),s={};"RSA-OAEP"===e.name&&(s.md=e.hash.name.toLowerCase().replace(/-/g,""),s.md=n.md[s.md].create());var u=i.encrypt(r,e.name.toUpperCase(),s);return u=new o(u).native(),Promise.resolve({data:u})}))}function f(t){var e={name:t};"RSA-OAEP-256"===t?(e.name="RSA-OAEP",e.hash={name:"SHA-256"}):"RSA-OAEP"===t?e.hash={name:"SHA-1"}:e.name="RSAES-PKCS1-v1_5";var r,c;return r="RSAES-PKCS1-v1_5"!==e.name?function(t,r){return t=a.convertToJWK(t,!1),i.subtleCrypto.importKey("jwk",t,e,!0,["decrypt"]).then((function(t){return i.subtleCrypto.decrypt(e,t,r)})).then((function(t){return Buffer.from(t)}))}:null,u(t)?c=function(e,r){return e=a.convertToPem(e,!1),i.nodeCrypto.privateDecrypt({key:e,padding:i.nodeCrypto.constants[s[t]]},r)}:i.nodeCrypto&&"RSA-OAEP"===t&&(c=function(t,e){return t=a.convertToPem(t,!1),i.nodeCrypto.privateDecrypt(t,e)}),i.setupFallback(c,r,(function(t,r){r=new o(r).bytes();var i=a.convertToForge(t,!1),s={};"RSA-OAEP"===e.name&&(s.md=e.hash.name.toLowerCase().replace(/-/g,""),s.md=n.md[s.md].create());var u=i.decrypt(r,e.name.toUpperCase(),s);return u=new o(u).native(),Promise.resolve(u)}))}var l={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach((function(t){l[t]={encrypt:c(t),decrypt:f(t)}})),t.exports=l},42544:function(t,e,r){"use strict";var n=r(87616),i=r(72278),o=r(70354),a=r(53922);function s(){return o.nodeCrypto&&o.nodeCrypto.constants&&o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function u(t){var e,r=t.replace("RS","SHA").toLowerCase(),i=t.replace("RS","SHA-"),s={name:"RSASSA-PKCS1-V1_5",hash:{name:i}},u="RSA-"+i.replace("-","");return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(u)>-1&&(e=function(t,e){var r=o.nodeCrypto.createSign(u);return r.update(e),{data:e,mac:r.sign(a.convertToPem(t,!1))}}),o.setupFallback(e,(function(t,e){return t=a.convertToJWK(t,!1),o.subtleCrypto.importKey("jwk",t,s,!0,["sign"]).then((function(t){return o.subtleCrypto.sign(s,t,e)})).then((function(t){var r=Buffer.from(t);return{data:e,mac:r}}))}),(function(t,e){var i=n.md[r].create();i.start(),i.update(e);var o=a.convertToForge(t,!1).sign(i,"RSASSA-PKCS1-V1_5");return o=Buffer.from(o,"binary"),Promise.resolve({data:e,mac:o})}))}function c(t){var e,r=t.replace("RS","SHA").toLowerCase(),i={name:"RSASSA-PKCS1-V1_5",hash:{name:t.replace("RS","SHA-")}};return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(r)>-1&&(e=function(t,e,n){var i=o.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify(a.convertToPem(t,!0),n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(e,(function(t,e,r){return t=a.convertToJWK(t,!0),o.subtleCrypto.importKey("jwk",t,i,!0,["verify"]).then((function(t){return o.subtleCrypto.verify(i,t,r,e)})).then((function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(t,e,i){var o=n.md[r].create();o.start(),o.update(e),o=o.digest().bytes();var s=a.convertToForge(t,!0),u=i.toString("binary");return s.verify(o,u,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:e,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))}))}function f(t){var e,r=t.replace("PS","SHA").toLowerCase(),u=t.replace("PS","SHA-"),c={name:"RSA-PSS",hash:{name:u},saltLength:i.HASHLENGTH[u]/8},f="RSA-"+u.replace("-","");return s()&&(e=function(t,e){var r=o.nodeCrypto.createSign(f);return r.update(e),{data:e,mac:r.sign({key:a.convertToPem(t,!1),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST})}}),o.setupFallback(e,(function(t,e){return t=a.convertToJWK(t,!1),o.subtleCrypto.importKey("jwk",t,c,!0,["sign"]).then((function(t){return o.subtleCrypto.sign(c,t,e)})).then((function(t){var r=Buffer.from(t);return{data:e,mac:r}}))}),(function(t,e){var o=n.md[r].create();o.start(),o.update(e);var s=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[u]/8}),c=a.convertToForge(t,!1).sign(o,s);return c=Buffer.from(c,"binary"),Promise.resolve({data:e,mac:c})}))}function l(t){var e,r=t.replace("PS","SHA").toLowerCase(),u=t.replace("PS","SHA-"),c={name:"RSA-PSS",hash:{name:u},saltLength:i.HASHLENGTH[u]/8};return s()&&(e=function(t,e,n){var i=o.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify({key:a.convertToPem(t,!0),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(e,(function(t,e,r){return t=a.convertToJWK(t,!0),o.subtleCrypto.importKey("jwk",t,c,!0,["verify"]).then((function(t){return o.subtleCrypto.verify(c,t,r,e)})).then((function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(t,e,o){var s=n.md[r].create();s.start(),s.update(e),s=s.digest().bytes();var c=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[u]/8}),f=a.convertToForge(t,!0),l=o.toString("binary");return f.verify(s,l,c)?Promise.resolve({data:e,mac:o,valid:!0}):Promise.reject(new Error("verification failed"))}))}var h={};["PS256","PS384","PS512"].forEach((function(t){h[t]={sign:f(t),verify:l(t)}})),["RS256","RS384","RS512"].forEach((function(t){h[t]={sign:u(t),verify:c(t)}})),t.exports=h},67961:function(t,e,r){"use strict";var n=r(87616),i=r(70354);var o={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach((function(t){var e,r,a;o[t]={digest:(e=t,r=e.replace("SHA-","SHA").toLowerCase(),a={name:e},i.setupFallback((function(t){var e=i.nodeCrypto.createHash(r);return e.update(t),e.digest()}),(function(t){return i.subtleCrypto.digest(a,t).then((function(t){return t=Buffer.from(t)}))}),(function(t){var e=n.md[r].create();return e.update(t.toString("binary")),e=Buffer.from(e.digest().bytes(),"binary"),Promise.resolve(e)})))}})),t.exports=o},84346:function(t,e,r){"use strict";var n=r(88066),i=r(73772),o=r(72852),a=3774873600,s=new n(a>>8);var u=t.exports={E1:a,E1B:225,E1L:s,LOOKUP:function(){for(var t=[],e=0;e<256;++e){for(var r=0,n=7;n>=0;--n)0!==(e&1<<n)&&(r^=a>>>7-n);t.push(r)}return t}(),arrayCopy:function(t,e,r,n,i){if(e<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==e||i<t.length)&&(t=t instanceof Uint8Array?t.subarray(e,e+i):t.slice(e,e+i)),r.set(t,n)}else for(var o=0;o<i;++o)r[n+o]=t[e+o]},arrayEqual:function(t,e){t=t||[],e=e||[];for(var r=Math.min(t.length,e.length),n=t.length===e.length,i=0;i<r;i++)n=n&&"undefined"!==typeof t[i]&&"undefined"!==typeof e[i]&&t[i]===e[i];return n},asBytes:function(t,e){switch(arguments.length){case 1:return e=Buffer.alloc(16),o.intToBigEndian(t,e,0),e;case 2:o.intToBigEndian(t,e,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(t,e){switch(arguments.length){case 1:return i(e=[],0,0,4),o.bigEndianToInt(t,0,e),e;case 2:o.bigEndianToInt(t,0,e);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var t=[],e=0;e<4;++e)t.push(1<<31);return t},shiftRight:function(t,e){var r,n;switch(arguments.length){case 1:return r=t[0],t[0]=r>>>1,n=r<<31,r=t[1],t[1]=r>>>1|n,n=r<<31,r=t[2],t[2]=r>>>1|n,n=r<<31,r=t[3],t[3]=r>>>1|n,r<<31&4294967295;case 2:return r=t[0],e[0]=r>>>1,n=r<<31,r=t[1],e[1]=r>>>1|n,n=r<<31,r=t[2],e[2]=r>>>1|n,n=r<<31,r=t[3],e[3]=r>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(t,e,r){var n,i,o;switch(arguments.length){case 2:return i=t[0],n=32-e,t[0]=i>>>e,o=i<<n,i=t[1],t[1]=i>>>e|o,o=i<<n,i=t[2],t[2]=i>>>e|o,o=i<<n,i=t[3],t[3]=i>>>e|o,i<<n;case 3:return i=t[0],n=32-e,r[0]=i>>>e,o=i<<n,i=t[1],r[1]=i>>>e|o,o=i<<n,i=t[2],r[2]=i>>>e|o,o=i<<n,i=t[3],r[3]=i>>>e|o,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(t,e,r){switch(arguments.length){case 2:t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3];break;case 3:r[0]=t[0]^e[0],r[1]=t[1]^e[1],r[2]=t[2]^e[2],r[3]=t[3]^e[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(t,e){for(var r=t.slice(),n=[],i=0;i<4;++i)for(var o=e[i],a=31;a>=0;--a)0!==(o&1<<a)&&u.xor(n,r),0!==u.shiftRight(r)&&(r[0]^=u.E1);u.arrayCopy(n,0,t,0,4)},multiplyP:function(t,e){switch(arguments.length){case 1:0!==u.shiftRight(t)&&(t[0]^=u.E1);break;case 2:0!==u.shiftRight(t,e)&&(e[0]^=u.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(t,e){var r;switch(arguments.length){case 1:r=u.shiftRightN(t,8),t[0]^=u.LOOKUP[r>>>24];break;case 2:r=u.shiftRightN(t,8,e),e[0]^=u.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}},77867:function(t,e,r){"use strict";var n=r(88066),i=r(87616),o=r(49251),a=r(84346),s=r(72852),u=r(37631),c=r(74288);function f(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=this.blockSize||16}t.exports={createCipher:function(t){var e=new i.aes.Algorithm("AES-GCM",f);return e.initialize({key:new u(t.key)}),e.mode.start(t),e.mode},createDecipher:function(t){var e=new i.aes.Algorithm("AES-GCM",f);return e.initialize({key:new u(t.key)}),e.mode._decrypt=!0,e.mode.start(t),e.mode}},f.prototype.start=function(t){if(this.tag=null,!("iv"in(t=t||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=t.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in t&&(this.tag=Buffer.from(t.tag));var e=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=Buffer.alloc(e);var r=t.multiplier;if(null==r&&(r=new o["8k"]),this.multiplier=r,this.H=this.zeroBlock(),c.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var i=this.zeroBlock();s.longToBigEndian(new n(this.nonce.length).multiply(8),i,8),this.gHASHBlock(this.J0,i)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=n.ZERO,this.atLengthPre=n.ZERO,this.counter=Buffer.from(this.J0),this.bufOff=0,this.totalLength=n.ZERO,"additionalData"in t&&this.processAADBytes(t.additionalData,0,t.additionalData.length)},f.prototype.update=function(t,e,r,n,i){for(var o=0;r>0;){var a=Math.min(r,this.bufBlock.length-this.bufOff);t.copy(this.bufBlock,this.bufOff,e,e+a),r-=a,e+=a,this.bufOff+=a,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+o),o+=this.blockSize)}return o},f.prototype.finish=function(t,e){var r=0;this._decrypt&&(r+=this.update(this.tag,0,this.tag.length,t,e)),this.totalLength.isZero()&&this.initCipher();var n=this.bufOff;if(this._decrypt){if(n<this.tagLength)throw new Error("data too short");n-=this.tagLength}n>0&&(this.gCTRPartial(this.bufBlock,0,n,t,e+r),r+=n),this.atLength=this.atLength.add(this.atBlockPos);var i=this.zeroBlock();s.longToBigEndian(this.atLength.multiply(8),i,0),s.longToBigEndian(this.totalLength.multiply(8),i,8),this.gHASHBlock(this.S,i);var o=Buffer.alloc(this.blockSize);if(c.encrypt(this.cipher,this.J0,0,o,0),this.xor(o,this.S),this._decrypt){if(!a.arrayEqual(this.tag,o))throw new Error("mac check in Gcm failed")}else this.tag=Buffer.alloc(this.tagLength),o.copy(this.tag,0,0,this.tagLength);return r},f.prototype.initCipher=function(){this.atLength.greaterThan(n.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(n.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(n.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},f.prototype.outputBlock=function(t,e){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,t,e),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},f.prototype.processAADBytes=function(t,e,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=t[e+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},f.prototype.getNextCounterBlock=function(){for(var t=15;t>=12;--t){var e=this.counter[t]+1&255;if(this.counter[t]=e,0!==e)break}var r=Buffer.alloc(this.blockSize);return c.encrypt(this.cipher,this.counter,0,r,0),r},f.prototype.gCTRBlock=function(t,e,r){var n=this.getNextCounterBlock();this.xor(n,t),n.copy(e,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?t:n),this.totalLength=this.totalLength.add(this.blockSize)},f.prototype.gCTRPartial=function(t,e,r,n,i){var o=this.getNextCounterBlock();this.xor(o,t,e,r),o.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?t:o,0,r),this.totalLength=this.totalLength.add(r)},f.prototype.gHASHBlock=function(t,e){this.xor(t,e),this.multiplier.multiplyH(t)},f.prototype.gHASHPartial=function(t,e,r,n){this.xor(t,e,r,n),this.multiplier.multiplyH(t)},f.prototype.xor=function(t,e,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)t[i]^=e[i];break;case 4:for(;n-- >0;)t[n]^=e[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return t},f.prototype.zeroBlock=function(){return Buffer.alloc(16)}},49251:function(t,e,r){"use strict";var n=r(84346),i=r(72852);function o(){this.H=[],this.M=null}o.prototype.init=function(t){var e,r,i;if(null==this.M)for(this.M=[],e=0;e<32;++e)for(this.M[e]=[],r=0;r<16;++r)for(this.M[e][r]=[],i=0;i<4;++i)this.M[e][r][i]=0;else if(n.arrayEqual(this.H,t))return;for(this.H=t.slice(),n.asInts(t,this.M[1][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[1][r+r],this.M[1][r]);for(n.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[0][r+r],this.M[0][r]);for(e=0;;){for(r=2;r<16;r+=r)for(i=1;i<r;++i)n.xor(this.M[e][r],this.M[e][i],this.M[e][r+i]);if(32===++e)return;if(e>1)for(r=8;r>0;r>>=1)n.multiplyP8(this.M[e-2][r],this.M[e][r])}},o.prototype.multiplyH=function(t){for(var e=[],r=15;r>=0;--r){var n=this.M[r+r][15&t[r]];e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3],n=this.M[r+r+1][(240&t[r])>>>4],e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3]}i.intToBigEndian(e,t,0)},t.exports={"8k":o}},74288:function(t,e,r){"use strict";var n=r(72852);t.exports={encrypt:function(t,e,r,i,o){var a=new Array(4),s=new Array(4);n.bigEndianToInt(e,r,a),t.encrypt(a,s),n.intToBigEndian(s,i,o)}}},72852:function(t,e,r){"use strict";var n=r(88066),i=t.exports={intToBigEndian:function(t,e,r){if("number"===typeof t)switch(arguments.length){case 1:e=Buffer.alloc(4),i.intToBigEndian(t,e,0);break;case 3:e[r]=255&t>>>24,e[++r]=255&t>>>16,e[++r]=255&t>>>8,e[++r]=255&t;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=Buffer.alloc(4*t.length),i.intToBigEndian(t,e,0);break;case 3:for(var n=0;n<t.length;++n)i.intToBigEndian(t[n],e,r),r+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},longToBigEndian:function(t,e,r){if(Array.isArray(t))switch(arguments.length){case 1:e=Buffer.alloc(8*t.length),i.longToBigEndian(t,e,0);break;case 3:for(var n=0;n<t.length;++n)i.longToBigEndian(t[n],e,r),r+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=Buffer.alloc(8),i.longToBigEndian(t,e,0);break;case 3:var o=t.low,a=t.high;i.intToBigEndian(a,e,r),i.intToBigEndian(o,e,r+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},bigEndianToInt:function(t,e,r){switch(arguments.length){case 2:var n=t[e]<<24;return n|=(255&t[++e])<<16,n|=(255&t[++e])<<8,n|=255&t[++e];case 3:for(var o=0;o<r.length;++o)r[o]=i.bigEndianToInt(t,e),e+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(t,e,r){switch(arguments.length){case 2:var o=i.bigEndianToInt(t,e),a=i.bigEndianToInt(t,e+4);return new n(a,o);case 3:for(var s=0;s<r.length;++s)r[s]=i.bigEndianToLong(t,e),e+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}},46685:function(t,e,r){"use strict";var n=r(87616).jsbn.BigInteger,i=r(28119);function o(t,e,r,n){this.curve=t,this.g=e,this.n=r,this.h=n}function a(t){return new n(t,16)}o.prototype.getCurve=function(){return this.curve},o.prototype.getG=function(){return this.g},o.prototype.getN=function(){return this.n},o.prototype.getH=function(){return this.h};var s,u,c,f,l,h,p,d=t.exports={secp256r1:(s=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),u=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),c=a("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),f=a("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),l=n.ONE,h=new i.ECCurveFp(s,u,c),p=h.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),new o(h,p,f,l)),secp384r1:function(){var t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=a("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),s=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),u=n.ONE,c=new i.ECCurveFp(t,e,r),f=c.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new o(c,f,s,u)}(),secp521r1:function(){var t=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),e=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=a("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),s=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),u=n.ONE,c=new i.ECCurveFp(t,e,r),f=c.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new o(c,f,s,u)}()};d["P-256"]=d.secp256r1,d["P-384"]=d.secp384r1,d["P-521"]=d.secp521r1},94129:function(t,e,r){"use strict";var n=r(87616),i=n.jsbn.BigInteger,o=r(28119),a=r(46685);function s(t){return new i(t,16)}function u(t,e){e||(e=Math.ceil(t.bitLength()/8)),e*=2;var r=t.toString(16);for(r=r.substring(Math.max(r.length-e,0));e>r.length;)r="0"+r;return Buffer.from(r,"hex")}function c(t){return"string"===typeof t&&(t=Buffer.from(t,"binary")),s(t.toString("hex"))}function f(t){return Math.ceil(t.getN().bitLength()/8)}function l(t){var e=a[t];if(!e)throw new TypeError("unsupported named curve: "+t);return e}function h(t,e){var r=t.getN().bitLength(),n=8*e.length,i=c(e);return r<n&&(i=i.shiftRight(n-r)),i}function p(t,e,r){var n=l(t),i=n.getCurve(),a=new o.ECPointFp(i,i.fromBigInteger(e),i.fromBigInteger(r));this.curve=t,this.params=n,this.point=a;var s=f(n);this.x=u(e,s),this.y=u(r,s)}function d(t,e){var r=l(t);this.curve=t,this.params=r;var n=f(r);this.d=u(e,n)}p.prototype.isValid=function(){return this.params.curve.contains(this.point)},p.prototype.verify=function(t,e){var r=this.params.getN(),n=this.params.getG(),o=c(e.r),a=c(e.s);if(o.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;if(a.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;var s=h(this.params,t),u=a.modInverse(r),f=s.multiply(u).mod(r),l=o.multiply(u).mod(r),p=n.multiplyTwo(f,this.point,l).getX().toBigInteger();return(p=p.mod(r)).equals(o)},d.prototype.toPublicKey=function(){var t=c(this.d),e=this.params.getG().multiply(t);return new p(this.curve,e.getX().toBigInteger(),e.getY().toBigInteger())},d.prototype.sign=function(t){var e,r,o,a,s=f(this.params),l=this.params.getN(),p=this.params.getG(),d=h(this.params,t),y=c(this.d);do{do{do{o=c(n.random.getBytes(s))}while(o.equals(i.ZERO)||o.compareTo(l)>=0);e=p.multiply(o).getX().toBigInteger().mod(l)}while(e.equals(i.ZERO));a=y.multiply(e),a=d.add(a),r=o.modInverse(l).multiply(a).mod(l)}while(r.equals(i.ONE));var v=f(this.params);return{r:e=u(e,v),s:r=u(r,v)}},d.prototype.isValid=function(){var t=c(this.d),e=this.params.getN().subtract(i.ONE);return t.compareTo(i.ONE)>=0&&t.compareTo(e)<0},d.prototype.computeSecret=function(t){var e=c(this.d),r=t.point.multiply(e).getX().toBigInteger();return r=u(r,f(this.params))},e.generateKeyPair=function(t){var e=l(t),r=e.getN(),o=n.random.getBytes(f(e));o=c(o);var a=r.subtract(i.ONE),s=new d(t,o.mod(a).add(i.ONE)),u=s.toPublicKey();return{private:s,public:u}},e.asPublicKey=function(t,e,r){return"string"===typeof e?e=s(e):Buffer.isBuffer(e)&&(e=c(e)),"string"===typeof r?r=s(r):Buffer.isBuffer(r)&&(r=c(r)),new p(t,e,r)},e.asPrivateKey=function(t,e){return"string"===typeof e?e=s(e):Buffer.isBuffer(e)&&(e=c(e)),new d(t,e)}},28119:function(t,e,r){"use strict";var n=r(87616).jsbn.BigInteger;function i(){return new n(null)}function o(t){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function a(t,e){this.x=e,this.p=t}function s(t,e,r,i){this.curve=t,this.x=e,this.y=r,this.z=i||n.ONE,this.zinv=null}function u(t,e,r){this.p=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new s(this,null,null),this.reducer=new o(this.p)}o.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},o.prototype.revert=function(t){return t},o.prototype.reduce=function(t){if(t.s<0)throw Error("Barrett reduction on negative input");for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},o.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},o.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},a.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.x.equals(t.x)},a.prototype.toBigInteger=function(){return this.x},a.prototype.negate=function(){return new a(this.p,this.x.negate().mod(this.p))},a.prototype.add=function(t){return new a(this.p,this.x.add(t.toBigInteger()).mod(this.p))},a.prototype.subtract=function(t){return new a(this.p,this.x.subtract(t.toBigInteger()).mod(this.p))},a.prototype.multiply=function(t){return new a(this.p,this.x.multiply(t.toBigInteger()).mod(this.p))},a.prototype.square=function(){return new a(this.p,this.x.pow(2).mod(this.p))},a.prototype.divide=function(t){return new a(this.p,this.x.multiply(t.toBigInteger().modInverse(this.p)).mod(this.p))},s.prototype.getX=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},s.prototype.getY=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},s.prototype.equals=function(t){return t===this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO))},s.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(n.ZERO)&&!this.y.toBigInteger().equals(n.ZERO)},s.prototype.negate=function(){return new s(this.curve,this.x,this.y.negate(),this.z)},s.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p);if(n.ZERO.equals(r))return n.ZERO.equals(e)?this.twice():this.curve.getInfinity();var i=new n("3"),o=this.x.toBigInteger(),a=this.y.toBigInteger(),u=r.pow(2),c=u.multiply(r),f=o.multiply(u),l=e.pow(2).multiply(this.z),h=l.subtract(f.shiftLeft(1)).multiply(t.z).subtract(c).multiply(r).mod(this.curve.p),p=f.multiply(i).multiply(e).subtract(a.multiply(c)).subtract(l.multiply(e)).multiply(t.z).add(e.multiply(c)).mod(this.curve.p),d=c.multiply(this.z).multiply(t.z).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(p),d)},s.prototype.twice=function(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new n("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),o=i.multiply(r).mod(this.curve.p),a=this.curve.a.toBigInteger(),u=e.pow(2).multiply(t);n.ZERO.equals(a)||(u=u.add(this.z.pow(2).multiply(a)));var c=(u=u.mod(this.curve.p)).pow(2).subtract(e.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(i).mod(this.curve.p),f=u.multiply(t).multiply(e).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(u.pow(2).multiply(u)).mod(this.curve.p),l=i.pow(2).multiply(i).shiftLeft(3).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(f),l)},s.prototype.multiply=function(t){if(this.isInfinity())return this;if(0===t.signum())return this.curve.getInfinity();var e,r=t,i=r.multiply(new n("3")),o=this.negate(),a=this;for(e=i.bitLength()-2;e>0;--e){a=a.twice();var s=i.testBit(e);s!==r.testBit(e)&&(a=a.add(s?this:o))}return a},s.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},u.prototype.getP=function(){return this.p},u.prototype.getA=function(){return this.a},u.prototype.getB=function(){return this.b},u.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.a.equals(t.a)&&this.b.equals(t.b)},u.prototype.contains=function(t){var e=t.getX().toBigInteger(),r=t.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),o=this.p,a=r.pow(2).mod(o),s=e.pow(3).add(n.multiply(e)).add(i).mod(o);return a.equals(s)},u.prototype.getInfinity=function(){return this.infinity},u.prototype.fromBigInteger=function(t){return new a(this.p,t)},u.prototype.reduce=function(t){this.reducer.reduce(t)},u.prototype.decodePointHex=function(t){switch(parseInt(t.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),i=t.substr(e+2,e);return new s(this,this.fromBigInteger(new n(r,16)),this.fromBigInteger(new n(i,16)))}},u.prototype.encodePointHex=function(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),r=t.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!==0&&n++;e.length<n;)e="0"+e;for(;r.length<n;)r="0"+r;return"04"+e+r},t.exports={ECFieldElementFp:a,ECPointFp:s,ECCurveFp:u}},87616:function(t,e,r){"use strict";var n,i,o=r(46933);function a(t){t=t||{},this.name="",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}r(35233),r(73873),r(73495),r(27515),r(46609),r(29249),r(98960),r(84396),r(30442),r(62926),r(36313),r(86353),r(18164),r(91664),r(51313),r(55363),r(9698),r(26980),a.prototype.start=function(){},a.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},a.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},i=a,n=function(){return new o.aes.Algorithm("AES",i)},o.cipher.registerAlgorithm("AES",n);var s=o.jsbn.BigInteger.prototype.modInverse;o.jsbn.BigInteger.prototype.modInverse=function(t){return s.apply(this,[t]).mod(t)},t.exports=o},58956:function(t,e,r){"use strict";"undefined"===typeof Promise&&r(86653).polyfill(),"undefined"===typeof Buffer&&((r.g||window).Buffer=r(22486).hp),"undefined"===typeof process&&((r.g||window).process=r(44277)),process.version||(process.version="");var n=r(58487);t.exports={JWA:r(61664),JWE:r(9877),JWK:r(93871),JWS:n,util:r(64893),parse:r(75832),canYouSee:n.createVerify}},27776:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(7789),o=r(41853),a=r(93871),s=r(68873),u=r(5661),c={algorithms:"*"};function f(t,e){var r,f;if(a.isKey(t))f=(r=t).keystore;else{if(!a.isKeyStore(t))throw new TypeError("Keystore must be provided");f=t}e=s({},c,e),Object.defineProperty(this,"decrypt",{value:function(t,c){var l,h=(c=s({},e,c||{})).handlers||{},p=Object.keys(h),d=new o(c.algorithms);if("string"===typeof t)t={protected:(t=t.split("."))[0],recipients:[{encrypted_key:t[1]}],iv:t[2],ciphertext:t[3],tag:t[4]};else if(!t||"object"!==n(t))throw new Error("invalid input");"encrypted_key"in t&&(t.recipients=[{encrypted_key:t.encrypted_key}]);var y,v,g,m,b,w=t.recipients||[{}];return l=(l=Promise.resolve(w)).then((function(e){if(t.protected){v=i.decode(t.protected).toString("utf8");var r=(v=JSON.parse(v)).crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var n=0;r.length>n;n++)if(-1===p.indexOf(r[n]))return Promise.reject(new Error("Critical extension is not supported: "+r[n]))}y=v,v=Object.keys(v)}else y={},v=[];return y=s(t.unprotected||{},y),e=e.map((function(t){var e=Promise.resolve(),r=t.header||{};return r=s(r,y),t.header=r,t.protected=v,d.match(r.alg)||(e=e.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.alg))}))),d.match(r.enc)||(e=e.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.enc))}))),r.epk&&(e=(e=e.then((function(){return a.asKey(r.epk)}))).then((function(t){r.epk=t.toObject(!1)}))),e.then((function(){return t}))})),Promise.all(e)})),l=l.then((function(t){var e={};return new Promise((function(n,o){!function s(){var u=t.shift();if(u){var c=Promise.resolve(u);c=c.then((function(t){var e=b=t.encrypted_key||"";return e=i.decode(e),(g=r||f.get({use:"enc",alg:t.header.alg,kid:t.header.kid}))?g.unwrap(t.header.alg,e,t.header):Promise.reject()})),(c=c.then((function(t){m={kty:"oct",k:i.encode(t)},m=a.asKey(m),e.key=g,e.header=u.header,e.protected=u.protected,n(e)}))).catch(s)}else o(new Error("no key found"))}()}))})),l=(l=(l=(l=(l=(l=l.then((function(e){return e.iv=t.iv,e.tag=t.tag,e.ciphertext=t.ciphertext,e}))).then((function(t){var e=[];return p.forEach((function(r){var i;"function"===typeof(r=h[r])?i=r(t):"object"===n(r)&&"function"===typeof r.prepare&&(i=r.prepare(t)),i&&e.push(Promise.resolve(i))})),Promise.all(e).then((function(){return t}))}))).then((function(t){return Buffer.isBuffer(t.ciphertext)||(t.ciphertext=i.decode(t.ciphertext)),t}))).then((function(e){var r=t.protected;"aad"in t&&null!=t.aad&&(r+="."+t.aad);var n={iv:e.iv,adata:r,tag:e.tag,kdata:b,epu:e.epu,epv:e.epv},i=e.ciphertext;return delete e.iv,delete e.tag,delete e.ciphertext,m.then((function(t){return t.decrypt(e.header.enc,i,n).then((function(t){return e.payload=e.plaintext=t,e}))}))}))).then((function(t){return"DEF"===t.header.zip?new Promise((function(e,r){try{var n=u.inflateRaw(Buffer.from(t.plaintext));t.payload=t.plaintext=Buffer.from(n),e(t)}catch(i){r(i)}})):t}))).then((function(t){var e=[];return p.forEach((function(r){var i;"object"===n(r=h[r])&&"function"===typeof r.complete&&(i=r.complete(t)),i&&e.push(Promise.resolve(i))})),Promise.all(e).then((function(){return t}))}))}})}t.exports={decrypter:f,createDecrypt:function(t,e){return new f(t,e)}}},66591:function(t){"use strict";t.exports={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"}},2164:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(64893),o=r(93856).generateCEK,a=r(93871),s=r(93856).slice,u=r(5661),c=r(72278),f=r(32632),l=r(36),h=r(66591);function p(t,e,r){var s=!1,h=t.format||"general",p=!!t.protectAll,d=Buffer.alloc(0);Object.defineProperty(this,"zip",{get:function(){return e.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===h},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return h},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return l(t.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return l(e)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(s)throw new Error("already final");return null!=t&&(t=i.asBuffer(t,e),d=d.length?Buffer.concat([d,t],d.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(y,v){if(s)return Promise.reject(new Error("already final"));this.update(y,v),s=!0;var g,m=Promise.resolve({}),b=e.enc;m=(m=m.then((function(e){return t.cek&&(g=a.asKey(t.cek)),e}))).then((function(n){var s=Promise.all(r);return s=s.then((function(r){var n=1===r.length;return r=r.map((function(r){return function(r,n){var s={};s=f(s,e),s=f(s,r.header);var u,c,h=r.key,p=s.alg;return 0===(s.alg||"").indexOf("ECDH-ES")?(u=h.keystore.temp(),c=r.epk?Promise.resolve(r.epk).then((function(t){r.header.epk=t.toJSON(!1,["kid"]),s.epk=t.toObject(!0,["kid"])})):u.generate("EC",h.get("crv")).then((function(t){r.header.epk=t.toJSON(!1,["kid"]),s.epk=t.toObject(!0,["kid"])}))):c=Promise.resolve(),c=c.then((function(){var r,i;return"dir"===p&&n?i=(g=Promise.resolve(h)).then((function(t){return b||(s.enc=e.enc=b=t.algorithms(a.MODE_ENCRYPT)[0]),{once:!0,direct:!0}})):(g||(b||(s.enc=e.enc=b=t.contentAlg),g=o(b)),i=(i=g.then((function(t){return r=t.get("k",!0),h}))).then((function(t){return t.wrap(p,r,s)}))),i})),c.then((function(t){if(t.once&&!n)return Promise.reject(new Error("cannot use 'alg':'"+p+"' with multiple recipients"));var e,o={};return t.data&&(e=t.data,e=i.base64url.encode(e)),t.direct&&e?g=a.asKey({kty:"oct",k:e}):e&&(o.encrypted_key=e),r.header&&Object.keys(r.header).length&&(o.header=l(r.header||{})),t.header&&(o.header=f(o.header||{},t.header)),o}))}(r,n)})),Promise.all(r)})),s=s.then((function(t){return n.recipients=t.filter((function(t){return!!t})),n}))}));var w={};switch(m=(m=m.then((function(r){var n,o,a,s;return a=l(e),p&&1===r.recipients.length||"compact"===h?(n={},n=f({},a,r.recipients[0].header),o=Object.keys(n).length,a=void 0,s=0,delete r.recipients[0].header,0===Object.keys(r.recipients[0]).length&&r.recipients.splice(0,1)):(n={},o=0,s=Object.keys(a).length,t.protect.forEach((function(t){t in a&&(n[t]=a[t],o++,delete a[t],s--)})),r.recipients=(r.recipients||[]).map((function(t){var e=(t=t||{}).header;return e&&(Object.keys(e).forEach((function(t){t in n&&delete e[t]})),Object.keys(e).length||delete t.header),t}))),r.recipients&&0!==r.recipients.length||delete r.recipients,a&&s>0&&(w=f(w,a),r.unprotected=a),n&&o>0&&(w=f(w,n),n=JSON.stringify(n),r.protected=i.base64url.encode(n,"utf8")),r}))).then((function(t){var e=d;return w.zip?"DEF"===w.zip?new Promise((function(r,n){try{var i=u.deflateRaw(Buffer.from(e,"binary"));t.plaintext=Buffer.from(i),r(t)}catch(o){n(o)}})):Promise.reject(new Error("unsupported 'zip' mode")):(t.plaintext=e,t)})),m=m.then((function(e){w.adata=e.protected,"aad"in t&&null!=t.aad&&(w.adata+="."+t.aad,w.adata=Buffer.from(w.adata,"utf8"));var r=t.iv||i.randomBytes(c.NONCELENGTH[b]/8);"string"===typeof r&&(r=i.base64url.decode(r)),w.iv=r,"recipients"in e&&1===e.recipients.length&&(w.kdata=e.recipients[0].encrypted_key),"epu"in t&&null!=t.epu&&(w.epu=t.epu),"epv"in t&&null!=t.epv&&(w.epv=t.epv);var n=e.plaintext;return delete e.plaintext,g.then((function(o){var a=o.encrypt(b,n,w);return a=a.then((function(n){return e.iv=i.base64url.encode(r,"binary"),"aad"in t&&null!=t.aad&&(e.aad=t.aad),e.ciphertext=i.base64url.encode(n.data,"binary"),e.tag=i.base64url.encode(n.tag,"binary"),e}))}))})),h){case"compact":m=m.then((function(t){var e=new Array(5);return e[0]=t.protected,t.recipients&&t.recipients[0]&&(e[1]=t.recipients[0].encrypted_key),e[2]=t.iv,e[3]=t.ciphertext,e[4]=t.tag,e=e.join(".")}));break;case"flattened":m=m.then((function(t){var e={},r=t.recipients&&t.recipients[0];return t.protected&&(e.protected=t.protected),t.unprotected&&(e.unprotected=t.unprotected),["header","encrypted_key"].forEach((function(t){r&&t in r&&r[t]&&("object"!==n(r[t])||Object.keys(r[t]).length)&&(e[t]=r[t])})),t.aad&&(e.aad=t.aad),e.iv=t.iv,e.ciphertext=t.ciphertext,e.tag=t.tag,e}));break;case"general":m=m.then((function(t){var e=t.recipients||[];return(e=(e=e.map((function(t){if(Object.keys(t).length)return t}))).filter((function(t){return!!t}))).length?t.recipients=e:delete t.recipients,t}))}return m}})}t.exports={encrypter:p,createEncrypt:function(t,e){var r=t,n=1,o=e;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length||a.isKey(t)||t&&"kty"in t||t&&"key"in t&&(a.isKey(t.key)||"kty"in t.key)?(o=t,n=0,r={}):r=l(t),Array.isArray(o)||(o=s(arguments,n)),r=f(l(h),r);var u=l(r.fields||{});switch(r.zip&&(u.zip="boolean"===typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in t)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(o.length>1)throw new Error("too many recipients for compact serialization")}var c=!1;if("compact"===r.format||"*"===r.protect)c=!0,r.protect=Object.keys(u).concat("enc");else if("string"===typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(c&&1<o.length)throw new Error("too many recipients to protect all header parameters");return o=o.map((function(t,e){var r;return r=t&&"kty"in t?(r=a.asKey(t)).then((function(t){return{key:t}})):t?(r=a.asKey(t.key)).then((function(e){return{header:t.header,reference:t.reference,key:e}})):Promise.reject(new Error("missing key for recipient "+e)),t.epk&&(r=r.then((function(e){return a.asKey(t.epk).then((function(t){return e.epk=t,e}))}))),r=r.then((function(t){var r=t.key,n=t.header||{};t.header=n;var i={};if(i=f(i,u),(i=f(i,t.header)).alg||(i.alg=r.algorithms(a.MODE_WRAP)[0],n.alg=i.alg),!i.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+e));n.alg=i.alg;var o,s=t.reference;if(delete t.reference,void 0===s?s=(s=["kid","jku","x5c","x5t","x5u"].some((function(t){return t in n})))?null:"kid":"boolean"===typeof s&&(s=s?"kid":null),s)if(o=r.toJSON(),"jwk"===s){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));n.jwk=o}else s in o&&(n[s]=o[s]);return t=Object.freeze(t)}))})),new p({aad:"aad"in r?i.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:c},u,o)}}},93856:function(t,e,r){"use strict";var n=r(72278),i=r(93871);t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)},generateCEK:function(t){var e=i.createKeyStore(),r=n.KEYLENGTH[t];if(r)return e.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},9877:function(t,e,r){"use strict";var n={createEncrypt:r(2164).createEncrypt,createDecrypt:r(27776).createDecrypt};t.exports=n},83487:function(t,e,r){"use strict";var n=r(68873),i=r(13814).v4,o=r(32632),a=r(36),s=r(90939),u=r(19356),c=r(7768),f=r(12912),l=r(46136),h=r(61664),p=r(63346),d=r(33118),y=r(64893);t.exports=function(t,e,r,v){if(!t)throw new Error("kty cannot be null");if(!e)throw new Error("keystore cannot be null");if(!r)throw new Error("props cannot be null");if("string"===typeof r&&(r=JSON.parse(r)),!v)throw new Error("cfg cannot be null");var g,m,b=[],w={},E={};r=a(r),g=o({},r[d.INTERNALS.THUMBPRINT_KEY]||{}),delete r[d.INTERNALS.THUMBPRINT_KEY],Object.keys(g).forEach((function(t){var e=g[t];m||(m=e,Buffer.isBuffer(m)&&(m=y.base64url.encode(m))),Buffer.isBuffer(e)||(e=y.base64url.decode(e),g[t]=e)})),r.kty=t,r.kid=r.kid||m||i();var S,C=Object.keys(d.COMMON_PROPS).map((function(t){return d.COMMON_PROPS[t].name}));E.base=f(r,C),b=b.concat(Object.keys(E.base)),E.public=a(r),w.public=v.publicKey(E.public),w.public&&(b=b.concat(Object.keys(E.public))),E.private=a(r),w.private=v.privateKey(E.private),w.private&&(b=b.concat(Object.keys(E.private))),E.extra=c(r,b),S=w.public&&"length"in w.public?w.public.length:w.private&&"length"in w.private?w.private.length:NaN,Object.defineProperty(this,"keystore",{value:e,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:t,enumerable:!0}),Object.defineProperty(this,"kid",{value:E.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:E.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:E.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(t){if(t=(t||d.INTERNALS.THUMBPRINT_HASH).toUpperCase(),g[t])return Promise.resolve(g[t]);var e=d.thumbprint(v,E,t);return e=e.then((function(e){return e&&(g[t]=e),e}))}}),Object.defineProperty(this,"algorithms",{value:function(e){var r=[];this.use&&"sig"!==this.use||(e&&p.MODE_SIGN!==e||r.push(p.MODE_SIGN),e&&p.MODE_VERIFY!==e||r.push(p.MODE_VERIFY)),this.use&&"enc"!==this.use||(e&&p.MODE_ENCRYPT!==e||r.push(p.MODE_ENCRYPT),e&&p.MODE_DECRYPT!==e||r.push(p.MODE_DECRYPT),e&&p.MODE_WRAP!==e||r.push(p.MODE_WRAP),e&&p.MODE_UNWRAP!==e||r.push(p.MODE_UNWRAP));var n,i=this,o=r.map((function(t){return v.algorithms.call(i,w,t)}));(o=s(o),o=l(o),this.alg)&&(n="oct"===t?[this.alg,"dir"]:[this.alg],o=u(o,n));return o}}),Object.defineProperty(this,"supports",{value:function(t,e){return-1!==this.algorithms(e).indexOf(t)}}),Object.defineProperty(this,"has",{value:function(t,e){var r=!1;return r=(r=(r=(r=r||!(!E.base||!(t in E.base)))||!(!w.public||!(t in w.public)))||!(!E.extra||!(t in E.extra)))||!!(e&&w.private&&t in w.private)}}),Object.defineProperty(this,"get",{value:function(t,e){var r;return E.base&&t in E.base?r=E.base:w.public&&t in w.public?r=w.public:E.extra&&t in E.extra?r=E.extra:e&&w.private&&t in w.private&&(r=w.private),r&&r[t]||null}}),Object.defineProperty(this,"toJSON",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=n(r,E.base,E.public,"boolean"===typeof t&&t?E.private:{},E.extra),r=c(r,e||[])}}),Object.defineProperty(this,"toPEM",{value:function(t){if(null===t&&(t=!1),!v.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var e=t?w.private:w.public;if(!e)throw new Error("Invalid key");return v.convertToPEM.call(this,e,t)}}),Object.defineProperty(this,"toObject",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=n(r,E.base,w.public,"boolean"===typeof t&&t?w.private:{},E.extra),r=c(r,(e||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(t,e,r){if(-1===this.algorithms("sign").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=v.signKey.call(this,t,w);return i?(r=r?a(r):{},v.signProps&&(r=n(r,v.signProps.call(this,t,r))),h.sign(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(t,e,r,i){if(-1===this.algorithms("verify").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var o=v.verifyKey.call(this,t,w);return o?(i=i?a(i):{},v.verifyProps&&(i=n(i,v.verifyProps.call(this,t,i))),h.verify(t,o,e,r,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(t,e,r){if(-1===this.algorithms("encrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=v.encryptKey.call(this,t,w);return i?(r=r?a(r):{},v.encryptProps&&(r=n(r,v.encryptProps.call(this,t,r))),h.encrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(t,e,r){if(-1===this.algorithms("decrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=v.decryptKey.call(this,t,w);return i?(r=r?a(r):{},v.decryptProps&&(r=n(r,v.decryptProps.call(this,t,r))),h.decrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(t,e,r){if(-1===this.algorithms("wrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=v.wrapKey.call(this,t,w);return i?(r=r?a(r):{},v.wrapProps&&(r=n(r,v.wrapProps.call(this,t,r))),h.encrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(t,e,r){if(-1===this.algorithms("unwrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var i=v.unwrapKey.call(this,t,w);return i?(r=r?a(r):{},v.unwrapProps&&(r=n(r,v.unwrapProps.call(this,t,r))),h.decrypt(t,i,e,r)):Promise.reject(new Error("improper key"))}})}},63346:function(t){"use strict";t.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},80980:function(t,e,r){"use strict";var n=r(50524),i=r(87616),o=r(94129),a={BaseKey:r(83487),helpers:r(33118)},s=["ES256","ES384","ES512"],u=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],c=n.EC_OID;function f(t){switch(t){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var l={publicKey:function(t){var e=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=a.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y?r.length=n.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(t){var e=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=a.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y&&r.d?r.length=n.curveSize(r.crv):r=void 0,r},thumbprint:function(t){return t.public&&(t=t.public),{crv:t.crv,kty:"EC",x:t.x,y:t.y}},algorithms:function(t,e){var r=t.public&&t.public.length||t.private&&t.private.length||0;switch(521===r&&(r=512),e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&u||[];case"unwrap":return t.private&&u||[];case"sign":return t.private?s.filter((function(t){return t==="ES"+r})):[];case"verify":return t.public?s.filter((function(t){return t==="ES"+r})):[]}},encryptKey:function(t,e){return e.public},decryptKey:function(t,e){return e.private},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public}};l.convertToPEM=n.convertToPEM;var h={oid:c,privateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:i.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},p={kty:"EC",validators:h,prepare:function(t){var e=l,r=Promise.resolve(t);return r=(r=r.then((function(t){return a.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e=o.generateKeyPair(t),r={crv:t,x:e.public.x,y:e.public.y,d:e.private.d};return Promise.resolve(r)},import:function(t){if(h.oid!==t.keyOid)return null;var e;if(t.keyParams&&i.asn1.Type.OID===t.keyParams.type?e=f(e=i.asn1.derToOid(t.keyParams.value)):t.crv&&(e=f(e=i.asn1.derToOid(t.crv))),!e)return null;if(!t.parsed){var r={};if("private"===t.type){if("string"===typeof t.keyValue?t.keyValue=i.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]),!i.asn1.validate(t.keyValue,h.embeddedPrivateKey,r,[]))return null}else r.point=t.keyValue;t=r}var n={kty:"EC",crv:e};if(t.d&&(n.d=Buffer.from(t.d,"binary")),t.point){var o=Buffer.from(t.point,"binary");if(4!==o.readUInt16BE(0))return null;var a=(o=o.slice(2)).length/2;n.x=o.slice(0,a),n.y=o.slice(a)}return n}};t.exports=Object.freeze({config:l,factory:p}),r(9043).registry.register(p)},33118:function(t,e,r){"use strict";var n=r(36),i=r(64893),o=r(87616),a=r(61664),s={name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},u={name:"SubjectPublicKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},c={name:"Certificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},f={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};t.exports={validators:{privateKey:s,publicKey:u,certificate:c},thumbprint:function(t,e,r){if("function"!==typeof t.thumbprint)return Promise.reject(new Error("thumbprint not supported"));r=(r||f.THUMBPRINT_HASH).toUpperCase();var n=t.thumbprint(e),o=Object.keys(n).sort().map((function(t){var e=n[t];return Buffer.isBuffer(e)&&(e=i.base64url.encode(e)),JSON.stringify(t)+":"+JSON.stringify(e)}));o="{"+o.join(",")+"}";try{return a.digest(r,Buffer.from(o,"utf8"))}catch(s){return Promise.reject(s)}},unpackProps:function(t,e){var r;e.forEach((function(e){if(e.name in t){r=r||{};var o=t[e.name];switch(e.type){case"binary":Buffer.isBuffer(o)?t[e.name]=i.base64url.encode(o):o=i.base64url.decode(o);break;case"string":case"number":case"boolean":default:break;case"array":o=[].concat(o);break;case"object":o=n(o)}r[e.name]=o}}));var o=r||{};return Object.keys(t).forEach((function(e){e in o||delete t[e]})),r},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:f}},93871:function(t,e,r){"use strict";var n=r(9043);Object.keys(n.KeyStore).forEach((function(t){e[t]=n.KeyStore[t]}));var i=r(63346);Object.keys(i).forEach((function(t){e[t]=i[t]})),r(71494),r(58486),r(80980)},9043:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(36),o=r(68873),a=r(87616),s=r(64893),u={BaseKey:r(83487),helpers:r(33118)},c=function(){var t={};Object.defineProperty(this,"register",{value:function(e){if(!e||"string"!==typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return t[r]=e,this}}),Object.defineProperty(this,"unregister",{value:function(e){if(!e||"string"!==typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return e===t[r]&&delete t[r],this}}),Object.defineProperty(this,"get",{value:function(e){return t[e||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(t).map((function(e){return t[e]}))}})},f=new c;function l(t,e){var r,n={},i=[],o=e.form,c=e.body,l=null;switch(e=a.asn1.fromDer(c),o){case"private":t.all().some((function(t){if(r)return!1;if(!t.validators)return!1;var o=t.validators.oid,s=t.validators.privateKey;return!!s&&(n={},i=[],(r=a.asn1.validate(e,s,n,i))&&(n.keyOid=a.asn1.oidToDer(o),n.parsed=!0),r)})),n.type="private";break;case"pkcs8":r=a.asn1.validate(e,u.helpers.validators.privateKey,n,i),n.type="private";break;case"public":case"spki":r=a.asn1.validate(e,u.helpers.validators.publicKey,n,i),n.type="public";break;case"pkix":case"x509":if(r=a.asn1.validate(e,u.helpers.validators.certificate,n,i)){n=function(t){return["certIssuer","certSubject"].forEach((function(e){var r=a.pki.RDNAttributesAsArray(t[e]),n=t[e]={};r.forEach((function(t){n[t.name||t.type]=t.value}))})),t}(n);var h=a.md.sha1.create();h.update(c),l=s.base64url.encode(Buffer.from(h.digest().toHex(),"hex"))}n.type="public"}return r?(n.keyOid&&(n.keyOid=a.asn1.derToOid(n.keyOid)),r=null,f.all().forEach((function(t){r||t&&"function"===typeof t.import&&(r=t.import(n))})),r&&n.certSubject&&n.certSubject.commonName&&(r.kid=n.certSubject.commonName),r&&l&&(r.x5t=l),r):null}var h=function t(e,r){var s={};Object.defineProperty(this,"generate",{value:function(t,r,n){var a=e.get(t);if(!a)return Promise.reject(new Error("unsupported key type"));(n=i(n||{})).kty=t;var s=this;return a.generate(r).then((function(e){return e=o(n,e,{kty:t}),s.add(e)}))}}),Object.defineProperty(this,"add",{value:function(r,n,o){var c;if(o=o||{},Buffer.isBuffer(r)||"string"===typeof r)if("json"===(n=(n||"json").toLowerCase()))r=JSON.parse(r.toString("utf8"));else try{if(c="pem"===n?function(t){var e={};if(!a.pem.decode(t).some((function(t){switch(t.type){case"CERTIFICATE":e.form="pkix";break;case"PUBLIC KEY":e.form="spki";break;case"PRIVATE KEY":e.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":e.form="private";break;default:return!1}return e.body=t.body,!0})))throw new Error("supported PEM type not found");return e}(r):{body:r.toString("binary"),form:n},!(r=l(e,c)))throw new Error("no importer for key");Object.keys(o).forEach((function(t){r[t]=o[t]}))}catch(p){return Promise.reject(p)}else r=t.isKey(r)?r.toJSON(!0):i(r);var f=e.get(r.kty);if(!f)return Promise.reject(new Error("unsupported key type"));var h=this;return f.prepare(r).then((function(t){return new u.BaseKey(r.kty,h,r,t)})).then((function(t){var e=t.kid||"";return(s[e]=s[e]||[]).push(t),t}))}}),Object.defineProperty(this,"remove",{value:function(t){if(t){var e=s[t.kid];if(e){var r=e.indexOf(t);-1!==r&&(e.splice(r,1),e.length||delete s[t.kid])}}}}),Object.defineProperty(this,"all",{value:function(t,e){void 0!==(t=t||{}).kid&&null!==t.kid&&"string"!==typeof t.kid&&(t.kid=String(t.kid));var n=[],i=function(e){return(!t.kty||!e.kty||t.kty===e.kty)&&((!t.use||!e.use||t.use===e.use)&&(!t.alg||("dir"===t.alg||!e.alg||t.alg===e.alg)&&e.supports(t.alg)))};return Object.keys(s).forEach((function(e){if(!t.kid||t.kid===e){var r=s[e].filter(i);r.length&&(n=n.concat(r))}})),!e&&r&&(n=n.concat(r.all(t))),n}}),Object.defineProperty(this,"get",{value:function(t,e,i){"boolean"===typeof t?(i=t,e=t=null):"object"===n(t)&&(i=e,e=t,t=null),e=e||{},t&&(e.kid=t),void 0!==e.kid&&null!==e.kid&&"string"!==typeof e.kid&&(e.kid=String(e.kid));var o=this.all(e,!0);return o.length||!r||i||(o=r.get(e,i)),o[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new t(e,this)}}),Object.defineProperty(this,"toJSON",{value:function(t){var e=[];return Object.keys(s).forEach((function(r){var n=s[r].map((function(e){return e.toJSON(t)}));e=e.concat(n)})),{keys:e}}})};h.isKeyStore=function(t){return!!t&&("object"===n(t)&&("function"===typeof t.get&&"function"===typeof t.all&&"function"===typeof t.generate&&"function"===typeof t.add&&"function"===typeof t.remove))},h.createKeyStore=function(){return new h(f)},h.asKeyStore=function(t){if(h.isKeyStore(t))return Promise.resolve(t);var e,r=h.createKeyStore();if("string"===typeof t&&(t=JSON.parse(t)),Array.isArray(t))e=t;else{if(!("keys"in t))return Promise.reject(new Error("invalid keystore"));e=t.keys}e=e.map((function(t){return r.add(t)}));var n=Promise.all(e);return n=n.then((function(){return r}))},h.isKey=function(t){return!!t&&("object"===n(t)&&(!!h.isKeyStore(t.keystore)&&("string"===typeof t.kty&&"number"===typeof t.length&&"function"===typeof t.algorithms&&"function"===typeof t.supports&&"function"===typeof t.encrypt&&"function"===typeof t.decrypt&&"function"===typeof t.wrap&&"function"===typeof t.unwrap&&"function"===typeof t.sign&&"function"===typeof t.verify)))},h.createKey=function(t,e,r){return h.createKeyStore().generate(t,e,r)},h.asKey=function(t,e,r){return h.isKey(t)?Promise.resolve(t):t=h.createKeyStore().add(t,e,r)},t.exports={KeyRegistry:c,KeyStore:h,registry:f}},71494:function(t,e,r){"use strict";var n=r(64893),i={BaseKey:r(83487),helpers:r(33118)},o=["HS256","HS384","HS512"],a=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],s=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function u(t,e){return"iv"in e&&(e.iv=Buffer.isBuffer(e.iv)?e.iv:n.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=Buffer.isBuffer(e.adata)?e.adata:Buffer.from(e.adata||"","utf8")),"mac"in e&&(e.mac=Buffer.isBuffer(e.mac)?e.mac:n.base64url.decode(e.mac||"")),"tag"in e&&(e.tag=Buffer.isBuffer(e.tag)?e.tag:n.base64url.decode(e.tag||"")),e}function c(t,e){return"iv"in e&&(e.iv=Buffer.isBuffer(e.iv)?e.iv:n.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=Buffer.isBuffer(e.adata)?e.adata:Buffer.from(e.adata||"","utf8")),e}var f={publicKey:function(t){var e=i.helpers.COMMON_PROPS.concat([]);return i.helpers.unpackProps(t,e)},privateKey:function(t){var e,r=i.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(e=i.helpers.unpackProps(t,r))&&e.k?e.length=8*e.k.length:e=void 0,e},thumbprint:function(t){return t.private&&(t=t.private),{k:t.k||"",kty:"oct"}},algorithms:function(t,e){var r=t.private&&8*t.private.k.length,n=[256,384,512];if(!r)return[];switch(e){case"encrypt":case"decrypt":return a.filter((function(t){return t==="A"+r/2+"CBC-HS"+r||t==="A"+r/2+"CBC+HS"+r||t==="A"+r+"GCM"}));case"sign":case"verify":return o.filter((function(t){var e=!1;return n.forEach((function(n){n>r||(e|=t==="HS"+n)})),e}));case"wrap":case"unwrap":return s.filter((function(t){return t==="A"+r+"KW"||t==="A"+r+"GCMKW"||0===t.indexOf("PBES2-")||"dir"===t}))}return[]},encryptKey:function(t,e){return e.private&&e.private.k},encryptProps:c,decryptKey:function(t,e){return e.private&&e.private.k},decryptProps:u,wrapKey:function(t,e){return e.private&&e.private.k},wrapProps:c,unwrapKey:function(t,e){return e.private&&e.private.k},unwrapProps:u,signKey:function(t,e){return e.private&&e.private.k},verifyKey:function(t,e){return e.private&&e.private.k}},l={kty:"oct",prepare:function(t){var e=f,r=Promise.resolve(t);return r=(r=r.then((function(t){return i.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[i.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[i.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e=n.randomBytes(t/8);return Promise.resolve({k:e})}};t.exports=Object.freeze({config:f,factory:l}),r(9043).registry.register(l)},58486:function(t,e,r){"use strict";var n=r(87616),i=r(53922),o=r(70354).nodeCrypto,a={BaseKey:r(83487),helpers:r(33118)},s=["RS256","RS384","RS512","PS256","PS384","PS512"],u=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],c={publicKey:function(t){var e,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(e=a.helpers.unpackProps(t,r))&&e.n&&e.e?e.length=8*e.n.length:(delete e.e,delete e.n),e},privateKey:function(t){var e,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(e=a.helpers.unpackProps(t,r))&&e.d&&e.n&&e.e&&e.p&&e.q&&e.dp&&e.dq&&e.qi?e.length=8*e.d.length:e=void 0,e},thumbprint:function(t){return t.public&&(t=t.public),{e:t.e,kty:"RSA",n:t.n}},algorithms:function(t,e){switch(e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&u.slice()||[];case"unwrap":return t.private&&u.slice()||[];case"sign":return t.private&&s.slice()||[];case"verify":return t.public&&s.slice()||[]}return[]},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public},convertToPEM:function(t,e){var r=i.convertToForge(t,!e);return e?n.pki.privateKeyToPem(r):n.pki.publicKeyToPem(r)}};var f={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},l={kty:"RSA",validators:f,prepare:function(t){var e=c,r=Promise.resolve(t);return r=(r=r.then((function(t){return a.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e;if(o)e=new Promise((function(e,r){n.pki.rsa.generateKeyPair({bits:t,e:65537},(function(t,n){if(t)return r(t);e(n.privateKey)}))}));else{var r=n.pki.rsa.generateKeyPair({bits:t,e:65537});e=Promise.resolve(r.privateKey)}return e.then((function(t){var e={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach((function(r){var n,i,o;"string"===typeof r?n=i=r:(n=r.incoming,i=r.outgoing),n in t&&(e[i]=((o=(o=t[n]).toString(16)).length%2&&(o="0"+o),Buffer.from(o,"hex")))})),e}))},import:function(t){if(f.oid!==t.keyOid)return null;if(!t.parsed){"string"===typeof t.keyValue?t.keyValue=n.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]);var e="private"===t.type?f.privateKey:f.publicKey,r={};if(!n.asn1.validate(t.keyValue,e,r,[]))return null;t=r}var i={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach((function(e){if(e in t){var r=Buffer.from(t[e],"binary");0===r[0]&&(r=r.slice(1)),i[e]=r}})),i}};t.exports=Object.freeze({config:c,factory:l}),r(9043).registry.register(l)},75953:function(t){"use strict";t.exports={compact:!1,protect:"*"}},27094:function(t){"use strict";t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)}}},58487:function(t,e,r){"use strict";var n={createSign:r(8606).createSign,createVerify:r(49106).createVerify};t.exports=n},8606:function(t,e,r){"use strict";var n=r(68873),i=r(64893),o=r(93871),a=r(27094).slice,s=r(36),u=r(46136),c=r(75953),f=function(t,e){var r=!1,n=t.format||"general",o=Buffer.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===n},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return n},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(r)throw new Error("already final");return null!=t&&(t=i.asBuffer(t,e),o=o.length?Buffer.concat([o,t],o.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(t,a){if(r)return Promise.reject(new Error("already final"));var u;switch(this.update(t,a),r=!0,u=(u=Promise.all(e)).then((function(t){return o=i.base64url.encode(o),t=t.map((function(t){var e={},r=0,n=s(t.header),a=Object.keys(n).length;t.protected.forEach((function(t){t in n&&(e[t]=n[t],r++,delete n[t],a--)})),r>0?(e=JSON.stringify(e),e=i.base64url.encode(e)):e="";var u=Buffer.from(e+"."+o,"ascii");return t=(t=t.key.sign(t.header.alg,u,t.header)).then((function(t){var o={};return 0<r&&(o.protected=e),0<a&&(o.header=n),o.signature=i.base64url.encode(t.mac),o}))})),t=[Promise.resolve(o)].concat(t),Promise.all(t)})),u=u.then((function(t){return{payload:t[0],signatures:t.slice(1)}})),n){case"compact":u=u.then((function(t){var e=[t.signatures[0].protected,t.payload,t.signatures[0].signature];return e=e.join(".")}));break;case"flattened":u=u.then((function(t){var e={};e.payload=t.payload;var r=t.signatures[0];return r.protected&&(e.protected=r.protected),r.header&&(e.header=r.header),e.signature=r.signature,e}))}return u}})};t.exports={signer:f,createSign:function(t,e){var r=t,i=1,l=e;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length||o.isKey(t)||t&&"kty"in t||t&&"key"in t&&(o.isKey(t.key)||"kty"in t.key)?(l=t,i=0,r={}):r=s(t),Array.isArray(l)||(l=a(arguments,i));var h=(r=n(s(c),r)).fields||{},p=r.format;if(p||(p=r.compact?"compact":"general"),("compact"===p||"flattened"===p)&&1<l.length)throw new Error("too many signatories for compact or flattened JSON serialization");var d="*"===r.protect;return r.compact&&(d=!0),l=l.map((function(t,e){return(t&&"kty"in t?o.asKey(t).then((function(t){return{key:t}})):t?o.asKey(t.key).then((function(e){return{header:t.header,reference:t.reference,protect:t.protect,key:e}})):Promise.reject(new Error("missing key for signatory "+e))).then((function(t){var e=t.key,r=t.header||{};r=n(n({},h),r),t.header=r,r.alg||(r.alg=e.algorithms(o.MODE_SIGN)[0]||"");var i,a=t.reference;if(delete t.reference,void 0===a?a=(a=["kid","jku","x5c","x5t","x5u"].some((function(t){return t in r})))?null:"kid":"boolean"===typeof a&&(a=a?"kid":null),a)if(i=e.toJSON(),"jwk"===a){if("oct"===e.kty)return Promise.reject(new Error("cannot embed key"));r.jwk=i}else a in i&&(r[a]=i[a]);var s=t.protect;if(d||"*"===s)s=Object.keys(r);else if("string"===s)s=[s];else if(Array.isArray(s))s=s.concat();else{if(s)return Promise.reject(new Error("protect must be a list of fields"));s=[]}return s=u(s),t.protected=s,t=Object.freeze(t)}))})),new f({format:p},l)}}},49106:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=r(36),o=r(68873),a=r(7789),s=r(41853),u=r(93871),c={algorithms:"*",allowEmbeddedKey:!1},f=function(t,e){var r,f;f=u.isKey(t)?(r=t).keystore:u.isKeyStore(t)?t:u.createKeyStore(),e=o(c,e),Object.defineProperty(this,"defaultKey",{value:r||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:f,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(t,c){var l=(c=o({},e,c||{})).handlers||{},h=Object.keys(l),p=new s(c.algorithms);if("string"===typeof t)t={payload:(t=t.split("."))[1],signatures:[{protected:t[0],signature:t[2]}]};else if(!t||"object"!==n(t))throw new Error("invalid input");t.signature&&(t.signatures=[{protected:t.protected||void 0,header:t.header||void 0,signature:t.signature}]);var d=t.signatures||[{}];d=d.map((function(t){var e=i(t.header||{}),r=t.protected?JSON.parse(a.decode(t.protected,"utf8")):{};e=o(e,r);var n=a.decode(t.signature);if(!p.match(e.alg))return Promise.reject(new Error("Algorithm not allowed: "+e.alg));var s=r.crit;if(s){if(!Array.isArray(s))return Promise.reject(new Error("Invalid 'crit' header"));for(var u=0;s.length>u;u++)if(-1===h.indexOf(s[u]))return Promise.reject(new Error("Critical extension is not supported: "+s[u]))}return r=Object.keys(r),Promise.resolve({protected:r,aad:t.protected||"",header:e,signature:n})}));var y=Promise.all(d);return y=y.then((function(e){return new Promise((function(i,s){!function p(){var d=e.shift();if(d){d=o({},d,{payload:t.payload});var y=Promise.resolve(d);y=y.then((function(t){var e;return c.allowEmbeddedKey&&t.header.jwk?e=u.asKey(t.header.jwk):c.allowEmbeddedKey&&t.header.x5c?(e=t.header.x5c[0],e=Buffer.from(e,"base64"),e=u.asKey(e,"pkix")):e=Promise.resolve(r||f.get({use:"sig",alg:t.header.alg,kid:t.header.kid})),e.then((function(e){return e?(t.key=e,t):Promise.reject(new Error("key does not match"))}))})),y=y.then((function(t){var e=[];return h.forEach((function(r){var i;"function"===typeof(r=l[r])?i=r(t):"object"===n(r)&&"function"===typeof r.prepare&&(i=r.prepare(t)),i&&e.push(Promise.resolve(i))})),Promise.all(e).then((function(){return t}))})),y=y.then((function(t){var e=t.aad||"",r=t.payload||"",n=Buffer.alloc(1+e.length+r.length),i=0;return n.write(e,i,"ascii"),i+=e.length,n.write(".",i,"ascii"),i++,Buffer.isBuffer(r)?r.copy(n,i):n.write(r,i,"binary"),t.content=n,t})),y=y.then((function(t){return t.key.verify(t.header.alg,t.content,t.signature)})),(y=(y=y.then((function(t){var e=d.payload;return e=a.decode(e),{protected:d.protected,header:d.header,payload:e,signature:t.mac,key:d.key}}))).then((function(t){var e=[];return h.forEach((function(r){var i;"object"===n(r=l[r])&&"function"===typeof r.complete&&(i=r.complete(t)),i&&e.push(Promise.resolve(i))})),Promise.all(e).then((function(){return t}))}))).then(i,p)}else s(new Error("no key found"))}()}))})),y}})};t.exports={verifier:f,createVerify:function(t,e){return new f(t,e)}}},27817:function(t,e,r){"use strict";var n={JWE:r(9877),JWS:r(58487),util:r(64893)};t.exports=function(t){var e,r,i,o=t.split(".");if(3===o.length)e="JWS",r=function(e,r){return n.JWS.createVerify(e).verify(t,r)};else{if(5!==o.length)throw new TypeError("invalid jose serialization");e="JWE",r=function(e,r){return n.JWE.createDecrypt(e).decrypt(t,r)}}return i=n.util.base64url.decode(o[0],"utf8"),i=JSON.parse(i),{type:e,format:"compact",input:t,header:i,perform:r}}},75832:function(t,e,r){"use strict";var n=r(27817),i=r(75920),o=t.exports=function(t){if(Buffer.isBuffer(t))return n(t.toString("ascii"));if("string"===typeof t)return n(t);if(t)return i(t);throw new TypeError("invalid input")};o.compact=n,o.json=i},75920:function(t,e,r){"use strict";var n=r(68873),i={JWE:r(9877),JWS:r(58487),util:r(64893)};t.exports=function(t){var e,r,o;if("signatures"in t||"signature"in t)e="JWS",r=function(e,r){return i.JWS.createVerify(e).verify(t,r)},o=(o=t.signatures||[{protected:t.protected,header:t.header,signature:t.signature}]).map((function(t){var e,r={};return t.header&&(r=n(r,t.header)),t.protected&&(e=t.protected,e=i.util.base64url.decode(e,"utf8"),e=JSON.parse(e),r=n(r,e)),r}));else if("ciphertext"in t){e="JWE",r=function(e,r){return i.JWE.createDecrypt(e).decrypt(t,r)};var a={};t.protected&&(a.protected=t.protected,a.protected=i.util.base64url.decode(a.protected,"utf8"),a.protected=JSON.parse(a.protected)),t.unprotected&&(a.unprotected=t.unprotected),o=(o=t.recipients||[{}]).map((function(t){var e={};return t.header&&(e=n(e,t.header)),a.unprotected&&(e=n(e,a.unprotected)),a.protected&&(e=n(e,a.protected)),e}))}return{type:e,format:"json",input:t,all:o,perform:r}}},41853:function(t){"use strict";function e(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}t.exports=function(t){t?"string"===typeof t&&(t=t.split(" ")):t=[];var r,n=[],i=[],o=[],a=[],s=/^(!)?([^*]*)(\*?)([^*]*)$/;t.forEach((function(t){if(t){s.lastIndex=0;var u=s.exec(t);u&&(r="("+function(t,r,n){var i=[];return i.push("^"),t&&(t=e(t),i.push(t)),r&&i.push(t||n?".*":".+"),n&&(n=e(n),i.push(n)),i.push("$"),i.join("")}(u[2],u[3],u[4])+")",u[1]?(a.push(r),i.push(u[0])):(o.push(r),n.push(u[0])))}})),o=o.length?new RegExp(o.join("|")):null,a=a.length?new RegExp(a.join("|")):null,n.length||(n=["*"]),Object.defineProperty(this,"spec",{value:n.join(" ")+" "+i.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(t){var e=Boolean(t);return e&&o&&(o.lastIndex=0,e=o.test(t)),e&&a&&(a.lastIndex=0,e=!a.test(t)),e}})}},7789:function(t,e,r){"use strict";var n=r(90328),i={encode:function(t,e){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),Buffer.isBuffer(t)||(t=Buffer.from(t,e)),n.encode(t)},decode:n.toBuffer};t.exports=i},37631:function(t,e,r){"use strict";var n=r(87616),i=r(7789);function o(t,e){e=e||{},Buffer.isBuffer(t)?this.data=t:n.util.isArrayBuffer(t)?(t=new Uint8Array(t),this.data=Buffer.from(t)):n.util.isArrayBufferView(t)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.data=Buffer.from(t)),this.data&&(this.write=this.data.length,t=void 0),this.growSize=e.growSize||o.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,t?this.putBytes(t):this.data||this.accommodate(0),e.readOffset="readOffset"in e?e.readOffset:this.read,this.write="writeOffset"in e?e.writeOffset:this.write,this.read=Math.min(e.readOffset,this.write)}o.DEFAULT_GROW_SIZE=16,o.prototype.length=function(){return this.write-this.read},o.prototype.available=function(){return this.data.length-this.write},o.prototype.isEmpty=function(){return this.length()<=0},o.prototype.accommodate=function(t){if(this.data){if(this.available()<t){t=Math.max(t,this.growSize);var e=this.data,r=Buffer.alloc(e.length+t);e.copy(r,0),this.data=r}}else t=Math.max(this.write+t,this.growSize),this.data=Buffer.alloc(t);return this.data.fill(0,this.write),this},o.prototype.clear=function(){return this.read=this.write=0,this.data=Buffer.alloc(0),this},o.prototype.truncate=function(t){return this.write=this.read+Math.max(0,this.length()-t),this.data.fill(0,this.write),this},o.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},o.prototype.copy=function(){return new o(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},o.prototype.equals=function(t){if(!o.isBuffer(t))return!1;if(t.length()!==this.length())return!1;for(var e=!0,r=this.read-t.read,n=t.read;t.write>n;n++)e=e&&this.data[n+r]===t.data[n];return e},o.prototype.at=function(t){return this.data[this.read+t]},o.prototype.setAt=function(t,e){return this.data[this.read+t]=e,this},o.prototype.last=function(){return this.data[this.write-1]},o.prototype.bytes=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e="";else{var r=this.read,n=r+t,i=this.data.slice(r,n);e=String.fromCharCode.apply(null,i)}return e},o.prototype.buffer=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=new ArrayBuffer(0);else{var r=this.read,n=r+t,i=this.data.slice(r,n);(e=new Uint8Array(n-r)).set(i)}return e},o.prototype.native=function(t){var e;if("undefined"===typeof t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=Buffer.alloc(0);else{var r=this.read,n=r+t;e=this.data.slice(r,n)}return e},o.prototype.toHex=function(){return this.toString("hex")},o.prototype.toString=function(t){if(0===this.length())return"";var e=this.data.slice(this.read,this.write);switch(t=t||"utf8"){case"raw":return e.toString("binary");case"base64url":return i.encode(e);case"utf16":return e.toString("ucs2");default:return e.toString(t)}},o.prototype.fillWithByte=function(t,e){return e||(e=this.available()),this.accommodate(e),this.data.fill(t,this.write,this.write+e),this.write+=e,this},o.prototype.getBuffer=function(t){var e=this.buffer(t);return this.read+=e.byteLength,e},o.prototype.putBuffer=function(t){return this.putBytes(t)},o.prototype.getBytes=function(t){var e=this.bytes(t);return this.read+=e.length,e},o.prototype.putBytes=function(t,e){if("string"===typeof t){switch(e=e||"binary"){case"utf16":e="ucs-2";break;case"raw":e="binary";break;case"base64url":t=i.decode(t)}Buffer.isBuffer(t)||(t=Buffer.from(t,e))}var r,a;if(t instanceof o){var s=t;t=s.data.slice(s.read,s.write),s.read=s.write}else t instanceof n.util.ByteStringBuffer&&(t=t.getBytes());if(Buffer.isBuffer(t))r=t;else if(Array.isArray(t))r=Buffer.from(t);else if(n.util.isArrayBuffer(t))r=new Uint8Array(t),r=Buffer.from(r);else{if(!n.util.isArrayBufferView(t))throw new TypeError("invalid source type");r=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=Buffer.from(r)}return this.accommodate(r.length),a=this.data,r.copy(a,this.write),this.write+=r.length,this},o.prototype.getNative=function(t){var e=this.native(t);return this.read+=e.length,e},o.prototype.putNative=o.prototype.putBuffer,o.prototype.getByte=function(){var t=this.data[this.read];return this.read=Math.min(this.read+1,this.write),t},o.prototype.putByte=function(t){return this.accommodate(1),this.data[this.write]=255&t,this.write++,this},o.prototype.getInt16=function(){var t=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),t},o.prototype.putInt16=function(t){return this.accommodate(2),this.data[this.write]=t>>>8&255,this.data[this.write+1]=255&t,this.write+=2,this},o.prototype.getInt24=function(){var t=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),t},o.prototype.putInt24=function(t){return this.accommodate(3),this.data[this.write]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write+2]=255&t,this.write+=3,this},o.prototype.getInt32=function(){var t=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),t},o.prototype.putInt32=function(t){return this.accommodate(4),this.data[this.write]=t>>>24&255,this.data[this.write+1]=t>>>16&255,this.data[this.write+2]=t>>>8&255,this.data[this.write+3]=255&t,this.write+=4,this},o.prototype.getInt16Le=function(){var t=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),t},o.prototype.putInt16Le=function(t){return this.accommodate(2),this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=2,this},o.prototype.getInt24Le=function(){var t=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),t},o.prototype.putInt24Le=function(t){return this.accommodate(3),this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=3,this},o.prototype.getInt32Le=function(){var t=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),t},o.prototype.putInt32Le=function(t){return this.accommodate(4),this.data[this.write+3]=t>>>24&255,this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=4,this},o.prototype.getInt=function(t){var e=0;do{e=e<<8|this.getByte(),t-=8}while(t>0);return e},o.prototype.putInt=function(t,e){this.accommodate(Math.ceil(e/8));do{e-=8,this.putByte(t>>e&255)}while(e>0);return this},o.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},o.prototype.putString=function(t){return this.putBytes(t,"utf16")},o.isBuffer=function(t){return t instanceof o},o.asBuffer=function(t){return o.isBuffer(t)?t:t?new o(t):new o},t.exports=o},64893:function(t,e,r){"use strict";var n,i=r(87616);n={base64url:r(7789),utf8:r(32050),asBuffer:function(t,e){return Buffer.isBuffer(t)?t:"string"===typeof t?"base64url"===(e=e||"binary")?n.base64url.decode(t):Buffer.from(t,e):(i.util.isArrayBufferView(t)?t=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteOffset+t.byteLength):i.util.isArrayBuffer(t)&&(t=new Uint8Array(t)),Buffer.from(t))},randomBytes:function(t){return Buffer.from(i.random.getBytes(t),"binary")}},t.exports=n},68873:function(t,e,r){"use strict";var n,i=r(45756),o=r(14797),a=(n=[],"undefined"!==typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),"undefined"!==typeof Uint8Array&&n.push(Uint8Array),"undefined"!==typeof Uint16Array&&n.push(Uint16Array),"undefined"!==typeof Uint32Array&&n.push(Uint32Array),"undefined"!==typeof Float32Array&&n.push(Float32Array),"undefined"!==typeof Float64Array&&n.push(Float64Array),n);t.exports=i(o,(function(t,e){if(Buffer.isBuffer(e))e=Buffer.from(e);else{var r=function(t){for(var e,r=0;!e&&a.length>r;r++)t instanceof a[r]&&(e=a[r]);return e}(e);e=r?new r(e,e.byteOffset,e.byteLength):void 0}return e,e}))},32050:function(t,e){"use strict";var r=e;r.encode=function(t){var e=encodeURIComponent(t||"");return e=e.replace(/%([0-9a-fA-F]{2})/g,(function(t,e){return e=parseInt(e,16),String.fromCharCode(e)}))},r.decode=function(t){var e=(t||"").replace(/[\u0080-\u00ff]/g,(function(t){return"%"+(256|t.charCodeAt(0)).toString(16).substring(1)}));return e=decodeURIComponent(e)}},5661:function(t,e,r){"use strict";var n=r(11682),i=n.Deflate,o=n.deflate,a=n.deflateRaw,s=n.gzip,u=r(13434),c=u.Inflate,f=u.inflate,l=u.inflateRaw,h=u.ungzip,p=r(23346);t.exports.Deflate=i,t.exports.deflate=o,t.exports.deflateRaw=a,t.exports.gzip=s,t.exports.Inflate=c,t.exports.inflate=f,t.exports.inflateRaw=l,t.exports.ungzip=h,t.exports.constants=p},11682:function(t,e,r){"use strict";var n=r(58652),i=r(26006),o=r(21661),a=r(93183),s=r(14277),u=Object.prototype.toString,c=r(23346),f=c.Z_NO_FLUSH,l=c.Z_SYNC_FLUSH,h=c.Z_FULL_FLUSH,p=c.Z_FINISH,d=c.Z_OK,y=c.Z_STREAM_END,v=c.Z_DEFAULT_COMPRESSION,g=c.Z_DEFAULT_STRATEGY,m=c.Z_DEFLATED;function b(t){this.options=i.assign({level:v,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==d)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"===typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=n.deflateSetDictionary(this.strm,c))!==d)throw new Error(a[r]);this._dict_set=!0}}function w(t,e){var r=new b(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}b.prototype.push=function(t,e){var r,i,a=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?p:f,"string"===typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(i===l||i===h)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((r=n.deflate(a,i))===y)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d;if(0!==a.avail_out){if(i>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===d&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=b,t.exports.deflate=w,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,w(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,w(t,e)},t.exports.constants=r(23346)},13434:function(t,e,r){"use strict";var n=r(93456),i=r(26006),o=r(21661),a=r(93183),s=r(14277),u=r(47859),c=Object.prototype.toString,f=r(23346),l=f.Z_NO_FLUSH,h=f.Z_FINISH,p=f.Z_OK,d=f.Z_STREAM_END,y=f.Z_NEED_DICT,v=f.Z_STREAM_ERROR,g=f.Z_DATA_ERROR,m=f.Z_MEM_ERROR;function b(t){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==p)throw new Error(a[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==p))throw new Error(a[r])}function w(t,e){var r=new b(e);if(r.push(t),r.err)throw r.msg||a[r.err];return r.result}b.prototype.push=function(t,e){var r,i,a,s=this.strm,u=this.options.chunkSize,f=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?h:l,"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){for(0===s.avail_out&&(s.output=new Uint8Array(u),s.next_out=0,s.avail_out=u),(r=n.inflate(s,i))===y&&f&&((r=n.inflateSetDictionary(s,f))===p?r=n.inflate(s,i):r===g&&(r=y));s.avail_in>0&&r===d&&s.state.wrap>0&&0!==t[s.next_in];)n.inflateReset(s),r=n.inflate(s,i);switch(r){case v:case g:case y:case m:return this.onEnd(r),this.ended=!0,!1}if(a=s.avail_out,s.next_out&&(0===s.avail_out||r===d))if("string"===this.options.to){var b=o.utf8border(s.output,s.next_out),w=s.next_out-b,E=o.buf2string(s.output,b);s.next_out=w,s.avail_out=u-w,w&&s.output.set(s.output.subarray(b,b+w),0),this.onData(E)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(r!==p||0!==a){if(r===d)return r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===s.avail_in)break}}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=b,t.exports.inflate=w,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,w(t,e)},t.exports.ungzip=w,t.exports.constants=r(23346)},26006:function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};t.exports.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!==e(i))throw new TypeError(i+"must be non-object");for(var o in i)r(i,o)&&(t[o]=i[o])}}return t},t.exports.flattenChunks=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r].length;for(var i=new Uint8Array(e),o=0,a=0,s=t.length;o<s;o++){var u=t[o];i.set(u,a),a+=u.length}return i}},21661:function(t){"use strict";var e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(i){e=!1}for(var r=new Uint8Array(256),n=0;n<256;n++)r[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;r[254]=r[254]=1,t.exports.string2buf=function(t){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)55296===(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320===(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)55296===(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320===(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e};t.exports.buf2string=function(t,n){var i,o,a=n||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,n));var s=new Array(2*a);for(o=0,i=0;i<a;){var u=t[i++];if(u<128)s[o++]=u;else{var c=r[u];if(c>4)s[o++]=65533,i+=c-1;else{for(u&=2===c?31:3===c?15:7;c>1&&i<a;)u=u<<6|63&t[i++],c--;c>1?s[o++]=65533:u<65536?s[o++]=u:(u-=65536,s[o++]=55296|u>>10&1023,s[o++]=56320|1023&u)}}}return function(t,r){if(r<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));for(var n="",i=0;i<r;i++)n+=String.fromCharCode(t[i]);return n}(s,o)},t.exports.utf8border=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+r[t[n]]>e?n:e}},10014:function(t){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},23346:function(t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},82976:function(t){"use strict";var e=new Uint32Array(function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}());t.exports=function(t,r,n,i){var o=e,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^r[s])];return-1^t}},58652:function(t,e,r){"use strict";var n=r(29766),i=n._tr_init,o=n._tr_stored_block,a=n._tr_flush_block,s=n._tr_tally,u=n._tr_align,c=r(10014),f=r(82976),l=r(93183),h=r(23346),p=h.Z_NO_FLUSH,d=h.Z_PARTIAL_FLUSH,y=h.Z_FULL_FLUSH,v=h.Z_FINISH,g=h.Z_BLOCK,m=h.Z_OK,b=h.Z_STREAM_END,w=h.Z_STREAM_ERROR,E=h.Z_DATA_ERROR,S=h.Z_BUF_ERROR,C=h.Z_DEFAULT_COMPRESSION,_=h.Z_FILTERED,T=h.Z_HUFFMAN_ONLY,k=h.Z_RLE,A=h.Z_FIXED,I=h.Z_DEFAULT_STRATEGY,B=h.Z_UNKNOWN,x=h.Z_DEFLATED,O=258,N=262,P=42,L=113,R=666,F=function(t,e){return t.msg=l[e],e},j=function(t){return 2*t-(t>4?9:0)},D=function(t){for(var e=t.length;--e>=0;)t[e]=0},U=function(t){var e,r,n,i=t.w_size;n=e=t.hash_size;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);n=e=i;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)},V=function(t,e,r){return(e<<t.hash_shift^r)&t.hash_mask},K=function(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},M=function(t,e){a(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,K(t.strm)},q=function(t,e){t.pending_buf[t.pending++]=e},z=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},G=function(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=c(t.adler,e,i,r):2===t.state.wrap&&(t.adler=f(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},H=function(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-N?t.strstart-(t.w_size-N):0,c=t.window,f=t.w_mask,l=t.prev,h=t.strstart+O,p=c[o+a-1],d=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(r=e)+a]===d&&c[r+a-1]===p&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<h);if(n=O-(h-o),o=h-O,n>a){if(t.match_start=e,a=n,n>=s)break;p=c[o+a-1],d=c[o+a]}}}while((e=l[e&f])>u&&0!==--i);return a<=t.lookahead?a:t.lookahead},Q=function(t){var e,r,n,i=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-N)&&(t.window.set(t.window.subarray(i,i+i-r),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),U(t),r+=i),0===t.strm.avail_in)break;if(e=G(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=e,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=V(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=V(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<N&&0!==t.strm.avail_in)},W=function(t,e){var r,n,i,a=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,u=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r>(n=t.strstart-t.block_start)+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<a&&(0===r&&e!==v||e===p||r!==n+t.strm.avail_in))break;s=e===v&&r===n+t.strm.avail_in?1:0,o(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,K(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(G(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return(u-=t.strm.avail_in)&&(u>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=u&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-u,t.strm.next_in),t.strstart),t.strstart+=u,t.insert+=u>t.w_size-t.insert?t.w_size-t.insert:u),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==p&&e!==v&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(G(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,a=(i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i)>t.w_size?t.w_size:i,((n=t.strstart-t.block_start)>=a||(n||e===v)&&e!==p&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,s=e===v&&0===t.strm.avail_in&&r===n?1:0,o(t,t.block_start,r,s),t.block_start+=r,K(t.strm)),s?3:1)},Y=function(t,e){for(var r,n;;){if(t.lookahead<N){if(Q(t),t.lookahead<N&&e===p)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=V(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-N&&(t.match_length=H(t,r)),t.match_length>=3)if(n=s(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=V(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=V(t,t.ins_h,t.window[t.strstart+1]);else n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===v?(M(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(M(t,!1),0===t.strm.avail_out)?1:2},$=function(t,e){for(var r,n,i;;){if(t.lookahead<N){if(Q(t),t.lookahead<N&&e===p)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=V(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-N&&(t.match_length=H(t,r),t.match_length<=5&&(t.strategy===_||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=s(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=V(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(M(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=s(t,0,t.window[t.strstart-1]))&&M(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=s(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===v?(M(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(M(t,!1),0===t.strm.avail_out)?1:2};function J(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var Z=[new J(0,0,0,0,W),new J(4,4,8,4,Y),new J(4,5,16,8,Y),new J(4,6,32,32,Y),new J(4,4,16,16,$),new J(8,16,32,32,$),new J(8,16,128,128,$),new J(8,32,128,256,$),new J(32,128,258,1024,$),new J(32,258,258,4096,$)];function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),D(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var tt=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.status!==P&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==L&&e.status!==R?1:0},et=function(t){if(tt(t))return F(t,w);t.total_in=t.total_out=0,t.data_type=B;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?P:L,t.adler=2===e.wrap?0:1,e.last_flush=-2,i(e),m},rt=function(t){var e,r=et(t);return r===m&&((e=t.state).window_size=2*e.w_size,D(e.head),e.max_lazy_match=Z[e.level].max_lazy,e.good_match=Z[e.level].good_length,e.nice_match=Z[e.level].nice_length,e.max_chain_length=Z[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r},nt=function(t,e,r,n,i,o){if(!t)return w;var a=1;if(e===C&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==x||n<8||n>15||e<0||e>9||o<0||o>A||8===n&&1!==a)return F(t,w);8===n&&(n=9);var s=new X;return t.state=s,s.strm=t,s.status=P,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=r,rt(t)};t.exports.deflateInit=function(t,e){return nt(t,e,x,15,8,I)},t.exports.deflateInit2=nt,t.exports.deflateReset=rt,t.exports.deflateResetKeep=et,t.exports.deflateSetHeader=function(t,e){return tt(t)||2!==t.state.wrap?w:(t.state.gzhead=e,m)},t.exports.deflate=function(t,e){if(tt(t)||e>g||e<0)return t?F(t,w):w;var r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===R&&e!==v)return F(t,0===t.avail_out?S:w);var n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(K(t),0===t.avail_out)return r.last_flush=-1,m}else if(0===t.avail_in&&j(e)<=j(n)&&e!==v)return F(t,S);if(r.status===R&&0!==t.avail_in)return F(t,S);if(r.status===P&&0===r.wrap&&(r.status=L),r.status===P){var i=x+(r.w_bits-8<<4)<<8;if(i|=(r.strategy>=T||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(i|=32),z(r,i+=31-i%31),0!==r.strstart&&(z(r,t.adler>>>16),z(r,65535&t.adler)),t.adler=1,r.status=L,K(t),0!==r.pending)return r.last_flush=-1,m}if(57===r.status)if(t.adler=0,q(r,31),q(r,139),q(r,8),r.gzhead)q(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),q(r,255&r.gzhead.time),q(r,r.gzhead.time>>8&255),q(r,r.gzhead.time>>16&255),q(r,r.gzhead.time>>24&255),q(r,9===r.level?2:r.strategy>=T||r.level<2?4:0),q(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(q(r,255&r.gzhead.extra.length),q(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=f(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(q(r,0),q(r,0),q(r,0),q(r,0),q(r,0),q(r,9===r.level?2:r.strategy>=T||r.level<2?4:0),q(r,3),r.status=L,K(t),0!==r.pending)return r.last_flush=-1,m;if(69===r.status){if(r.gzhead.extra){for(var a=r.pending,c=(65535&r.gzhead.extra.length)-r.gzindex;r.pending+c>r.pending_buf_size;){var l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(t.adler=f(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=l,K(t),0!==r.pending)return r.last_flush=-1,m;a=0,c-=l}var h=new Uint8Array(r.gzhead.extra);r.pending_buf.set(h.subarray(r.gzindex,r.gzindex+c),r.pending),r.pending+=c,r.gzhead.hcrc&&r.pending>a&&(t.adler=f(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){var E,C=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>C&&(t.adler=f(t.adler,r.pending_buf,r.pending-C,C)),K(t),0!==r.pending)return r.last_flush=-1,m;C=0}E=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,q(r,E)}while(0!==E);r.gzhead.hcrc&&r.pending>C&&(t.adler=f(t.adler,r.pending_buf,r.pending-C,C)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){var _,A=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>A&&(t.adler=f(t.adler,r.pending_buf,r.pending-A,A)),K(t),0!==r.pending)return r.last_flush=-1,m;A=0}_=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,q(r,_)}while(0!==_);r.gzhead.hcrc&&r.pending>A&&(t.adler=f(t.adler,r.pending_buf,r.pending-A,A))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(K(t),0!==r.pending))return r.last_flush=-1,m;q(r,255&t.adler),q(r,t.adler>>8&255),t.adler=0}if(r.status=L,K(t),0!==r.pending)return r.last_flush=-1,m}if(0!==t.avail_in||0!==r.lookahead||e!==p&&r.status!==R){var I=0===r.level?W(r,e):r.strategy===T?function(t,e){for(var r;;){if(0===t.lookahead&&(Q(t),0===t.lookahead)){if(e===p)return 1;break}if(t.match_length=0,r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===v?(M(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(M(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===k?function(t,e){for(var r,n,i,o,a=t.window;;){if(t.lookahead<=O){if(Q(t),t.lookahead<=O&&e===p)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=a[i=t.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=t.strstart+O;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=O-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=s(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===v?(M(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(M(t,!1),0===t.strm.avail_out)?1:2}(r,e):Z[r.level].func(r,e);if(3!==I&&4!==I||(r.status=R),1===I||3===I)return 0===t.avail_out&&(r.last_flush=-1),m;if(2===I&&(e===d?u(r):e!==g&&(o(r,0,0,!1),e===y&&(D(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),K(t),0===t.avail_out))return r.last_flush=-1,m}return e!==v?m:r.wrap<=0?b:(2===r.wrap?(q(r,255&t.adler),q(r,t.adler>>8&255),q(r,t.adler>>16&255),q(r,t.adler>>24&255),q(r,255&t.total_in),q(r,t.total_in>>8&255),q(r,t.total_in>>16&255),q(r,t.total_in>>24&255)):(z(r,t.adler>>>16),z(r,65535&t.adler)),K(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?m:b)},t.exports.deflateEnd=function(t){if(tt(t))return w;var e=t.state.status;return t.state=null,e===L?F(t,E):m},t.exports.deflateSetDictionary=function(t,e){var r=e.length;if(tt(t))return w;var n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==P||n.lookahead)return w;if(1===i&&(t.adler=c(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(D(n.head),n.strstart=0,n.block_start=0,n.insert=0);var o=new Uint8Array(n.w_size);o.set(e.subarray(r-n.w_size,r),0),e=o,r=n.w_size}var a=t.avail_in,s=t.next_in,u=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Q(n);n.lookahead>=3;){var f=n.strstart,l=n.lookahead-2;do{n.ins_h=V(n,n.ins_h,n.window[f+3-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++}while(--l);n.strstart=f,n.lookahead=2,Q(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=a,n.wrap=i,m},t.exports.deflateInfo="pako deflate (from Nodeca project)"},47859:function(t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},98386:function(t){"use strict";var e=16209;t.exports=function(t,r){var n,i,o,a,s,u,c,f,l,h,p,d,y,v,g,m,b,w,E,S,C,_,T,k,A=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),o=t.next_out,k=t.output,a=o-(r-t.avail_out),s=o+(t.avail_out-257),u=A.dmax,c=A.wsize,f=A.whave,l=A.wnext,h=A.window,p=A.hold,d=A.bits,y=A.lencode,v=A.distcode,g=(1<<A.lenbits)-1,m=(1<<A.distbits)-1;t:do{d<15&&(p+=T[n++]<<d,d+=8,p+=T[n++]<<d,d+=8),b=y[p&g];e:for(;;){if(p>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))k[o++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=y[(65535&b)+(p&(1<<w)-1)];continue e}if(32&w){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=e;break t}E=65535&b,(w&=15)&&(d<w&&(p+=T[n++]<<d,d+=8),E+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=T[n++]<<d,d+=8,p+=T[n++]<<d,d+=8),b=v[p&m];r:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue r}t.msg="invalid distance code",A.mode=e;break t}if(S=65535&b,d<(w&=15)&&(p+=T[n++]<<d,(d+=8)<w&&(p+=T[n++]<<d,d+=8)),(S+=p&(1<<w)-1)>u){t.msg="invalid distance too far back",A.mode=e;break t}if(p>>>=w,d-=w,S>(w=o-a)){if((w=S-w)>f&&A.sane){t.msg="invalid distance too far back",A.mode=e;break t}if(C=0,_=h,0===l){if(C+=c-w,w<E){E-=w;do{k[o++]=h[C++]}while(--w);C=o-S,_=k}}else if(l<w){if(C+=c+l-w,(w-=l)<E){E-=w;do{k[o++]=h[C++]}while(--w);if(C=0,l<E){E-=w=l;do{k[o++]=h[C++]}while(--w);C=o-S,_=k}}}else if(C+=l-w,w<E){E-=w;do{k[o++]=h[C++]}while(--w);C=o-S,_=k}for(;E>2;)k[o++]=_[C++],k[o++]=_[C++],k[o++]=_[C++],E-=3;E&&(k[o++]=_[C++],E>1&&(k[o++]=_[C++]))}else{C=o-S;do{k[o++]=k[C++],k[o++]=k[C++],k[o++]=k[C++],E-=3}while(E>2);E&&(k[o++]=k[C++],E>1&&(k[o++]=k[C++]))}break}}break}}while(n<i&&o<s);n-=E=d>>3,p&=(1<<(d-=E<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),A.hold=p,A.bits=d}},93456:function(t,e,r){"use strict";var n=r(10014),i=r(82976),o=r(98386),a=r(50175),s=r(23346),u=s.Z_FINISH,c=s.Z_BLOCK,f=s.Z_TREES,l=s.Z_OK,h=s.Z_STREAM_END,p=s.Z_NEED_DICT,d=s.Z_STREAM_ERROR,y=s.Z_DATA_ERROR,v=s.Z_MEM_ERROR,g=s.Z_BUF_ERROR,m=s.Z_DEFLATED,b=16180,w=16190,E=16191,S=16192,C=16194,_=16199,T=16200,k=16206,A=16209,I=16210,B=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function x(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var O,N,P=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.mode<b||e.mode>16211?1:0},L=function(t){if(P(t))return d;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=b,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,l},R=function(t){if(P(t))return d;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,L(t)},F=function(t,e){var r;if(P(t))return d;var n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?d:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,R(t))},j=function(t,e){if(!t)return d;var r=new x;t.state=r,r.strm=t,r.window=null,r.mode=b;var n=F(t,e);return n!==l&&(t.state=null),n},D=!0,U=function(t){if(D){O=new Int32Array(512),N=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,O,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,N,0,t.work,{bits:5}),D=!1}t.lencode=O,t.lenbits=9,t.distcode=N,t.distbits=5},V=function(t,e,r,n){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};t.exports.inflateReset=R,t.exports.inflateReset2=F,t.exports.inflateResetKeep=L,t.exports.inflateInit=function(t){return j(t,15)},t.exports.inflateInit2=j,t.exports.inflate=function(t,e){var r,s,x,O,N,L,R,F,j,D,K,M,q,z,G,H,Q,W,Y,$,J,Z,X,tt,et=0,rt=new Uint8Array(4),nt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(P(t)||!t.output||!t.input&&0!==t.avail_in)return d;(r=t.state).mode===E&&(r.mode=S),N=t.next_out,x=t.output,R=t.avail_out,O=t.next_in,s=t.input,L=t.avail_in,F=r.hold,j=r.bits,D=L,K=R,Z=l;t:for(;;)switch(r.mode){case b:if(0===r.wrap){r.mode=S;break}for(;j<16;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(2&r.wrap&&35615===F){0===r.wbits&&(r.wbits=15),r.check=0,rt[0]=255&F,rt[1]=F>>>8&255,r.check=i(r.check,rt,2,0),F=0,j=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&F)<<8)+(F>>8))%31){t.msg="incorrect header check",r.mode=A;break}if((15&F)!==m){t.msg="unknown compression method",r.mode=A;break}if(j-=4,J=8+(15&(F>>>=4)),0===r.wbits&&(r.wbits=J),J>15||J>r.wbits){t.msg="invalid window size",r.mode=A;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&F?16189:E,F=0,j=0;break;case 16181:for(;j<16;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(r.flags=F,(255&r.flags)!==m){t.msg="unknown compression method",r.mode=A;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=A;break}r.head&&(r.head.text=F>>8&1),512&r.flags&&4&r.wrap&&(rt[0]=255&F,rt[1]=F>>>8&255,r.check=i(r.check,rt,2,0)),F=0,j=0,r.mode=16182;case 16182:for(;j<32;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.head&&(r.head.time=F),512&r.flags&&4&r.wrap&&(rt[0]=255&F,rt[1]=F>>>8&255,rt[2]=F>>>16&255,rt[3]=F>>>24&255,r.check=i(r.check,rt,4,0)),F=0,j=0,r.mode=16183;case 16183:for(;j<16;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.head&&(r.head.xflags=255&F,r.head.os=F>>8),512&r.flags&&4&r.wrap&&(rt[0]=255&F,rt[1]=F>>>8&255,r.check=i(r.check,rt,2,0)),F=0,j=0,r.mode=16184;case 16184:if(1024&r.flags){for(;j<16;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.length=F,r.head&&(r.head.extra_len=F),512&r.flags&&4&r.wrap&&(rt[0]=255&F,rt[1]=F>>>8&255,r.check=i(r.check,rt,2,0)),F=0,j=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((M=r.length)>L&&(M=L),M&&(r.head&&(J=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(O,O+M),J)),512&r.flags&&4&r.wrap&&(r.check=i(r.check,s,M,O)),L-=M,O+=M,r.length-=M),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===L)break t;M=0;do{J=s[O+M++],r.head&&J&&r.length<65536&&(r.head.name+=String.fromCharCode(J))}while(J&&M<L);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,s,M,O)),L-=M,O+=M,J)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===L)break t;M=0;do{J=s[O+M++],r.head&&J&&r.length<65536&&(r.head.comment+=String.fromCharCode(J))}while(J&&M<L);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,s,M,O)),L-=M,O+=M,J)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;j<16;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(4&r.wrap&&F!==(65535&r.check)){t.msg="header crc mismatch",r.mode=A;break}F=0,j=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=E;break;case 16189:for(;j<32;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}t.adler=r.check=B(F),F=0,j=0,r.mode=w;case w:if(0===r.havedict)return t.next_out=N,t.avail_out=R,t.next_in=O,t.avail_in=L,r.hold=F,r.bits=j,p;t.adler=r.check=1,r.mode=E;case E:if(e===c||e===f)break t;case S:if(r.last){F>>>=7&j,j-=7&j,r.mode=k;break}for(;j<3;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}switch(r.last=1&F,j-=1,3&(F>>>=1)){case 0:r.mode=16193;break;case 1:if(U(r),r.mode=_,e===f){F>>>=2,j-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=A}F>>>=2,j-=2;break;case 16193:for(F>>>=7&j,j-=7&j;j<32;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if((65535&F)!==(F>>>16^65535)){t.msg="invalid stored block lengths",r.mode=A;break}if(r.length=65535&F,F=0,j=0,r.mode=C,e===f)break t;case C:r.mode=16195;case 16195:if(M=r.length){if(M>L&&(M=L),M>R&&(M=R),0===M)break t;x.set(s.subarray(O,O+M),N),L-=M,O+=M,R-=M,N+=M,r.length-=M;break}r.mode=E;break;case 16196:for(;j<14;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(r.nlen=257+(31&F),F>>>=5,j-=5,r.ndist=1+(31&F),F>>>=5,j-=5,r.ncode=4+(15&F),F>>>=4,j-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=A;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;j<3;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.lens[nt[r.have++]]=7&F,F>>>=3,j-=3}for(;r.have<19;)r.lens[nt[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},Z=a(0,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,Z){t.msg="invalid code lengths set",r.mode=A;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;H=(et=r.lencode[F&(1<<r.lenbits)-1])>>>16&255,Q=65535&et,!((G=et>>>24)<=j);){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(Q<16)F>>>=G,j-=G,r.lens[r.have++]=Q;else{if(16===Q){for(tt=G+2;j<tt;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(F>>>=G,j-=G,0===r.have){t.msg="invalid bit length repeat",r.mode=A;break}J=r.lens[r.have-1],M=3+(3&F),F>>>=2,j-=2}else if(17===Q){for(tt=G+3;j<tt;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}j-=G,J=0,M=3+(7&(F>>>=G)),F>>>=3,j-=3}else{for(tt=G+7;j<tt;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}j-=G,J=0,M=11+(127&(F>>>=G)),F>>>=7,j-=7}if(r.have+M>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=A;break}for(;M--;)r.lens[r.have++]=J}}if(r.mode===A)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=A;break}if(r.lenbits=9,X={bits:r.lenbits},Z=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,Z){t.msg="invalid literal/lengths set",r.mode=A;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},Z=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,Z){t.msg="invalid distances set",r.mode=A;break}if(r.mode=_,e===f)break t;case _:r.mode=T;case T:if(L>=6&&R>=258){t.next_out=N,t.avail_out=R,t.next_in=O,t.avail_in=L,r.hold=F,r.bits=j,o(t,K),N=t.next_out,x=t.output,R=t.avail_out,O=t.next_in,s=t.input,L=t.avail_in,F=r.hold,j=r.bits,r.mode===E&&(r.back=-1);break}for(r.back=0;H=(et=r.lencode[F&(1<<r.lenbits)-1])>>>16&255,Q=65535&et,!((G=et>>>24)<=j);){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(H&&0===(240&H)){for(W=G,Y=H,$=Q;H=(et=r.lencode[$+((F&(1<<W+Y)-1)>>W)])>>>16&255,Q=65535&et,!(W+(G=et>>>24)<=j);){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}F>>>=W,j-=W,r.back+=W}if(F>>>=G,j-=G,r.back+=G,r.length=Q,0===H){r.mode=16205;break}if(32&H){r.back=-1,r.mode=E;break}if(64&H){t.msg="invalid literal/length code",r.mode=A;break}r.extra=15&H,r.mode=16201;case 16201:if(r.extra){for(tt=r.extra;j<tt;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.length+=F&(1<<r.extra)-1,F>>>=r.extra,j-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;H=(et=r.distcode[F&(1<<r.distbits)-1])>>>16&255,Q=65535&et,!((G=et>>>24)<=j);){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(0===(240&H)){for(W=G,Y=H,$=Q;H=(et=r.distcode[$+((F&(1<<W+Y)-1)>>W)])>>>16&255,Q=65535&et,!(W+(G=et>>>24)<=j);){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}F>>>=W,j-=W,r.back+=W}if(F>>>=G,j-=G,r.back+=G,64&H){t.msg="invalid distance code",r.mode=A;break}r.offset=Q,r.extra=15&H,r.mode=16203;case 16203:if(r.extra){for(tt=r.extra;j<tt;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}r.offset+=F&(1<<r.extra)-1,F>>>=r.extra,j-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=A;break}r.mode=16204;case 16204:if(0===R)break t;if(M=K-R,r.offset>M){if((M=r.offset-M)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=A;break}M>r.wnext?(M-=r.wnext,q=r.wsize-M):q=r.wnext-M,M>r.length&&(M=r.length),z=r.window}else z=x,q=N-r.offset,M=r.length;M>R&&(M=R),R-=M,r.length-=M;do{x[N++]=z[q++]}while(--M);0===r.length&&(r.mode=T);break;case 16205:if(0===R)break t;x[N++]=r.length,R--,r.mode=T;break;case k:if(r.wrap){for(;j<32;){if(0===L)break t;L--,F|=s[O++]<<j,j+=8}if(K-=R,t.total_out+=K,r.total+=K,4&r.wrap&&K&&(t.adler=r.check=r.flags?i(r.check,x,K,N-K):n(r.check,x,K,N-K)),K=R,4&r.wrap&&(r.flags?F:B(F))!==r.check){t.msg="incorrect data check",r.mode=A;break}F=0,j=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;j<32;){if(0===L)break t;L--,F+=s[O++]<<j,j+=8}if(4&r.wrap&&F!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=A;break}F=0,j=0}r.mode=16208;case 16208:Z=h;break t;case A:Z=y;break t;case I:return v;default:return d}return t.next_out=N,t.avail_out=R,t.next_in=O,t.avail_in=L,r.hold=F,r.bits=j,(r.wsize||K!==t.avail_out&&r.mode<A&&(r.mode<k||e!==u))&&V(t,t.output,t.next_out,K-t.avail_out)?(r.mode=I,v):(D-=t.avail_in,K-=t.avail_out,t.total_in+=D,t.total_out+=K,r.total+=K,4&r.wrap&&K&&(t.adler=r.check=r.flags?i(r.check,x,K,t.next_out-K):n(r.check,x,K,t.next_out-K)),t.data_type=r.bits+(r.last?64:0)+(r.mode===E?128:0)+(r.mode===_||r.mode===C?256:0),(0===D&&0===K||e===u)&&Z===l&&(Z=g),Z)},t.exports.inflateEnd=function(t){if(P(t))return d;var e=t.state;return e.window&&(e.window=null),t.state=null,l},t.exports.inflateGetHeader=function(t,e){if(P(t))return d;var r=t.state;return 0===(2&r.wrap)?d:(r.head=e,e.done=!1,l)},t.exports.inflateSetDictionary=function(t,e){var r,i=e.length;return P(t)||0!==(r=t.state).wrap&&r.mode!==w?d:r.mode===w&&n(1,e,i,0)!==r.check?y:V(t,e,i,i)?(r.mode=I,v):(r.havedict=1,l)},t.exports.inflateInfo="pako inflate (from Nodeca project)"},50175:function(t){"use strict";var e=15,r=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),o=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=function(t,a,s,u,c,f,l,h){var p,d,y,v,g,m,b,w,E,S=h.bits,C=0,_=0,T=0,k=0,A=0,I=0,B=0,x=0,O=0,N=0,P=null,L=new Uint16Array(16),R=new Uint16Array(16),F=null;for(C=0;C<=e;C++)L[C]=0;for(_=0;_<u;_++)L[a[s+_]]++;for(A=S,k=e;k>=1&&0===L[k];k--);if(A>k&&(A=k),0===k)return c[f++]=20971520,c[f++]=20971520,h.bits=1,0;for(T=1;T<k&&0===L[T];T++);for(A<T&&(A=T),x=1,C=1;C<=e;C++)if(x<<=1,(x-=L[C])<0)return-1;if(x>0&&(0===t||1!==k))return-1;for(R[1]=0,C=1;C<e;C++)R[C+1]=R[C]+L[C];for(_=0;_<u;_++)0!==a[s+_]&&(l[R[a[s+_]]++]=_);if(0===t?(P=F=l,m=20):1===t?(P=r,F=n,m=257):(P=i,F=o,m=0),N=0,_=0,C=T,g=f,I=A,B=0,y=-1,v=(O=1<<A)-1,1===t&&O>852||2===t&&O>592)return 1;for(;;){b=C-B,l[_]+1<m?(w=0,E=l[_]):l[_]>=m?(w=F[l[_]-m],E=P[l[_]-m]):(w=96,E=0),p=1<<C-B,T=d=1<<I;do{c[g+(N>>B)+(d-=p)]=b<<24|w<<16|E|0}while(0!==d);for(p=1<<C-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,_++,0===--L[C]){if(C===k)break;C=a[s+l[_]]}if(C>A&&(N&v)!==y){for(0===B&&(B=A),g+=T,x=1<<(I=C-B);I+B<k&&!((x-=L[I+B])<=0);)I++,x<<=1;if(O+=1<<I,1===t&&O>852||2===t&&O>592)return 1;c[y=N&v]=A<<24|I<<16|g-f|0}}return 0!==N&&(c[g+N]=C-B<<24|64<<16|0),h.bits=A,0}},93183:function(t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},29766:function(t){"use strict";function e(t){for(var e=t.length;--e>=0;)t[e]=0}var r=256,n=286,i=30,o=15,a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Array(576);e(f);var l=new Array(60);e(l);var h=new Array(512);e(h);var p=new Array(256);e(p);var d=new Array(29);e(d);var y,v,g,m=new Array(i);function b(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(m);var E=function(t){return t<256?h[t]:h[256+(t>>>7)]},S=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},C=function(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,S(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},_=function(t,e,r){C(t,r[2*e],r[2*e+1])},T=function(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},k=function(t,e,r){var n,i,a=new Array(16),s=0;for(n=1;n<=o;n++)s=s+r[n-1]<<1,a[n]=s;for(i=0;i<=e;i++){var u=t[2*i+1];0!==u&&(t[2*i]=T(a[u]++,u))}},A=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<i;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},I=function(t){t.bi_valid>8?S(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},B=function(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},x=function(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&B(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!B(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},O=function(t,e,n){var i,o,u,c,f=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+f++],i+=(255&t.pending_buf[t.sym_buf+f++])<<8,o=t.pending_buf[t.sym_buf+f++],0===i?_(t,o,e):(u=p[o],_(t,u+r+1,e),0!==(c=a[u])&&(o-=d[u],C(t,o,c)),i--,u=E(i),_(t,u,n),0!==(c=s[u])&&(i-=m[u],C(t,i,c)))}while(f<t.sym_next);_(t,256,e)},N=function(t,e){var r,n,i,a=e.dyn_tree,s=e.stat_desc.static_tree,u=e.stat_desc.has_stree,c=e.stat_desc.elems,f=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<c;r++)0!==a[2*r]?(t.heap[++t.heap_len]=f=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=f<2?++f:0)]=1,t.depth[i]=0,t.opt_len--,u&&(t.static_len-=s[2*i+1]);for(e.max_code=f,r=t.heap_len>>1;r>=1;r--)x(t,a,r);i=c;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],x(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,x(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,s,u,c=e.dyn_tree,f=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,y=e.stat_desc.max_length,v=0;for(a=0;a<=o;a++)t.bl_count[a]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(a=c[2*c[2*(n=t.heap[r])+1]+1]+1)>y&&(a=y,v++),c[2*n+1]=a,n>f||(t.bl_count[a]++,s=0,n>=d&&(s=p[n-d]),u=c[2*n],t.opt_len+=u*(a+s),h&&(t.static_len+=u*(l[2*n+1]+s)));if(0!==v){do{for(a=y-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[y]--,v-=2}while(v>0);for(a=y;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>f||(c[2*i+1]!==a&&(t.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),n--)}}(t,e),k(a,f,t.bl_count)},P=function(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},L=function(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<u&&i===a)){if(s<c)do{_(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(_(t,i,t.bl_tree),s--),_(t,16,t.bl_tree),C(t,s-3,2)):s<=10?(_(t,17,t.bl_tree),C(t,s-3,3)):(_(t,18,t.bl_tree),C(t,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}},R=!1,F=function(t,e,r,n){C(t,0+(n?1:0),3),I(t),S(t,r),S(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};t.exports._tr_init=function(t){R||(!function(){var t,e,r,c,w,E=new Array(16);for(r=0,c=0;c<28;c++)for(d[c]=r,t=0;t<1<<a[c];t++)p[r++]=c;for(p[r-1]=c,w=0,c=0;c<16;c++)for(m[c]=w,t=0;t<1<<s[c];t++)h[w++]=c;for(w>>=7;c<i;c++)for(m[c]=w<<7,t=0;t<1<<s[c]-7;t++)h[256+w++]=c;for(e=0;e<=o;e++)E[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,E[8]++;for(;t<=255;)f[2*t+1]=9,t++,E[9]++;for(;t<=279;)f[2*t+1]=7,t++,E[7]++;for(;t<=287;)f[2*t+1]=8,t++,E[8]++;for(k(f,287,E),t=0;t<i;t++)l[2*t+1]=5,l[2*t]=T(t,5);y=new b(f,a,257,n,o),v=new b(l,s,0,i,o),g=new b(new Array(0),u,0,19,7)}(),R=!0),t.l_desc=new w(t.dyn_ltree,y),t.d_desc=new w(t.dyn_dtree,v),t.bl_desc=new w(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,A(t)},t.exports._tr_stored_block=F,t.exports._tr_flush_block=function(t,e,n,i){var o,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),N(t,t.l_desc),N(t,t.d_desc),s=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),N(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==e?F(t,e,n,i):4===t.strategy||a===o?(C(t,2+(i?1:0),3),O(t,f,l)):(C(t,4+(i?1:0),3),function(t,e,r,n){var i;for(C(t,e-257,5),C(t,r-1,5),C(t,n-4,4),i=0;i<n;i++)C(t,t.bl_tree[2*c[i]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),O(t,t.dyn_ltree,t.dyn_dtree)),A(t),i&&I(t)},t.exports._tr_tally=function(t,e,n){return t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(p[n]+r+1)]++,t.dyn_dtree[2*E(e)]++),t.sym_next===t.sym_end},t.exports._tr_align=function(t){C(t,2,3),_(t,256,f),function(t){16===t.bi_valid?(S(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},14277:function(t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},44277:function(t){var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,u=[],c=!1,f=-1;function l(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&h())}function h(){if(!c){var t=a(l);c=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},13814:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return u.default}});var n=h(r(96449)),i=h(r(77631)),o=h(r(70782)),a=h(r(97053)),s=h(r(47689)),u=h(r(2306)),c=h(r(94850)),f=h(r(63851)),l=h(r(62357));function h(t){return t&&t.__esModule?t:{default:t}}},36786:function(t,e){"use strict";function r(t){return 14+(t+64>>>9<<4)+1}function n(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function i(t,e,r,i,o,a){return n((s=n(n(e,t),n(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function o(t,e,r,n,o,a,s){return i(e&r|~e&n,t,e,o,a,s)}function a(t,e,r,n,o,a,s){return i(e&n|r&~n,t,e,o,a,s)}function s(t,e,r,n,o,a,s){return i(e^r^n,t,e,o,a,s)}function u(t,e,r,n,o,a,s){return i(r^(e|~n),t,e,o,a,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){if("string"===typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[r(e)-1]=e;for(var i=1732584193,c=-271733879,f=-1732584194,l=271733878,h=0;h<t.length;h+=16){var p=i,d=c,y=f,v=l;i=o(i,c,f,l,t[h],7,-680876936),l=o(l,i,c,f,t[h+1],12,-389564586),f=o(f,l,i,c,t[h+2],17,606105819),c=o(c,f,l,i,t[h+3],22,-1044525330),i=o(i,c,f,l,t[h+4],7,-176418897),l=o(l,i,c,f,t[h+5],12,1200080426),f=o(f,l,i,c,t[h+6],17,-1473231341),c=o(c,f,l,i,t[h+7],22,-45705983),i=o(i,c,f,l,t[h+8],7,1770035416),l=o(l,i,c,f,t[h+9],12,-1958414417),f=o(f,l,i,c,t[h+10],17,-42063),c=o(c,f,l,i,t[h+11],22,-1990404162),i=o(i,c,f,l,t[h+12],7,1804603682),l=o(l,i,c,f,t[h+13],12,-40341101),f=o(f,l,i,c,t[h+14],17,-1502002290),i=a(i,c=o(c,f,l,i,t[h+15],22,1236535329),f,l,t[h+1],5,-165796510),l=a(l,i,c,f,t[h+6],9,-1069501632),f=a(f,l,i,c,t[h+11],14,643717713),c=a(c,f,l,i,t[h],20,-373897302),i=a(i,c,f,l,t[h+5],5,-701558691),l=a(l,i,c,f,t[h+10],9,38016083),f=a(f,l,i,c,t[h+15],14,-660478335),c=a(c,f,l,i,t[h+4],20,-405537848),i=a(i,c,f,l,t[h+9],5,568446438),l=a(l,i,c,f,t[h+14],9,-1019803690),f=a(f,l,i,c,t[h+3],14,-187363961),c=a(c,f,l,i,t[h+8],20,1163531501),i=a(i,c,f,l,t[h+13],5,-1444681467),l=a(l,i,c,f,t[h+2],9,-51403784),f=a(f,l,i,c,t[h+7],14,1735328473),i=s(i,c=a(c,f,l,i,t[h+12],20,-1926607734),f,l,t[h+5],4,-378558),l=s(l,i,c,f,t[h+8],11,-2022574463),f=s(f,l,i,c,t[h+11],16,1839030562),c=s(c,f,l,i,t[h+14],23,-35309556),i=s(i,c,f,l,t[h+1],4,-1530992060),l=s(l,i,c,f,t[h+4],11,1272893353),f=s(f,l,i,c,t[h+7],16,-155497632),c=s(c,f,l,i,t[h+10],23,-1094730640),i=s(i,c,f,l,t[h+13],4,681279174),l=s(l,i,c,f,t[h],11,-358537222),f=s(f,l,i,c,t[h+3],16,-722521979),c=s(c,f,l,i,t[h+6],23,76029189),i=s(i,c,f,l,t[h+9],4,-640364487),l=s(l,i,c,f,t[h+12],11,-421815835),f=s(f,l,i,c,t[h+15],16,530742520),i=u(i,c=s(c,f,l,i,t[h+2],23,-995338651),f,l,t[h],6,-198630844),l=u(l,i,c,f,t[h+7],10,1126891415),f=u(f,l,i,c,t[h+14],15,-1416354905),c=u(c,f,l,i,t[h+5],21,-57434055),i=u(i,c,f,l,t[h+12],6,1700485571),l=u(l,i,c,f,t[h+3],10,-1894986606),f=u(f,l,i,c,t[h+10],15,-1051523),c=u(c,f,l,i,t[h+1],21,-2054922799),i=u(i,c,f,l,t[h+8],6,1873313359),l=u(l,i,c,f,t[h+15],10,-30611744),f=u(f,l,i,c,t[h+6],15,-1560198380),c=u(c,f,l,i,t[h+13],21,1309151649),i=u(i,c,f,l,t[h+4],6,-145523070),l=u(l,i,c,f,t[h+11],10,-1120210379),f=u(f,l,i,c,t[h+2],15,718787259),c=u(c,f,l,i,t[h+9],21,-343485551),i=n(i,p),c=n(c,d),f=n(f,y),l=n(l,v)}return[i,c,f,l]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(r(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))};e.default=c},93843:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};e.default=r},47689:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="00000000-0000-0000-0000-000000000000"},62357:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(94850))&&n.__esModule?n:{default:n};var o=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};e.default=o},47225:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},90883:function(t,e){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};var n=new Uint8Array(16)},32013:function(t,e){"use strict";function r(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function n(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,u=Math.ceil(s/16),c=new Array(u),f=0;f<u;++f){for(var l=new Uint32Array(16),h=0;h<16;++h)l[h]=t[64*f+4*h]<<24|t[64*f+4*h+1]<<16|t[64*f+4*h+2]<<8|t[64*f+4*h+3];c[f]=l}c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295;for(var p=0;p<u;++p){for(var d=new Uint32Array(80),y=0;y<16;++y)d[y]=c[p][y];for(var v=16;v<80;++v)d[v]=n(d[v-3]^d[v-8]^d[v-14]^d[v-16],1);for(var g=i[0],m=i[1],b=i[2],w=i[3],E=i[4],S=0;S<80;++S){var C=Math.floor(S/20),_=n(g,5)+r(C,m,b,w)+E+e[C]+d[S]>>>0;E=w,w=b,b=n(m,30)>>>0,m=g,g=_}i[0]=i[0]+g>>>0,i[1]=i[1]+m>>>0,i[2]=i[2]+b>>>0,i[3]=i[3]+w>>>0,i[4]=i[4]+E>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};e.default=i},63851:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.unsafeStringify=s;var n,i=(n=r(94850))&&n.__esModule?n:{default:n};for(var o=[],a=0;a<256;++a)o.push((a+256).toString(16).slice(1));function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]}var u=function(t){var e=s(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(e))throw TypeError("Stringified UUID is invalid");return e};e.default=u},96449:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i,o,a=(n=r(90883))&&n.__esModule?n:{default:n},s=r(63851);var u=0,c=0;var f=function(t,e,r){var n=e&&r||0,f=e||new Array(16),l=(t=t||{}).node||i,h=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==h){var p=t.random||(t.rng||a.default)();null==l&&(l=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:c+1,v=d-u+(y-c)/1e4;if(v<0&&void 0===t.clockseq&&(h=h+1&16383),(v<0||d>u)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,c=y,o=h;var g=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;f[n++]=g>>>24&255,f[n++]=g>>>16&255,f[n++]=g>>>8&255,f[n++]=255&g;var m=d/4294967296*1e4&268435455;f[n++]=m>>>8&255,f[n++]=255&m,f[n++]=m>>>24&15|16,f[n++]=m>>>16&255,f[n++]=h>>>8|128,f[n++]=255&h;for(var b=0;b<6;++b)f[n+b]=l[b];return e||(0,s.unsafeStringify)(f)};e.default=f},77631:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(72028)),i=o(r(36786));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,n.default)("v3",48,i.default);e.default=a},72028:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0,e.default=function(t,e,r){function n(t,n,a,s){var u;if("string"===typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"===typeof n&&(n=(0,o.default)(n)),16!==(null===(u=n)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+t.length);if(c.set(n),c.set(t,n.length),(c=r(c))[6]=15&c[6]|e,c[8]=63&c[8]|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=c[f];return a}return(0,i.unsafeStringify)(c)}try{n.name=t}catch(u){}return n.DNS=a,n.URL=s,n};var n,i=r(63851),o=(n=r(62357))&&n.__esModule?n:{default:n};var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=a;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s},70782:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(93843)),i=a(r(90883)),o=r(63851);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,r){if(n.default.randomUUID&&!e&&!t)return n.default.randomUUID();var a=(t=t||{}).random||(t.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=a[s];return e}return(0,o.unsafeStringify)(a)};e.default=s},97053:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(72028)),i=o(r(32013));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,n.default)("v5",80,i.default);e.default=a},94850:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(47225))&&n.__esModule?n:{default:n};var o=function(t){return"string"===typeof t&&i.default.test(t)};e.default=o},2306:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(94850))&&n.__esModule?n:{default:n};var o=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)};e.default=o},23086:function(t){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetElectionLogEntries"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"electionUniqueId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"types"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"election"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uniqueId"},value:{kind:"Variable",name:{kind:"Name",value:"electionUniqueId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logEntries"},arguments:[{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"types"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signedData"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chainedHash"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:260}};e.loc.source={body:"query GetElectionLogEntries(\n  $electionUniqueId: String!\n  $after: String\n  $types: [String!]\n) {\n  election(uniqueId: $electionUniqueId) {\n    logEntries(after: $after, types: $types) {\n      id\n      messageId\n      signedData\n      chainedHash\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var n={};function i(t,e){for(var r=0;r<t.definitions.length;r++){var n=t.definitions[r];if(n.name&&n.name.value==e)return n}}e.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),n[t.name.value]=e}})),t.exports=e,t.exports.GetElectionLogEntries=function(t,e){var r={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(r.loc=t.loc);var o=n[e]||new Set,a=new Set,s=new Set;for(o.forEach((function(t){s.add(t)}));s.size>0;){var u=s;s=new Set,u.forEach((function(t){a.has(t)||(a.add(t),(n[t]||new Set).forEach((function(t){s.add(t)})))}))}return a.forEach((function(e){var n=i(t,e);n&&r.definitions.push(n)})),r}(e,"GetElectionLogEntries")},67172:function(t){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLogEntry"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"electionUniqueId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"electionUniqueId"},value:{kind:"Variable",name:{kind:"Name",value:"electionUniqueId"}}},{kind:"Argument",name:{kind:"Name",value:"contentHash"},value:{kind:"Variable",name:{kind:"Name",value:"contentHash"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signedData"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentHash"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:199}};e.loc.source={body:"query GetLogEntry($electionUniqueId: String!, $contentHash: String!) {\n  logEntry(electionUniqueId: $electionUniqueId, contentHash: $contentHash) {\n    messageId\n    signedData\n    contentHash\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var n={};function i(t,e){for(var r=0;r<t.definitions.length;r++){var n=t.definitions[r];if(n.name&&n.name.value==e)return n}}e.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),n[t.name.value]=e}})),t.exports=e,t.exports.GetLogEntry=function(t,e){var r={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(r.loc=t.loc);var o=n[e]||new Set,a=new Set,s=new Set;for(o.forEach((function(t){s.add(t)}));s.size>0;){var u=s;s=new Set,u.forEach((function(t){a.has(t)||(a.add(t),(n[t]||new Set).forEach((function(t){s.add(t)})))}))}return a.forEach((function(e){var n=i(t,e);n&&r.definitions.push(n)})),r}(e,"GetLogEntry")},60182:function(t){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingMessageByMessageId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pendingMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117}};e.loc.source={body:"query GetPendingMessageByMessageId($messageId: String!) {\n  pendingMessage(messageId: $messageId) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var n={};function i(t,e){for(var r=0;r<t.definitions.length;r++){var n=t.definitions[r];if(n.name&&n.name.value==e)return n}}e.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),n[t.name.value]=e}})),t.exports=e,t.exports.GetPendingMessageByMessageId=function(t,e){var r={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(r.loc=t.loc);var o=n[e]||new Set,a=new Set,s=new Set;for(o.forEach((function(t){s.add(t)}));s.size>0;){var u=s;s=new Set,u.forEach((function(t){a.has(t)||(a.add(t),(n[t]||new Set).forEach((function(t){s.add(t)})))}))}return a.forEach((function(e){var n=i(t,e);n&&r.definitions.push(n)})),r}(e,"GetPendingMessageByMessageId")},40693:function(t){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ProcessKeyCeremonyStep"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signedData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"processKeyCeremonyStep"},arguments:[{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}},{kind:"Argument",name:{kind:"Name",value:"signedData"},value:{kind:"Variable",name:{kind:"Name",value:"signedData"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pendingMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signedData"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:212}};e.loc.source={body:"mutation ProcessKeyCeremonyStep($messageId: String!, $signedData: String!) {\n  processKeyCeremonyStep(messageId: $messageId, signedData: $signedData) {\n    pendingMessage {\n      signedData\n    }\n    error\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var n={};function i(t,e){for(var r=0;r<t.definitions.length;r++){var n=t.definitions[r];if(n.name&&n.name.value==e)return n}}e.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),n[t.name.value]=e}})),t.exports=e,t.exports.ProcessKeyCeremonyStep=function(t,e){var r={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(r.loc=t.loc);var o=n[e]||new Set,a=new Set,s=new Set;for(o.forEach((function(t){s.add(t)}));s.size>0;){var u=s;s=new Set,u.forEach((function(t){a.has(t)||(a.add(t),(n[t]||new Set).forEach((function(t){s.add(t)})))}))}return a.forEach((function(e){var n=i(t,e);n&&r.definitions.push(n)})),r}(e,"ProcessKeyCeremonyStep")},69283:function(t){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ProcessTallyStep"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signedData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"processTallyStep"},arguments:[{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}},{kind:"Argument",name:{kind:"Name",value:"signedData"},value:{kind:"Variable",name:{kind:"Name",value:"signedData"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pendingMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signedData"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:200}};e.loc.source={body:"mutation ProcessTallyStep($messageId: String!, $signedData: String!) {\n  processTallyStep(messageId: $messageId, signedData: $signedData) {\n    pendingMessage {\n      signedData\n    }\n    error\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var n={};function i(t,e){for(var r=0;r<t.definitions.length;r++){var n=t.definitions[r];if(n.name&&n.name.value==e)return n}}e.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),n[t.name.value]=e}})),t.exports=e,t.exports.ProcessTallyStep=function(t,e){var r={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(r.loc=t.loc);var o=n[e]||new Set,a=new Set,s=new Set;for(o.forEach((function(t){s.add(t)}));s.size>0;){var u=s;s=new Set,u.forEach((function(t){a.has(t)||(a.add(t),(n[t]||new Set).forEach((function(t){s.add(t)})))}))}return a.forEach((function(e){var n=i(t,e);n&&r.definitions.push(n)})),r}(e,"ProcessTallyStep")},97540:function(t,e,r){"use strict";t.exports=r.p+"media/images/decidim_elections-15e5583a7f2834cd644e.svg"},63400:function(t,e,r){"use strict";t.exports=r.p+"media/images/decidim_votings-d8f8364c84ea50df120f.svg"},50310:function(){},36303:function(){},88066:function(t,e){var r;var n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(A){}function r(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function n(t){return!0===(t&&t.__isLong__)}function i(t){var e=Math.clz32(t&-t);return t?31-e:e}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var o={},a={};function s(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=a[t])?n:(r=c(t,0,!0),i&&(a[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(r=c(t,t<0?-1:0,!1),i&&(o[t]=r),r)}function u(t,e){if(isNaN(t))return e?m:g;if(e){if(t<0)return m;if(t>=d)return C}else{if(t<=-y)return _;if(t+1>=y)return S}return t<0?u(-t,e).neg():c(t%p|0,t/p|0,e)}function c(t,e,n){return new r(t,e,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var f=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("number"===typeof e?(r=e,e=!1):e=!!e,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e?m:g;if((r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).neg();for(var i=u(f(r,8)),o=g,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+s),r);if(s<8){var h=u(f(r,s));o=o.mul(h).add(u(c))}else o=(o=o.mul(i)).add(u(c))}return o.unsigned=e,o}function h(t,e){return"number"===typeof t?u(t,e):"string"===typeof t?l(t,e):c(t.low,t.high,"boolean"===typeof e?e:t.unsigned)}r.fromString=l,r.fromValue=h;var p=4294967296,d=p*p,y=d/2,v=s(1<<24),g=s(0);r.ZERO=g;var m=s(0,!0);r.UZERO=m;var b=s(1);r.ONE=b;var w=s(1,!0);r.UONE=w;var E=s(-1);r.NEG_ONE=E;var S=c(-1,2147483647,!1);r.MAX_VALUE=S;var C=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=C;var _=c(0,-2147483648,!1);r.MIN_VALUE=_;var T=r.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},T.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var e=u(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=u(f(t,6),this.unsigned),o=this,a="";;){var s=o.div(i),c=(o.sub(s.mul(i)).toInt()>>>0).toString(t);if((o=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(t){return n(t)||(t=h(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},T.eq=T.equals,T.notEquals=function(t){return!this.eq(t)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(t){return this.comp(t)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(t){return this.comp(t)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(t){return this.comp(t)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(t){return this.comp(t)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(t){if(n(t)||(t=h(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(b)},T.neg=T.negate,T.add=function(t){n(t)||(t=h(t));var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,f=0,l=0,p=0,d=0;return p+=(d+=o+(65535&t.low))>>>16,l+=(p+=i+u)>>>16,f+=(l+=r+s)>>>16,f+=e+a,c((p&=65535)<<16|(d&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},T.subtract=function(t){return n(t)||(t=h(t)),this.add(t.neg())},T.sub=T.subtract,T.multiply=function(t){if(this.isZero())return this;if(n(t)||(t=h(t)),e)return c(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return this.unsigned?m:g;if(this.eq(_))return t.isOdd()?_:g;if(t.eq(_))return this.isOdd()?_:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return u(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,s=t.high>>>16,f=65535&t.high,l=t.low>>>16,p=65535&t.low,d=0,y=0,b=0,w=0;return b+=(w+=a*p)>>>16,y+=(b+=o*p)>>>16,b&=65535,y+=(b+=a*l)>>>16,d+=(y+=i*p)>>>16,y&=65535,d+=(y+=o*l)>>>16,y&=65535,d+=(y+=a*f)>>>16,d+=r*p+i*l+o*f+a*s,c((b&=65535)<<16|(w&=65535),(d&=65535)<<16|(y&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(t){if(n(t)||(t=h(t)),t.isZero())throw Error("division by zero");var r,i,o;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:g;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return m;if(t.gt(this.shru(1)))return w;o=m}else{if(this.eq(_))return t.eq(b)||t.eq(E)?_:t.eq(_)?b:(r=this.shr(1).div(t).shl(1)).eq(g)?t.isNegative()?b:E:(i=this.sub(t.mul(r)),o=r.add(i.div(t)));if(t.eq(_))return this.unsigned?m:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=g}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),s=a<=48?1:f(2,a-48),l=u(r),p=l.mul(t);p.isNegative()||p.gt(i);)p=(l=u(r-=s,this.unsigned)).mul(t);l.isZero()&&(l=b),o=o.add(l),i=i.sub(p)}return o},T.div=T.divide,T.modulo=function(t){return n(t)||(t=h(t)),e?c((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},T.clz=T.countLeadingZeros,T.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},T.ctz=T.countTrailingZeros,T.and=function(t){return n(t)||(t=h(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},T.or=function(t){return n(t)||(t=h(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},T.xor=function(t){return n(t)||(t=h(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},T.shiftLeft=function(t){return n(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(t){return n(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(t){return n(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):c(32===t?this.high:this.high>>>t-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.rotateLeft=function(t){var e;return n(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?c(this.high,this.low,this.unsigned):t<32?(e=32-t,c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(e=32-(t-=32),c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},T.rotl=T.rotateLeft,T.rotateRight=function(t){var e;return n(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?c(this.high,this.low,this.unsigned):t<32?(e=32-t,c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(e=32-(t-=32),c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},T.rotr=T.rotateRight,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},T.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};var k=r;return t.default=k,"default"in t?t.default:t}({});void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)},58823:function(t,e,r){"use strict";r.d(e,{k:function(){return a}});var n=r(80624),i=r(27045),o=r(49920),a=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,i.LV)(o.ct)}return t.prototype.batch=function(t){var e,r=this,n="string"===typeof t.optimistic?t.optimistic:!1===t.optimistic?null:void 0;return this.performTransaction((function(){return e=t.update(r)}),n),e},t.prototype.recordOptimisticTransaction=function(t,e){this.performTransaction(t,e)},t.prototype.transformDocument=function(t){return t},t.prototype.transformForLink=function(t){return t},t.prototype.identify=function(t){},t.prototype.gc=function(){return[]},t.prototype.modify=function(t){return!1},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,n.Cl)((0,n.Cl)({},t),{rootId:t.id||"ROOT_QUERY",optimistic:e}))},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,n.Cl)((0,n.Cl)({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:e}))},t.prototype.writeQuery=function(t){var e=t.id,r=t.data,i=(0,n.Tt)(t,["id","data"]);return this.write(Object.assign(i,{dataId:e||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(t){var e=t.id,r=t.data,i=t.fragment,o=t.fragmentName,a=(0,n.Tt)(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(i,o),dataId:e,result:r}))},t.prototype.updateQuery=function(t,e){return this.batch({update:function(r){var i=r.readQuery(t),o=e(i);return void 0===o||null===o?i:(r.writeQuery((0,n.Cl)((0,n.Cl)({},t),{data:o})),o)}})},t.prototype.updateFragment=function(t,e){return this.batch({update:function(r){var i=r.readFragment(t),o=e(i);return void 0===o||null===o?i:(r.writeFragment((0,n.Cl)((0,n.Cl)({},t),{data:o})),o)}})},t}()},21630:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(80624),i=function(t){function e(r,n,i,o){var a,s=t.call(this,r)||this;if(s.message=r,s.path=n,s.query=i,s.variables=o,Array.isArray(s.path)){s.missing=s.message;for(var u=s.path.length-1;u>=0;--u)s.missing=((a={})[s.path[u]]=s.missing,a)}else s.missing=s.path;return s.__proto__=e.prototype,s}return(0,n.C6)(e,t),e}(Error)},37706:function(t,e,r){"use strict";r.d(e,{$7:function(){return T},D_:function(){return m},M2:function(){return E}});var n=r(80624),i=r(65871),o=r(27045),a=r(58008),s=r(14200),u=r(58572),c=r(41395),f=r(52199),l=r(35385),h=r(71432),p=r(77487);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var y=Object.create(null),v=function(){return y},g=Object.create(null),m=function(){function t(t,e){var r=this;this.policies=t,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(t,e){return(0,u.G)((0,c.A_)(t)?r.get(t.__ref,e):t&&t[e])},this.canRead=function(t){return(0,c.A_)(t)?r.has(t.__ref):"object"===d(t)},this.toReference=function(t,e){if("string"===typeof t)return(0,c.WU)(t);if((0,c.A_)(t))return t;var n=r.policies.identify(t)[0];if(n){var i=(0,c.WU)(n);return e&&r.merge(n,t),i}}}return t.prototype.toObject=function(){return(0,n.Cl)({},this.data)},t.prototype.has=function(t){return void 0!==this.lookup(t,!0)},t.prototype.get=function(t,e){if(this.group.depend(t,e),p.$3.call(this.data,t)){var r=this.data[t];if(r&&p.$3.call(r,e))return r[e]}return"__typename"===e&&p.$3.call(this.policies.rootTypenamesById,t)?this.policies.rootTypenamesById[t]:this instanceof S?this.parent.get(t,e):void 0},t.prototype.lookup=function(t,e){return e&&this.group.depend(t,"__exists"),p.$3.call(this.data,t)?this.data[t]:this instanceof S?this.parent.lookup(t,e):this.policies.rootTypenamesById[t]?Object.create(null):void 0},t.prototype.merge=function(t,e){var r,n=this;(0,c.A_)(t)&&(t=t.__ref),(0,c.A_)(e)&&(e=e.__ref);var o="string"===typeof t?this.lookup(r=t):t,a="string"===typeof e?this.lookup(r=e):e;if(a){(0,i.V1)("string"===typeof r,1);var s=new f.ZI(_).merge(o,a);if(this.data[r]=s,s!==o&&(delete this.refs[r],this.group.caching)){var u=Object.create(null);o||(u.__exists=1),Object.keys(a).forEach((function(t){if(!o||o[t]!==s[t]){u[t]=1;var e=(0,p.iJ)(t);e===t||n.policies.hasKeyArgs(s.__typename,e)||(u[e]=1),void 0!==s[t]||n instanceof S||delete s[t]}})),!u.__typename||o&&o.__typename||this.policies.rootTypenamesById[r]!==s.__typename||delete u.__typename,Object.keys(u).forEach((function(t){return n.group.dirty(r,t)}))}}},t.prototype.modify=function(t,e){var r=this,o=this.lookup(t);if(o){var a=Object.create(null),s=!1,f=!0,l={DELETE:y,INVALIDATE:g,isReference:c.A_,toReference:this.toReference,canRead:this.canRead,readField:function(e,n){return r.policies.readField("string"===typeof e?{fieldName:e,from:n||(0,c.WU)(t)}:e,{store:r})}};if(Object.keys(o).forEach((function(h){var m=(0,p.iJ)(h),b=o[h];if(void 0!==b){var w="function"===typeof e?e:e[h]||e[m];if(w){var E=w===v?y:w((0,u.G)(b),(0,n.Cl)((0,n.Cl)({},l),{fieldName:m,storeFieldName:h,storage:r.getStorage(t,h)}));if(E===g)r.group.dirty(t,h);else if(E===y&&(E=void 0),E!==b&&(a[h]=E,s=!0,b=E,!1!==globalThis.__DEV__)){var S=function(t){if(void 0===r.lookup(t.__ref))return!1!==globalThis.__DEV__&&i.V1.warn(2,t),!0};if((0,c.A_)(E))S(E);else if(Array.isArray(E))for(var C=!1,_=void 0,T=0,k=E;T<k.length;T++){var A=k[T];if((0,c.A_)(A)){if(C=!0,S(A))break}else if("object"===d(A)&&A)r.policies.identify(A)[0]&&(_=A);if(C&&void 0!==_){!1!==globalThis.__DEV__&&i.V1.warn(3,_);break}}}}void 0!==b&&(f=!1)}})),s)return this.merge(t,a),f&&(this instanceof S?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},t.prototype.delete=function(t,e,r){var n,i=this.lookup(t);if(i){var o=this.getFieldValue(i,"__typename"),a=e&&r?this.policies.getStoreFieldName({typename:o,fieldName:e,args:r}):e;return this.modify(t,a?((n={})[a]=v,n):v)}return!1},t.prototype.evict=function(t,e){var r=!1;return t.id&&(p.$3.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof S&&this!==e&&(r=this.parent.evict(t,e)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var t=this,e=this.toObject(),r=[];return this.getRootIdSet().forEach((function(e){p.$3.call(t.policies.rootTypenamesById,e)||r.push(e)})),r.length&&(e.__META={extraRootIds:r.sort()}),e},t.prototype.replace=function(t){var e=this;if(Object.keys(this.data).forEach((function(r){t&&p.$3.call(t,r)||e.delete(r)})),t){var r=t.__META,i=(0,n.Tt)(t,["__META"]);Object.keys(i).forEach((function(t){e.merge(t,i[t])})),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},t.prototype.release=function(t){if(this.rootIds[t]>0){var e=--this.rootIds[t];return e||delete this.rootIds[t],e}return 0},t.prototype.getRootIdSet=function(t){return void 0===t&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof S?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},t.prototype.gc=function(){var t=this,e=this.getRootIdSet(),r=this.toObject();e.forEach((function(n){p.$3.call(r,n)&&(Object.keys(t.findChildRefIds(n)).forEach(e.add,e),delete r[n])}));var n=Object.keys(r);if(n.length){for(var i=this;i instanceof S;)i=i.parent;n.forEach((function(t){return i.delete(t)}))}return n},t.prototype.findChildRefIds=function(t){if(!p.$3.call(this.refs,t)){var e=this.refs[t]=Object.create(null),r=this.data[t];if(!r)return e;var n=new Set([r]);n.forEach((function(t){(0,c.A_)(t)&&(e[t.__ref]=!0),(0,l.U)(t)&&Object.keys(t).forEach((function(e){var r=t[e];(0,l.U)(r)&&n.add(r)}))}))}return this.refs[t]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),b=function(){function t(t,e){void 0===e&&(e=null),this.caching=t,this.parent=e,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?(0,o.yN)():null,this.keyMaker=new s.b(h.et)},t.prototype.depend=function(t,e){if(this.d){this.d(w(t,e));var r=(0,p.iJ)(e);r!==e&&this.d(w(t,r)),this.parent&&this.parent.depend(t,e)}},t.prototype.dirty=function(t,e){this.d&&this.d.dirty(w(t,e),"__exists"===e?"forget":"setDirty")},t}();function w(t,e){return e+"#"+t}function E(t,e){T(t)&&t.group.depend(e,"__exists")}!function(t){var e=function(t){function e(e){var r=e.policies,n=e.resultCaching,i=void 0===n||n,o=e.seed,a=t.call(this,r,new b(i))||this;return a.stump=new C(a),a.storageTrie=new s.b(h.et),o&&a.replace(o),a}return(0,n.C6)(e,t),e.prototype.addLayer=function(t,e){return this.stump.addLayer(t,e)},e.prototype.removeLayer=function(){return this},e.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},e}(t);t.Root=e}(m||(m={}));var S=function(t){function e(e,r,n,i){var o=t.call(this,r.policies,i)||this;return o.id=e,o.parent=r,o.replay=n,o.group=i,n(o),o}return(0,n.C6)(e,t),e.prototype.addLayer=function(t,r){return new e(t,this,r,this.group)},e.prototype.removeLayer=function(t){var e=this,r=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(t){var n=e.data[t],i=r.lookup(t);i?n?n!==i&&Object.keys(n).forEach((function(r){(0,a.L)(n[r],i[r])||e.group.dirty(t,r)})):(e.group.dirty(t,"__exists"),Object.keys(i).forEach((function(r){e.group.dirty(t,r)}))):e.delete(t)})),r):r===this.parent?this:r.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return(0,n.Cl)((0,n.Cl)({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(e){var r=this.parent.findChildRefIds(e);return p.$3.call(this.data,e)?(0,n.Cl)((0,n.Cl)({},r),t.prototype.findChildRefIds.call(this,e)):r},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(m),C=function(t){function e(e){return t.call(this,"EntityStore.Stump",e,(function(){}),new b(e.group.caching,e.group))||this}return(0,n.C6)(e,t),e.prototype.removeLayer=function(){return this},e.prototype.merge=function(t,e){return this.parent.merge(t,e)},e}(S);function _(t,e,r){var n=t[r],i=e[r];return(0,a.L)(n,i)?n:i}function T(t){return!!(t instanceof m&&t.group.caching)}},77487:function(t,e,r){"use strict";r.d(e,{$3:function(){return l},I6:function(){return y},T9:function(){return w},Ui:function(){return g},Xx:function(){return v},d1:function(){return E},gk:function(){return m},iJ:function(){return b},lq:function(){return C},mv:function(){return S},or:function(){return p}});var n=r(43556),i=r(41395),o=r(35385),a=r(65743),s=r(2011),u=r(52199),c=r(49920),f=r(6713),l=Object.prototype.hasOwnProperty;function h(t){return null===t||void 0===t}function p(t,e){var r=t.__typename,n=t.id,i=t._id;if("string"===typeof r&&(e&&(e.keyObject=h(n)?h(i)?void 0:{_id:i}:{id:n}),h(n)&&!h(i)&&(n=i),!h(n)))return"".concat(r,":").concat("number"===typeof n||"string"===typeof n?n:JSON.stringify(n))}var d={dataIdFromObject:p,addTypename:!0,resultCaching:!0,canonizeResults:!1};function y(t){return(0,n.o)(d,t)}function v(t){var e=t.canonizeResults;return void 0===e?d.canonizeResults:e}function g(t,e){return(0,i.A_)(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var m=/^[_a-z][_0-9a-z]*/i;function b(t){var e=t.match(m);return e?e[0]:t}function w(t,e,r){return!!(0,o.U)(e)&&((0,a.c)(e)?e.every((function(e){return w(t,e,r)})):t.selections.every((function(t){if((0,i.dt)(t)&&(0,s.MS)(t,r)){var n=(0,i.ue)(t);return l.call(e,n)&&(!t.selectionSet||w(t.selectionSet,e[n],r))}return!0})))}function E(t){return(0,o.U)(t)&&!(0,i.A_)(t)&&!(0,a.c)(t)}function S(){return new u.ZI}function C(t,e){var r=(0,c.JG)((0,f.zK)(t));return{fragmentMap:r,lookupFragment:function(t){var n=r[t];return!n&&e&&(n=e.lookup(t)),n||null}}}},72640:function(t,e,r){"use strict";r.d(e,{D:function(){return b}});var n=r(80624),i=r(65871),o=r(27045),a=r(58008),s=r(58823),u=r(21630),c=r(98578),f=r(60861),l=r(41395),h=r(83495),p=r(4103),d=r(37706),y=r(46257),v=r(18798),g=r(77487),m=r(26053),b=function(t){function e(e){void 0===e&&(e={});var r=t.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new c.c(f.XY),r.assumeImmutableResults=!0,r.makeVar=y.UT,r.txCount=0,r.config=(0,g.I6)(e),r.addTypename=!!r.config.addTypename,r.policies=new v.l({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,n.C6)(e,t),e.prototype.init=function(){var t=this.data=new d.D_.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var e=this,r=this.storeReader,n=this.config.fragments;this.storeWriter=new p.N(this,this.storeReader=new h.D({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,g.Xx)(this.config),canon:t?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=(0,o.LV)((function(t,r){return e.broadcastWatch(t,r)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(t){var r=t.optimistic?e.optimisticData:e.data;if((0,d.$7)(r)){var n=t.optimistic,i=t.id,o=t.variables;return r.makeCacheKey(t.query,t.callback,(0,m.M)({optimistic:n,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(t){return t.resetCaching()}))},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var e=t.returnPartialData,r=void 0!==e&&e;try{return this.storeReader.diffQueryAgainstStore((0,n.Cl)((0,n.Cl)({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(i){if(i instanceof u.Z)return null;throw i}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.modify=function(t){if(g.$3.call(t,"id")&&!t.id)return!1;var e=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,e.modify(t.id||"ROOT_QUERY",t.fields)}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore((0,n.Cl)((0,n.Cl)({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var e=this;return this.watches.size||(0,y.MS)(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){e.watches.delete(t)&&!e.watches.size&&(0,y.WR)(e),e.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){m.M.reset();var e=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),e},e.prototype.retain=function(t,e){return(e?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,e){return(e?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if((0,l.A_)(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(e){!1!==globalThis.__DEV__&&i.V1.warn(e)}},e.prototype.evict=function(t){if(!t.id){if(g.$3.call(t,"id"))return!1;t=(0,n.Cl)((0,n.Cl)({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.reset=function(t){var e=this;return this.init(),m.M.reset(),t&&t.discardWatches?(this.watches.forEach((function(t){return e.maybeBroadcastWatch.forget(t)})),this.watches.clear(),(0,y.WR)(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var e=this.optimisticData.removeLayer(t);e!==this.optimisticData&&(this.optimisticData=e,this.broadcastWatches())},e.prototype.batch=function(t){var e,r=this,i=t.update,o=t.optimistic,a=void 0===o||o,s=t.removeOptimistic,u=t.onWatchUpdated,c=function(t){var n=r,o=n.data,a=n.optimisticData;++r.txCount,t&&(r.data=r.optimisticData=t);try{return e=i(r)}finally{--r.txCount,r.data=o,r.optimisticData=a}},f=new Set;return u&&!this.txCount&&this.broadcastWatches((0,n.Cl)((0,n.Cl)({},t),{onWatchUpdated:function(t){return f.add(t),!1}})),"string"===typeof a?this.optimisticData=this.optimisticData.addLayer(a,c):!1===a?c(this.data):c(),"string"===typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),u&&f.size?(this.broadcastWatches((0,n.Cl)((0,n.Cl)({},t),{onWatchUpdated:function(t,e){var r=u.call(this,t,e);return!1!==r&&f.delete(t),r}})),f.size&&f.forEach((function(t){return r.maybeBroadcastWatch.dirty(t)}))):this.broadcastWatches(t),e},e.prototype.performTransaction=function(t,e){return this.batch({update:t,optimistic:e||null!==e})},e.prototype.transformDocument=function(t){return this.addTypenameToDocument(this.addFragmentsToDocument(t))},e.prototype.broadcastWatches=function(t){var e=this;this.txCount||this.watches.forEach((function(r){return e.maybeBroadcastWatch(r,t)}))},e.prototype.addFragmentsToDocument=function(t){var e=this.config.fragments;return e?e.transform(t):t},e.prototype.addTypenameToDocument=function(t){return this.addTypename?this.addTypenameTransform.transformDocument(t):t},e.prototype.broadcastWatch=function(t,e){var r=t.lastDiff,n=this.diff(t);e&&(t.optimistic&&"string"===typeof e.optimistic&&(n.fromOptimisticTransaction=!0),e.onWatchUpdated&&!1===e.onWatchUpdated.call(this,t,n,r))||r&&(0,a.L)(r.result,n.result)||t.callback(t.lastDiff=n,r)},e}(s.k)},71364:function(t,e,r){"use strict";r.d(e,{fc:function(){return h},v2:function(){return l}});var n=r(65871),i=r(65743),o=r(41395),a=r(52199),s=r(35385),u=r(77487),c=Object.create(null);function f(t){var e=JSON.stringify(t);return c[e]||(c[e]=Object.create(null))}function l(t){var e=f(t);return e.keyFieldsFn||(e.keyFieldsFn=function(e,r){var i=function(t,e){return r.readField(e,t)},o=r.keyObject=p(t,(function(t){var o=v(r.storeObject,t,i);return void 0===o&&e!==r.storeObject&&u.$3.call(e,t[0])&&(o=v(e,t,y)),(0,n.V1)(void 0!==o,4,t.join("."),e),o}));return"".concat(r.typename,":").concat(JSON.stringify(o))})}function h(t){var e=f(t);return e.keyArgsFn||(e.keyArgsFn=function(e,r){var n=r.field,a=r.variables,s=r.fieldName,c=p(t,(function(t){var r=t[0],s=r.charAt(0);if("@"!==s)if("$"!==s){if(e)return v(e,t)}else{var c=r.slice(1);if(a&&u.$3.call(a,c)){var f=t.slice(0);return f[0]=c,v(a,f)}}else if(n&&(0,i.E)(n.directives)){var l=r.slice(1),h=n.directives.find((function(t){return t.name.value===l})),p=h&&(0,o.MB)(h,a);return p&&v(p,t.slice(1))}})),f=JSON.stringify(c);return(e||"{}"!==f)&&(s+=":"+f),s})}function p(t,e){var r=new a.ZI;return d(t).reduce((function(t,n){var i,o=e(n);if(void 0!==o){for(var a=n.length-1;a>=0;--a)(i={})[n[a]]=o,o=i;t=r.merge(t,o)}return t}),Object.create(null))}function d(t){var e=f(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach((function(e,o){(0,i.c)(e)?(d(e).forEach((function(t){return r.push(n.concat(t))})),n.length=0):(n.push(e),(0,i.c)(t[o+1])||(r.push(n.slice(0)),n.length=0))}))}return e.paths}function y(t,e){return t[e]}function v(t,e,r){return r=r||y,g(e.reduce((function t(e,n){return(0,i.c)(e)?e.map((function(e){return t(e,n)})):e&&r(e,n)}),t))}function g(t){return(0,s.U)(t)?(0,i.c)(t)?t.map(g):p(Object.keys(t).sort(),(function(e){return v(t,e)})):t}},26053:function(t,e,r){"use strict";r.d(e,{$:function(){return f},M:function(){return l}});var n=r(80624),i=r(14200),o=r(35385),a=r(71432),s=r(65743);var u,c,f=function(){function t(){this.known=new(a.En?WeakSet:Set),this.pool=new i.b(a.et),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(t){return(0,o.U)(t)&&this.known.has(t)},t.prototype.pass=function(t){if((0,o.U)(t)){var e=function(t){return(0,o.U)(t)?(0,s.c)(t)?t.slice(0):(0,n.Cl)({__proto__:Object.getPrototypeOf(t)},t):t}(t);return this.passes.set(e,t),e}return t},t.prototype.admit=function(t){var e=this;if((0,o.U)(t)){var r=this.passes.get(t);if(r)return r;switch(Object.getPrototypeOf(t)){case Array.prototype:if(this.known.has(t))return t;var n=t.map(this.admit,this);return(u=this.pool.lookupArray(n)).array||(this.known.add(u.array=n),!1!==globalThis.__DEV__&&Object.freeze(n)),u.array;case null:case Object.prototype:if(this.known.has(t))return t;var i=Object.getPrototypeOf(t),a=[i],s=this.sortedKeys(t);a.push(s.json);var u,c=a.length;if(s.sorted.forEach((function(r){a.push(e.admit(t[r]))})),!(u=this.pool.lookupArray(a)).object){var f=u.object=Object.create(i);this.known.add(f),s.sorted.forEach((function(t,e){f[t]=a[c+e]})),!1!==globalThis.__DEV__&&Object.freeze(f)}return u.object}}return t},t.prototype.sortedKeys=function(t){var e=Object.keys(t),r=this.pool.lookupArray(e);if(!r.keys){e.sort();var n=JSON.stringify(e);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:e,json:n})}return r.keys},t}(),l=Object.assign((function(t){if((0,o.U)(t)){void 0===u&&h();var e=u.admit(t),r=c.get(e);return void 0===r&&c.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)}),{reset:h});function h(){u=new f,c=new(a.et?WeakMap:Map)}},18798:function(t,e,r){"use strict";r.d(e,{l:function(){return m},m:function(){return w}});var n=r(80624),i=r(65871),o=r(41395),a=r(48043),s=r(35385),u=r(77487),c=r(65743),f=r(46257),l=r(26053),h=r(71364);function p(t){return void 0!==t.args?t.args:t.field?(0,o.MB)(t.field,t.variables):null}o.o5.setStringify(l.M);var d=function(){},y=function(t,e){return e.fieldName},v=function(t,e,r){return(0,r.mergeObjects)(t,e)},g=function(t,e){return e},m=function(){function t(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,n.Cl)({dataIdFromObject:u.or},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return t.prototype.identify=function(t,e){var r,i=this,o=e&&(e.typename||(null===(r=e.storeObject)||void 0===r?void 0:r.__typename))||t.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a,s=e&&e.storeObject||t,u=(0,n.Cl)((0,n.Cl)({},e),{typename:o,storeObject:s,readField:e&&e.readField||function(){var t=w(arguments,s);return i.readField(t,{store:i.cache.data,variables:t.variables})}}),f=o&&this.getTypePolicy(o),l=f&&f.keyFn||this.config.dataIdFromObject;l;){var p=l((0,n.Cl)((0,n.Cl)({},t),s),u);if(!(0,c.c)(p)){a=p;break}l=(0,h.v2)(p)}return a=a?String(a):void 0,u.keyObject?[a,u.keyObject]:[a]},t.prototype.addTypePolicies=function(t){var e=this;Object.keys(t).forEach((function(r){var i=t[r],o=i.queryType,a=i.mutationType,s=i.subscriptionType,c=(0,n.Tt)(i,["queryType","mutationType","subscriptionType"]);o&&e.setRootTypename("Query",r),a&&e.setRootTypename("Mutation",r),s&&e.setRootTypename("Subscription",r),u.$3.call(e.toBeAdded,r)?e.toBeAdded[r].push(c):e.toBeAdded[r]=[c]}))},t.prototype.updateTypePolicy=function(t,e){var r=this,n=this.getTypePolicy(t),i=e.keyFields,o=e.fields;function a(t,e){t.merge="function"===typeof e?e:!0===e?v:!1===e?g:t.merge}a(n,e.merge),n.keyFn=!1===i?d:(0,c.c)(i)?(0,h.v2)(i):"function"===typeof i?i:n.keyFn,o&&Object.keys(o).forEach((function(e){var n=r.getFieldPolicy(t,e,!0),i=o[e];if("function"===typeof i)n.read=i;else{var s=i.keyArgs,u=i.read,f=i.merge;n.keyFn=!1===s?y:(0,c.c)(s)?(0,h.fc)(s):"function"===typeof s?s:n.keyFn,"function"===typeof u&&(n.read=u),a(n,f)}n.read&&n.merge&&(n.keyFn=n.keyFn||y)}))},t.prototype.setRootTypename=function(t,e){void 0===e&&(e=t);var r="ROOT_"+t.toUpperCase(),n=this.rootTypenamesById[r];e!==n&&((0,i.V1)(!n||n===t,5,t),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[e]=r,this.rootTypenamesById[r]=e)},t.prototype.addPossibleTypes=function(t){var e=this;this.usingPossibleTypes=!0,Object.keys(t).forEach((function(r){e.getSupertypeSet(r,!0),t[r].forEach((function(t){e.getSupertypeSet(t,!0).add(r);var n=t.match(u.gk);n&&n[0]===t||e.fuzzySubtypes.set(t,new RegExp(t))}))}))},t.prototype.getTypePolicy=function(t){var e=this;if(!u.$3.call(this.typePolicies,t)){var r=this.typePolicies[t]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach((function(r,n){if(r.test(t)){var o=e.supertypeMap.get(n);o&&o.forEach((function(t){return i.add(t)}))}}))),i&&i.size&&i.forEach((function(t){var i=e.getTypePolicy(t),o=i.fields,a=(0,n.Tt)(i,["fields"]);Object.assign(r,a),Object.assign(r.fields,o)}))}var o=this.toBeAdded[t];return o&&o.length&&o.splice(0).forEach((function(r){e.updateTypePolicy(t,r)})),this.typePolicies[t]},t.prototype.getFieldPolicy=function(t,e,r){if(t){var n=this.getTypePolicy(t).fields;return n[e]||r&&(n[e]=Object.create(null))}},t.prototype.getSupertypeSet=function(t,e){var r=this.supertypeMap.get(t);return!r&&e&&this.supertypeMap.set(t,r=new Set),r},t.prototype.fragmentMatches=function(t,e,r,n){var o=this;if(!t.typeCondition)return!0;if(!e)return!1;var a=t.typeCondition.name.value;if(e===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var s=this.getSupertypeSet(e,!0),c=[s],f=function(t){var e=o.getSupertypeSet(t,!1);e&&e.size&&c.indexOf(e)<0&&c.push(e)},l=!(!r||!this.fuzzySubtypes.size),h=!1,p=0;p<c.length;++p){var d=c[p];if(d.has(a))return s.has(a)||(h&&!1!==globalThis.__DEV__&&i.V1.warn(6,e,a),s.add(a)),!0;d.forEach(f),l&&p===c.length-1&&(0,u.T9)(t.selectionSet,r,n)&&(l=!1,h=!0,this.fuzzySubtypes.forEach((function(t,r){var n=e.match(t);n&&n[0]===e&&f(r)})))}return!1},t.prototype.hasKeyArgs=function(t,e){var r=this.getFieldPolicy(t,e,!1);return!(!r||!r.keyFn)},t.prototype.getStoreFieldName=function(t){var e,r=t.typename,n=t.fieldName,i=this.getFieldPolicy(r,n,!1),a=i&&i.keyFn;if(a&&r)for(var s={typename:r,fieldName:n,field:t.field||null,variables:t.variables},f=p(t);a;){var l=a(f,s);if(!(0,c.c)(l)){e=l||n;break}a=(0,h.fc)(l)}return void 0===e&&(e=t.field?(0,o.Ii)(t.field,t.variables):(0,o.o5)(n,p(t))),!1===e?n:n===(0,u.iJ)(e)?e:n+":"+e},t.prototype.readField=function(t,e){var r=t.from;if(r&&(t.field||t.fieldName)){if(void 0===t.typename){var n=e.store.getFieldValue(r,"__typename");n&&(t.typename=n)}var i=this.getStoreFieldName(t),a=(0,u.iJ)(i),s=e.store.getFieldValue(r,i),c=this.getFieldPolicy(t.typename,a,!1),l=c&&c.read;if(l){var h=b(this,r,t,e,e.store.getStorage((0,o.A_)(r)?r.__ref:r,i));return f.bl.withValue(this.cache,l,[s,h])}return s}},t.prototype.getReadFunction=function(t,e){var r=this.getFieldPolicy(t,e,!1);return r&&r.read},t.prototype.getMergeFunction=function(t,e,r){var n=this.getFieldPolicy(t,e,!1),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},t.prototype.runMergeFunction=function(t,e,r,n,i){var o=r.field,a=r.typename,s=r.merge;return s===v?E(n.store)(t,e):s===g?e:(n.overwrite&&(t=void 0),s(t,e,b(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:n.variables},n,i||Object.create(null))))},t}();function b(t,e,r,n,i){var a=t.getStoreFieldName(r),s=(0,u.iJ)(a),c=r.variables||n.variables,f=n.store,l=f.toReference,h=f.canRead;return{args:p(r),field:r.field||null,fieldName:s,storeFieldName:a,variables:c,isReference:o.A_,toReference:l,storage:i,cache:t.cache,canRead:h,readField:function(){return t.readField(w(arguments,e,c),n)},mergeObjects:E(n.store)}}function w(t,e,r){var o,s=t[0],c=t[1],f=t.length;return"string"===typeof s?o={fieldName:s,from:f>1?c:e}:(o=(0,n.Cl)({},s),u.$3.call(o,"from")||(o.from=e)),!1!==globalThis.__DEV__&&void 0===o.from&&!1!==globalThis.__DEV__&&i.V1.warn(7,(0,a.p)(Array.from(t))),void 0===o.variables&&(o.variables=r),o}function E(t){return function(e,r){if((0,c.c)(e)||(0,c.c)(r))throw(0,i.vA)(8);if((0,s.U)(e)&&(0,s.U)(r)){var a=t.getFieldValue(e,"__typename"),f=t.getFieldValue(r,"__typename");if(a&&f&&a!==f)return r;if((0,o.A_)(e)&&(0,u.d1)(r))return t.merge(e.__ref,r),e;if((0,u.d1)(e)&&(0,o.A_)(r))return t.merge(e,r.__ref),r;if((0,u.d1)(e)&&(0,u.d1)(r))return(0,n.Cl)((0,n.Cl)({},e),r)}return r}}},46257:function(t,e,r){"use strict";r.d(e,{MS:function(){return u},UT:function(){return c},WR:function(){return s},bl:function(){return i}});var n=r(27045),i=new n.DX,o=new WeakMap;function a(t){var e=o.get(t);return e||o.set(t,e={vars:new Set,dep:(0,n.yN)()}),e}function s(t){a(t).vars.forEach((function(e){return e.forgetCache(t)}))}function u(t){a(t).vars.forEach((function(e){return e.attachCache(t)}))}function c(t){var e=new Set,r=new Set,n=function n(s){if(arguments.length>0){if(t!==s){t=s,e.forEach((function(t){a(t).dep.dirty(n),function(t){t.broadcastWatches&&t.broadcastWatches()}(t)}));var u=Array.from(r);r.clear(),u.forEach((function(e){return e(t)}))}}else{var c=i.getValue();c&&(o(c),a(c).dep(n))}return t};n.onNextChange=function(t){return r.add(t),function(){r.delete(t)}};var o=n.attachCache=function(t){return e.add(t),a(t).vars.add(n),n};return n.forgetCache=function(t){return e.delete(t)},n}},83495:function(t,e,r){"use strict";r.d(e,{D:function(){return C}});var n=r(80624),i=r(65871),o=r(38367),a=r(27045),s=r(71432),u=r(43556),c=r(41395),f=r(6713),l=r(52199),h=r(2011),p=r(60861),d=r(49920),y=r(58572),v=r(35385),g=r(37706),m=r(77487),b=r(65743),w=r(21630),E=r(26053);function S(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var C=function(){function t(t){var e=this;this.knownResults=new(s.et?WeakMap:Map),this.config=(0,u.o)(t,{addTypename:!1!==t.addTypename,canonizeResults:(0,m.Xx)(t)}),this.canon=t.canon||new E.$,this.executeSelectionSet=(0,a.LV)((function(t){var r,i=t.context.canonizeResults,o=S(t);o[3]=!i;var a=(r=e.executeSelectionSet).peek.apply(r,o);return a?i?(0,n.Cl)((0,n.Cl)({},a),{result:e.canon.admit(a.result)}):a:((0,g.M2)(t.context.store,t.enclosingRef.__ref),e.execSelectionSetImpl(t))}),{max:this.config.resultCacheMaxSize,keyArgs:S,makeCacheKey:function(t,e,r,n){if((0,g.$7)(r.store))return r.store.makeCacheKey(t,(0,c.A_)(e)?e.__ref:e,r.varString,n)}}),this.executeSubSelectedArray=(0,a.LV)((function(t){return(0,g.M2)(t.context.store,t.enclosingRef.__ref),e.execSubSelectedArrayImpl(t)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(t){var e=t.field,r=t.array,n=t.context;if((0,g.$7)(n.store))return n.store.makeCacheKey(e,r,n.varString)}})}return t.prototype.resetCanon=function(){this.canon=new E.$},t.prototype.diffQueryAgainstStore=function(t){var e=t.store,r=t.query,i=t.rootId,o=void 0===i?"ROOT_QUERY":i,a=t.variables,s=t.returnPartialData,u=void 0===s||s,l=t.canonizeResults,h=void 0===l?this.config.canonizeResults:l,p=this.config.cache.policies;a=(0,n.Cl)((0,n.Cl)({},(0,f.wY)((0,f.AT)(r))),a);var d,y=(0,c.WU)(o),v=this.executeSelectionSet({selectionSet:(0,f.Vn)(r).selectionSet,objectOrReference:y,enclosingRef:y,context:(0,n.Cl)({store:e,query:r,policies:p,variables:a,varString:(0,E.M)(a),canonizeResults:h},(0,m.lq)(r,this.config.fragments))});if(v.missing&&(d=[new w.Z(_(v.missing),v.missing,r,a)],!u))throw d[0];return{result:v.result,complete:!d,missing:d}},t.prototype.isFresh=function(t,e,r,n){if((0,g.$7)(n.store)&&this.knownResults.get(t)===r){var i=this.executeSelectionSet.peek(r,e,n,this.canon.isKnown(t));if(i&&t===i.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(t){var e=this,r=t.selectionSet,n=t.objectOrReference,a=t.enclosingRef,s=t.context;if((0,c.A_)(n)&&!s.policies.rootTypenamesById[n.__ref]&&!s.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var u,f=s.variables,v=s.policies,g=s.store.getFieldValue(n,"__typename"),m=[],w=new l.ZI;function E(t,e){var r;return t.missing&&(u=w.merge(u,((r={})[e]=t.missing,r))),t.result}this.config.addTypename&&"string"===typeof g&&!v.rootIdsByTypename[g]&&m.push({__typename:g});var S=new Set(r.selections);S.forEach((function(t){var r,l;if((0,h.MS)(t,f))if((0,c.dt)(t)){var y=v.readField({fieldName:t.name.value,field:t,variables:s.variables,from:n},s),C=(0,c.ue)(t);void 0===y?p.XY.added(t)||(u=w.merge(u,((r={})[C]="Can't find field '".concat(t.name.value,"' on ").concat((0,c.A_)(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),r))):(0,b.c)(y)?y=E(e.executeSubSelectedArray({field:t,array:y,enclosingRef:a,context:s}),C):t.selectionSet?null!=y&&(y=E(e.executeSelectionSet({selectionSet:t.selectionSet,objectOrReference:y,enclosingRef:(0,c.A_)(y)?y:a,context:s}),C)):s.canonizeResults&&(y=e.canon.pass(y)),void 0!==y&&m.push(((l={})[C]=y,l))}else{var _=(0,d.HQ)(t,s.lookupFragment);if(!_&&t.kind===o.b.FRAGMENT_SPREAD)throw(0,i.vA)(9,t.name.value);_&&v.fragmentMatches(_,g)&&_.selectionSet.selections.forEach(S.add,S)}}));var C={result:(0,l.IM)(m),missing:u},_=s.canonizeResults?this.canon.admit(C):(0,y.G)(C);return _.result&&this.knownResults.set(_.result,r),_},t.prototype.execSubSelectedArrayImpl=function(t){var e,r=this,n=t.field,o=t.array,a=t.enclosingRef,s=t.context,u=new l.ZI;function f(t,r){var n;return t.missing&&(e=u.merge(e,((n={})[r]=t.missing,n))),t.result}return n.selectionSet&&(o=o.filter(s.store.canRead)),o=o.map((function(t,e){return null===t?null:(0,b.c)(t)?f(r.executeSubSelectedArray({field:n,array:t,enclosingRef:a,context:s}),e):n.selectionSet?f(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:t,enclosingRef:(0,c.A_)(t)?t:a,context:s}),e):(!1!==globalThis.__DEV__&&function(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach((function(r){(0,v.U)(r)&&((0,i.V1)(!(0,c.A_)(r),10,(0,m.Ui)(t,r),e.name.value),Object.values(r).forEach(n.add,n))}))}}(s.store,n,t),t)})),{result:s.canonizeResults?this.canon.admit(o):o,missing:e}},t}();function _(t){try{JSON.stringify(t,(function(t,e){if("string"===typeof e)throw e;return e}))}catch(e){return e}}},4103:function(t,e,r){"use strict";r.d(e,{N:function(){return w}});var n=r(80624),i=r(65871),o=r(58008),a=r(14200),s=r(38367),u=r(6713),c=r(41395),f=r(60861),l=r(87490),h=r(2011),p=r(65743),d=r(49920),y=r(77487),v=r(26053),g=r(18798);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e,r){var i="".concat(e).concat(r),o=t.flavors.get(i);return o||t.flavors.set(i,o=t.clientOnly===e&&t.deferred===r?t:(0,n.Cl)((0,n.Cl)({},t),{clientOnly:e,deferred:r})),o}var w=function(){function t(t,e,r){this.cache=t,this.reader=e,this.fragments=r}return t.prototype.writeToStore=function(t,e){var r=this,a=e.query,s=e.result,f=e.dataId,l=e.variables,h=e.overwrite,d=(0,u.Vu)(a),g=(0,y.mv)();l=(0,n.Cl)((0,n.Cl)({},(0,u.wY)(d)),l);var b=(0,n.Cl)((0,n.Cl)({store:t,written:Object.create(null),merge:function(t,e){return g.merge(t,e)},variables:l,varString:(0,v.M)(l)},(0,y.lq)(a,this.fragments)),{overwrite:!!h,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),w=this.processSelectionSet({result:s||Object.create(null),dataId:f,selectionSet:d.selectionSet,mergeTree:{map:new Map},context:b});if(!(0,c.A_)(w))throw(0,i.vA)(11,s);return b.incomingById.forEach((function(e,n){var a=e.storeObject,s=e.mergeTree,u=e.fieldNodeSet,f=(0,c.WU)(n);if(s&&s.map.size){var l=r.applyMerges(s,f,a,b);if((0,c.A_)(l))return;a=l}if(!1!==globalThis.__DEV__&&!b.overwrite){var h=Object.create(null);u.forEach((function(t){t.selectionSet&&(h[t.name.value]=!0)}));Object.keys(a).forEach((function(t){(function(t){return!0===h[(0,y.iJ)(t)]})(t)&&!function(t){var e=s&&s.map.get(t);return Boolean(e&&e.info&&e.info.merge)}(t)&&function(t,e,r,n){var a=function(t){var e=n.getFieldValue(t,r);return"object"===m(e)&&e},s=a(t);if(!s)return;var u=a(e);if(!u)return;if((0,c.A_)(s))return;if((0,o.L)(s,u))return;if(Object.keys(s).every((function(t){return void 0!==n.getFieldValue(u,t)})))return;var f=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),l=(0,y.iJ)(r),h="".concat(f,".").concat(l);if(k.has(h))return;k.add(h);var d=[];(0,p.c)(s)||(0,p.c)(u)||[s,u].forEach((function(t){var e=n.getFieldValue(t,"__typename");"string"!==typeof e||d.includes(e)||d.push(e)}));!1!==globalThis.__DEV__&&i.V1.warn(14,l,f,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",h,s,u)}(f,a,t,b.store)}))}t.merge(n,a)})),t.retain(w.__ref),w},t.prototype.processSelectionSet=function(t){var e=this,r=t.dataId,o=t.result,a=t.selectionSet,s=t.context,u=t.mergeTree,l=this.cache.policies,h=Object.create(null),p=r&&l.rootTypenamesById[r]||(0,c.D$)(o,a,s.fragmentMap)||r&&s.store.get(r,"__typename");"string"===typeof p&&(h.__typename=p);var d=function(){var t=(0,g.m)(arguments,h,s.variables);if((0,c.A_)(t.from)){var e=s.incomingById.get(t.from.__ref);if(e){var r=l.readField((0,n.Cl)((0,n.Cl)({},t),{from:e.storeObject}),s);if(void 0!==r)return r}}return l.readField(t,s)},v=new Set;this.flattenFields(a,o,s,p).forEach((function(t,r){var n,a=(0,c.ue)(r),s=o[a];if(v.add(r),void 0!==s){var g=l.getStoreFieldName({typename:p,fieldName:r.name.value,field:r,variables:t.variables}),m=S(u,g),w=e.processFieldValue(s,r,r.selectionSet?b(t,!1,!1):t,m),E=void 0;r.selectionSet&&((0,c.A_)(w)||(0,y.d1)(w))&&(E=d("__typename",w));var C=l.getMergeFunction(p,r.name.value,E);C?m.info={field:r,typename:p,merge:C}:T(u,g),h=t.merge(h,((n={})[g]=w,n))}else!1===globalThis.__DEV__||t.clientOnly||t.deferred||f.XY.added(r)||l.getReadFunction(p,r.name.value)||!1!==globalThis.__DEV__&&i.V1.error(12,(0,c.ue)(r),o)}));try{var m=l.identify(o,{typename:p,selectionSet:a,fragmentMap:s.fragmentMap,storeObject:h,readField:d}),w=m[0],E=m[1];r=r||w,E&&(h=s.merge(h,E))}catch(B){if(!r)throw B}if("string"===typeof r){var k=(0,c.WU)(r),A=s.written[r]||(s.written[r]=[]);if(A.indexOf(a)>=0)return k;if(A.push(a),this.reader&&this.reader.isFresh(o,k,a,s))return k;var I=s.incomingById.get(r);return I?(I.storeObject=s.merge(I.storeObject,h),I.mergeTree=C(I.mergeTree,u),v.forEach((function(t){return I.fieldNodeSet.add(t)}))):s.incomingById.set(r,{storeObject:h,mergeTree:_(u)?void 0:u,fieldNodeSet:v}),k}return h},t.prototype.processFieldValue=function(t,e,r,n){var i=this;return e.selectionSet&&null!==t?(0,p.c)(t)?t.map((function(t,o){var a=i.processFieldValue(t,e,r,S(n,o));return T(n,o),a})):this.processSelectionSet({result:t,selectionSet:e.selectionSet,context:r,mergeTree:n}):!1!==globalThis.__DEV__?(0,l.m)(t):t},t.prototype.flattenFields=function(t,e,r,n){void 0===n&&(n=(0,c.D$)(e,t,r.fragmentMap));var o=new Map,u=this.cache.policies,f=new a.b(!1);return function t(a,l){var y=f.lookup(a,l.clientOnly,l.deferred);y.visited||(y.visited=!0,a.selections.forEach((function(a){if((0,h.MS)(a,r.variables)){var f=l.clientOnly,y=l.deferred;if(f&&y||!(0,p.E)(a.directives)||a.directives.forEach((function(t){var e=t.name.value;if("client"===e&&(f=!0),"defer"===e){var n=(0,c.MB)(t,r.variables);n&&!1===n.if||(y=!0)}})),(0,c.dt)(a)){var v=o.get(a);v&&(f=f&&v.clientOnly,y=y&&v.deferred),o.set(a,b(r,f,y))}else{var g=(0,d.HQ)(a,r.lookupFragment);if(!g&&a.kind===s.b.FRAGMENT_SPREAD)throw(0,i.vA)(13,a.name.value);g&&u.fragmentMatches(g,n,e,r.variables)&&t(g.selectionSet,b(r,f,y))}}})))}(t,r),o},t.prototype.applyMerges=function(t,e,r,o,a){var s,u=this;if(t.map.size&&!(0,c.A_)(r)){var f,l=(0,p.c)(r)||!(0,c.A_)(e)&&!(0,y.d1)(e)?void 0:e,h=r;l&&!a&&(a=[(0,c.A_)(l)?l.__ref:l]);var d=function(t,e){return(0,p.c)(t)?"number"===typeof e?t[e]:void 0:o.store.getFieldValue(t,String(e))};t.map.forEach((function(t,e){var r=d(l,e),n=d(h,e);if(void 0!==n){a&&a.push(e);var s=u.applyMerges(t,r,n,o,a);s!==n&&(f=f||new Map).set(e,s),a&&(0,i.V1)(a.pop()===e)}})),f&&(r=(0,p.c)(h)?h.slice(0):(0,n.Cl)({},h),f.forEach((function(t,e){r[e]=t})))}return t.info?this.cache.policies.runMergeFunction(e,r,t.info,o,a&&(s=o.store).getStorage.apply(s,a)):r},t}(),E=[];function S(t,e){var r=t.map;return r.has(e)||r.set(e,E.pop()||{map:new Map}),r.get(e)}function C(t,e){if(t===e||!e||_(e))return t;if(!t||_(t))return e;var r=t.info&&e.info?(0,n.Cl)((0,n.Cl)({},t.info),e.info):t.info||e.info,i=t.map.size&&e.map.size,o={info:r,map:i?new Map:t.map.size?t.map:e.map};if(i){var a=new Set(e.map.keys());t.map.forEach((function(t,r){o.map.set(r,C(t,e.map.get(r))),a.delete(r)})),a.forEach((function(r){o.map.set(r,C(e.map.get(r),t.map.get(r)))}))}return o}function _(t){return!t||!(t.info||t.map.size)}function T(t,e){var r=t.map,n=r.get(e);n&&_(n)&&(E.push(n),r.delete(e))}var k=new Set},56132:function(t,e,r){"use strict";r.d(e,{R:function(){return d}});var n=r(80624),i=r(65871),o=r(97322),a=r(54622),s=r(88620),u=r(22232),c=r(56879),f=r(70996),l=r(41179);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var p=!1,d=function(){function t(t){var e=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!t.cache)throw(0,i.vA)(15);var r=t.uri,n=t.credentials,a=t.headers,l=t.cache,p=t.documentTransform,d=t.ssrMode,y=void 0!==d&&d,v=t.ssrForceFetchDelay,g=void 0===v?0:v,m=t.connectToDevTools,b=void 0===m?"object"===("undefined"===typeof window?"undefined":h(window))&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:m,w=t.queryDeduplication,E=void 0===w||w,S=t.defaultOptions,C=t.assumeImmutableResults,_=void 0===C?l.assumeImmutableResults:C,T=t.resolvers,k=t.typeDefs,A=t.fragmentMatcher,I=t.name,B=t.version,x=t.link;x||(x=r?new u.P({uri:r,credentials:n,headers:a}):o.C.empty()),this.link=x,this.cache=l,this.disableNetworkFetches=y||g>0,this.queryDeduplication=E,this.defaultOptions=S||Object.create(null),this.typeDefs=k,g&&setTimeout((function(){return e.disableNetworkFetches=!1}),g),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=s.r,this.localState=new f.X({cache:l,client:this,resolvers:T,fragmentMatcher:A}),this.queryManager=new c.E({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:p,queryDeduplication:E,ssrMode:y,clientAwareness:{name:I,version:B},localState:this.localState,assumeImmutableResults:_,onBroadcast:b?function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.getQueryStore(),mutations:e.queryManager.mutationStore||{}},dataWithOptimisticResults:e.cache.extract(!0)})}:void 0}),b&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if("object"===("undefined"===typeof window?"undefined":h(window))){var t=window,e=Symbol.for("apollo.devtools");(t[e]=t[e]||[]).push(this),t.__APOLLO_CLIENT__=this}p||!1===globalThis.__DEV__||(p=!0,setTimeout((function(){if("undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var t=window.navigator,e=t&&t.userAgent,r=void 0;"string"===typeof e&&(e.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":e.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&i.V1.log("Download the Apollo DevTools for a better development experience: %s",r)}}),1e4))},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=(0,l.l)(this.defaultOptions.watchQuery,t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=(0,n.Cl)((0,n.Cl)({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=(0,l.l)(this.defaultOptions.query,t)),(0,i.V1)("cache-and-network"!==t.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=(0,n.Cl)((0,n.Cl)({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=(0,l.l)(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return!1!==t.broadcast&&this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return!1!==t.broadcast&&this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return(0,a.g)(this.link,t)},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.refetchQueries=function(t){var e=this.queryManager.refetchQueries(t),r=[],n=[];e.forEach((function(t,e){r.push(e),n.push(t)}));var o=Promise.all(n);return o.queries=r,o.results=n,o.catch((function(t){!1!==globalThis.__DEV__&&i.V1.debug(17,t)})),o},t.prototype.getObservableQueries=function(t){return void 0===t&&(t="active"),this.queryManager.getObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t.prototype.setLink=function(t){this.link=this.queryManager.link=t},t}()},70996:function(t,e,r){"use strict";r.d(e,{X:function(){return d}});var n=r(80624),i=r(65871),o=r(27552),a=r(10580),s=r(52199),u=r(2011),c=r(60861),f=r(6713),l=r(49920),h=r(41395),p=r(46257),d=function(){function t(t){var e=t.cache,r=t.client,n=t.resolvers,i=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=e,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=(0,s.D9)(e.resolvers,t)})):this.resolvers=(0,s.D9)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,r=t.remoteResult,i=t.context,o=t.variables,a=t.onlyRunForcedResolvers,s=void 0!==a&&a;return(0,n.sH)(this,void 0,void 0,(function(){return(0,n.YH)(this,(function(t){return e?[2,this.resolveDocument(e,r.data,i,o,this.fragmentMatcher,s).then((function(t){return(0,n.Cl)((0,n.Cl)({},r),{data:t.result})}))]:[2,r]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return(0,u.d8)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return(0,c.er)(t)},t.prototype.prepareContext=function(t){var e=this.cache;return(0,n.Cl)((0,n.Cl)({},t),{cache:e,getCacheKey:function(t){return e.identify(t)}})},t.prototype.addExportedVariables=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),(0,n.sH)(this,void 0,void 0,(function(){return(0,n.YH)(this,(function(i){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(r),e).then((function(t){return(0,n.Cl)((0,n.Cl)({},e),t.exportedVariables)}))]:[2,(0,n.Cl)({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return(0,o.YR)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return o.sP}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:(0,c.zc)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,r,i,o,a){return void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===a&&(a=!1),(0,n.sH)(this,void 0,void 0,(function(){var s,u,c,h,p,d,y,v,g,m;return(0,n.YH)(this,(function(b){return s=(0,f.Vn)(t),u=(0,f.zK)(t),c=(0,l.JG)(u),h=this.collectSelectionsToResolve(s,c),p=s.operation,d=p?p.charAt(0).toUpperCase()+p.slice(1):"Query",v=(y=this).cache,g=y.client,m={fragmentMap:c,context:(0,n.Cl)((0,n.Cl)({},r),{cache:v,client:g}),variables:i,fragmentMatcher:o,defaultOperationType:d,exportedVariables:{},selectionsToResolve:h,onlyRunForcedResolvers:a},!1,[2,this.resolveSelectionSet(s.selectionSet,false,e,m).then((function(t){return{result:t,exportedVariables:m.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,r,o){return(0,n.sH)(this,void 0,void 0,(function(){var a,c,f,l,p,d=this;return(0,n.YH)(this,(function(y){return a=o.fragmentMap,c=o.context,f=o.variables,l=[r],p=function(t){return(0,n.sH)(d,void 0,void 0,(function(){var s,p;return(0,n.YH)(this,(function(n){return(e||o.selectionsToResolve.has(t))&&(0,u.MS)(t,f)?(0,h.dt)(t)?[2,this.resolveField(t,e,r,o).then((function(e){var r;"undefined"!==typeof e&&l.push(((r={})[(0,h.ue)(t)]=e,r))}))]:((0,h.kd)(t)?s=t:(s=a[t.name.value],(0,i.V1)(s,18,t.name.value)),s&&s.typeCondition&&(p=s.typeCondition.name.value,o.fragmentMatcher(r,p,c))?[2,this.resolveSelectionSet(s.selectionSet,e,r,o).then((function(t){l.push(t)}))]:[2]):[2]}))}))},[2,Promise.all(t.selections.map(p)).then((function(){return(0,s.IM)(l)}))]}))}))},t.prototype.resolveField=function(t,e,r,i){return(0,n.sH)(this,void 0,void 0,(function(){var o,a,s,u,c,f,l,d,y,v=this;return(0,n.YH)(this,(function(n){return r?(o=i.variables,a=t.name.value,s=(0,h.ue)(t),u=a!==s,c=r[s]||r[a],f=Promise.resolve(c),i.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(l=r.__typename||i.defaultOperationType,(d=this.resolvers&&this.resolvers[l])&&(y=d[u?a:s])&&(f=Promise.resolve(p.bl.withValue(this.cache,y,[r,(0,h.MB)(t,o),i.context,{field:t,fragmentMap:i.fragmentMap}])))),[2,f.then((function(r){var n,o;if(void 0===r&&(r=c),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(i.exportedVariables[t.value.value]=r)}))})),!t.selectionSet)return r;if(null==r)return r;var a=null!==(o=null===(n=t.directives)||void 0===n?void 0:n.some((function(t){return"client"===t.name.value})))&&void 0!==o&&o;return Array.isArray(r)?v.resolveSubSelectedArray(t,e||a,r,i):t.selectionSet?v.resolveSelectionSet(t.selectionSet,e||a,r,i):void 0}))]):[2,null]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,r,n){var i=this;return Promise.all(r.map((function(r){return null===r?null:Array.isArray(r)?i.resolveSubSelectedArray(t,e,r,n):t.selectionSet?i.resolveSelectionSet(t.selectionSet,e,r,n):void 0})))},t.prototype.collectSelectionsToResolve=function(t,e){var r=function(t){return!Array.isArray(t)},n=this.selectionsToResolveCache;return function t(s){if(!n.has(s)){var u=new Set;n.set(s,u),(0,o.YR)(s,{Directive:function(t,e,n,i,o){"client"===t.name.value&&o.forEach((function(t){r(t)&&(0,a.VK)(t)&&u.add(t)}))},FragmentSpread:function(n,o,s,c,f){var l=e[n.name.value];(0,i.V1)(l,19,n.name.value);var h=t(l);h.size>0&&(f.forEach((function(t){r(t)&&(0,a.VK)(t)&&u.add(t)})),u.add(n),h.forEach((function(t){u.add(t)})))}})}return n.get(s)}(t)},t}()},70205:function(t,e,r){"use strict";r.d(e,{U5:function(){return v},e8:function(){return g},yd:function(){return b}});var n=r(80624),i=r(65871),o=r(58008),a=r(49526),s=r(6713),u=r(43556),c=r(87490),f=r(24677),l=r(89806),h=r(50060),p=r(93787),d=Object.assign,y=Object.hasOwnProperty,v=function(t){function e(e){var r=e.queryManager,i=e.queryInfo,o=e.options,a=t.call(this,(function(t){try{var r=t._subscription._observer;r&&!r.error&&(r.error=m)}catch(e){}var n=!a.observers.size;a.observers.add(t);var i=a.last;return i&&i.error?t.error&&t.error(i.error):i&&i.result&&t.next&&t.next(i.result),n&&a.reobserve().catch((function(){})),function(){a.observers.delete(t)&&!a.observers.size&&a.tearDownQuery()}}))||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=i,a.queryManager=r,a.waitForOwnResult=w(o.fetchPolicy),a.isTornDown=!1;var u=r.defaultOptions.watchQuery,c=(void 0===u?{}:u).fetchPolicy,f=void 0===c?"cache-first":c,l=o.fetchPolicy,h=void 0===l?f:l,p=o.initialFetchPolicy,d=void 0===p?"standby"===h?f:h:p;a.options=(0,n.Cl)((0,n.Cl)({},o),{initialFetchPolicy:d,fetchPolicy:h}),a.queryId=i.queryId||r.generateQueryId();var y=(0,s.Vu)(a.query);return a.queryName=y&&y.name&&y.name.value,a}return(0,n.C6)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise((function(e,r){var n={next:function(r){e(r),t.observers.delete(n),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:r},i=t.subscribe(n)}))},e.prototype.getCurrentResult=function(t){void 0===t&&(t=!0);var e=this.getLastResult(!0),r=this.queryInfo.networkStatus||e&&e.networkStatus||a.pT.ready,i=(0,n.Cl)((0,n.Cl)({},e),{loading:(0,a.bi)(r),networkStatus:r}),s=this.options.fetchPolicy,u=void 0===s?"cache-first":s;if(w(u)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(i.data=c.result),(0,o.L)(i.data,{})&&(i.data=void 0),c.complete?(delete i.partial,!c.complete||i.networkStatus!==a.pT.loading||"cache-first"!==u&&"cache-only"!==u||(i.networkStatus=a.pT.ready,i.loading=!1)):i.partial=!0,!1===globalThis.__DEV__||c.complete||this.options.partialRefetch||i.loading||i.data||i.error||b(c.missing)}return t&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(t,e){return!this.last||((this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!(0,p.a)(this.query,this.last.result,t,this.variables):!(0,o.L)(this.last.result,t))||e&&!(0,o.L)(this.last.variables,e))},e.prototype.getLast=function(t,e){var r=this.last;if(r&&r[t]&&(!e||(0,o.L)(r.variables,this.variables)))return r[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var e,r={pollInterval:0},u=this.options.fetchPolicy;if(r.fetchPolicy="cache-and-network"===u?u:"no-cache"===u?"no-cache":"network-only",!1!==globalThis.__DEV__&&t&&y.call(t,"variables")){var c=(0,s.AT)(this.query),f=c.variableDefinitions;f&&f.some((function(t){return"variables"===t.variable.name.value}))||!1!==globalThis.__DEV__&&i.V1.warn(20,t,(null===(e=c.name)||void 0===e?void 0:e.value)||c)}return t&&!(0,o.L)(this.options.variables,t)&&(r.variables=this.options.variables=(0,n.Cl)((0,n.Cl)({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(r,a.pT.refetch)},e.prototype.fetchMore=function(t){var e=this,r=(0,n.Cl)((0,n.Cl)({},t.query?t:(0,n.Cl)((0,n.Cl)((0,n.Cl)((0,n.Cl)({},this.options),{query:this.options.query}),t),{variables:(0,n.Cl)((0,n.Cl)({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var i=this.queryManager.generateQueryId();this.lastQuery=t.query?this.transformDocument(this.options.query):r.query;var o=this.queryInfo,s=o.networkStatus;o.networkStatus=a.pT.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(i,r,a.pT.fetchMore).then((function(n){return e.queryManager.removeQuery(i),o.networkStatus===a.pT.fetchMore&&(o.networkStatus=s),e.queryManager.cache.batch({update:function(i){var o=t.updateQuery;o?i.updateQuery({query:e.query,variables:e.variables,returnPartialData:!0,optimistic:!1},(function(t){return o(t,{fetchMoreResult:n.data,variables:r.variables})})):i.writeQuery({query:r.query,variables:r.variables,data:n.data})},onWatchUpdated:function(t){u.add(t.query)}}),n})).finally((function(){u.has(e.query)||g(e)}))},e.prototype.subscribeToMore=function(t){var e=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(r){var n=t.updateQuery;n&&e.updateQuery((function(t,e){var i=e.variables;return n(t,{subscriptionData:r,variables:i})}))},error:function(e){t.onError?t.onError(e):!1!==globalThis.__DEV__&&i.V1.error(21,e)}});return this.subscriptions.add(r),function(){e.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.silentSetOptions=function(t){var e=(0,u.o)(this.options,t||{});d(this.options,e)},e.prototype.setVariables=function(t){return(0,o.L)(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},a.pT.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,r=t(e.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(e.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),e.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,e){if(e.nextFetchPolicy){var r=e.fetchPolicy,n=void 0===r?"cache-first":r,i=e.initialFetchPolicy,o=void 0===i?n:i;"standby"===n||("function"===typeof e.nextFetchPolicy?e.fetchPolicy=e.nextFetchPolicy(n,{reason:t,options:e,observable:this,initialFetchPolicy:o}):e.fetchPolicy="variables-changed"===t?o:e.nextFetchPolicy)}return e.fetchPolicy},e.prototype.fetch=function(t,e,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,t,e,r)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var e=this.pollingInfo,r=this.options.pollInterval;if(r){if(!e||e.interval!==r){(0,i.V1)(r,22),(e||(this.pollingInfo={})).interval=r;var n=function(){t.pollingInfo&&((0,a.bi)(t.queryInfo.networkStatus)?o():t.reobserve({fetchPolicy:"no-cache"===t.options.initialFetchPolicy?"no-cache":"network-only"},a.pT.poll).then(o,o))},o=function(){var e=t.pollingInfo;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(n,e.interval))};o()}}else e&&(clearTimeout(e.timeout),delete this.pollingInfo)}},e.prototype.updateLastResult=function(t,e){void 0===e&&(e=this.variables);var r=this.getLastError();return r&&this.last&&!(0,o.L)(e,this.last.variables)&&(r=void 0),this.last=(0,n.Cl)({result:this.queryManager.assumeImmutableResults?t:(0,c.m)(t),variables:e},r?{error:r}:null)},e.prototype.reobserveAsConcast=function(t,e){var r=this;this.isTornDown=!1;var i=e===a.pT.refetch||e===a.pT.fetchMore||e===a.pT.poll,s=this.options.variables,c=this.options.fetchPolicy,f=(0,u.o)(this.options,t||{}),l=i?f:d(this.options,f),h=this.transformDocument(l.query);this.lastQuery=h,i||(this.updatePolling(),t&&t.variables&&!(0,o.L)(t.variables,s)&&"standby"!==l.fetchPolicy&&l.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",l),void 0===e&&(e=a.pT.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=w(l.fetchPolicy));var p=function(){r.concast===g&&(r.waitForOwnResult=!1)},y=l.variables&&(0,n.Cl)({},l.variables),v=this.fetch(l,e,h),g=v.concast,m=v.fromLink,b={next:function(t){p(),r.reportResult(t,y)},error:function(t){p(),r.reportError(t,y)}};return i||!m&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=g,this.observer=b),g.addObserver(b),g},e.prototype.reobserve=function(t,e){return this.reobserveAsConcast(t,e).promise},e.prototype.resubscribeAfterError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.last;this.resetLastResults();var n=this.subscribe.apply(this,t);return this.last=r,n},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,e){var r=this.getLastError(),n=this.isDifferentFromLastResult(t,e);(r||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,e),(r||n)&&(0,f.w)(this.observers,"next",t)},e.prototype.reportError=function(t,e){var r=(0,n.Cl)((0,n.Cl)({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:a.pT.error,loading:!1});this.updateLastResult(r,e),(0,f.w)(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(t){return this.queryManager.transform(t)},e}(l.c);function g(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(t,e){return this.nextFetchPolicy=n,"function"===typeof this.nextFetchPolicy?this.nextFetchPolicy(t,e):r}}):t.reobserve()}function m(t){!1!==globalThis.__DEV__&&i.V1.error(23,t.message,t.stack)}function b(t){!1!==globalThis.__DEV__&&t&&!1!==globalThis.__DEV__&&i.V1.debug(24,t)}function w(t){return"network-only"===t||"no-cache"===t||"standby"===t}(0,h.r)(v)},25890:function(t,e,r){"use strict";r.d(e,{L:function(){return y},u:function(){return v}});var n=r(80624),i=r(58008),o=r(52199),a=r(81948),s=r(70205),u=r(71432),c=r(65743),f=r(16302),l=r(49526),h=new(u.et?WeakMap:Map);function p(t,e){var r=t[e];"function"===typeof r&&(t[e]=function(){return h.set(t,(h.get(t)+1)%1e15),r.apply(this,arguments)})}function d(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var y=function(){function t(t,e){void 0===e&&(e=t.generateQueryId()),this.queryId=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=t.cache;h.has(r)||(h.set(r,0),p(r,"evict"),p(r,"modify"),p(r,"reset"))}return t.prototype.init=function(t){var e=t.networkStatus||l.pT.loading;return this.variables&&this.networkStatus!==l.pT.loading&&!(0,i.L)(this.variables,t.variables)&&(e=l.pT.setVariables),(0,i.L)(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:e}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},t.prototype.reset=function(){d(this),this.dirty=!1},t.prototype.getDiff=function(){var t=this.getDiffOptions();if(this.lastDiff&&(0,i.L)(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var e=this.observableQuery;if(e&&"no-cache"===e.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},t.prototype.updateLastDiff=function(t,e){this.lastDiff=t?{diff:t,options:e||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(t){var e;return void 0===t&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:null===(e=this.observableQuery)||void 0===e?void 0:e.options.canonizeResults}},t.prototype.setDiff=function(t){var e=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(t),this.dirty||(0,i.L)(r&&r.result,t&&t.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0)))},t.prototype.setObservableQuery=function(t){var e=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){e.getDiff().fromOptimisticTransaction?t.observe():(0,s.e8)(t)})):delete this.oqListener)},t.prototype.notify=function(){var t=this;d(this),this.shouldNotify()&&this.listeners.forEach((function(e){return e(t)})),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,l.bi)(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if("cache-only"!==t&&"cache-and-network"!==t)return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(t){var e=this;void 0===t&&(t=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var o=(0,n.Cl)((0,n.Cl)({},this.getDiffOptions(t)),{watcher:this,callback:function(t){return e.setDiff(t)}});this.lastWatch&&(0,i.L)(o,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=o))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(t,e){var r=this.lastWrite;return!(r&&r.dmCount===h.get(this.cache)&&(0,i.L)(e,r.variables)&&(0,i.L)(t.data,r.result.data))},t.prototype.markResult=function(t,e,r,n){var s=this,u=new o.ZI,f=(0,c.E)(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&(0,c.E)(t.incremental)){var l=(0,a.bd)(this.getDiff().result,t);t.data=l}else if("hasNext"in t&&t.hasNext){var p=this.getDiff();t.data=u.merge(p.result,t.data)}this.graphQLErrors=f,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(v(t,r.errorPolicy)?this.cache.performTransaction((function(o){if(s.shouldWrite(t,r.variables))o.writeQuery({query:e,data:t.data,variables:r.variables,overwrite:1===n}),s.lastWrite={result:t,variables:r.variables,dmCount:h.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete)return void(t.data=s.lastDiff.diff.result);var a=s.getDiffOptions(r.variables),u=o.diff(a);!s.stopped&&(0,i.L)(s.variables,r.variables)&&s.updateWatch(r.variables),s.updateLastDiff(u,a),u.complete&&(t.data=u.result)})):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=l.pT.ready},t.prototype.markError=function(t){return this.networkStatus=l.pT.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},t}();function v(t,e){void 0===e&&(e="none");var r="ignore"===e||"all"===e,n=!(0,f.t)(t);return!n&&r&&t.data&&(n=!0),n}},56879:function(t,e,r){"use strict";r.d(e,{E:function(){return B}});var n=r(80624),i=r(65871),o=r(58008),a=r(54622),s=r(81948),u=r(2011),c=r(60861),f=r(26053),l=r(71432),h=r(98578),p=r(34186),d=r(16302),y=r(65743),v=r(6713),g=r(41395),m=r(35385),b=r(43229),w=r(89806),E=r(55501),S=r(51946),C=r(70205),_=r(49526),T=r(70996),k=r(25890),A=r(60894),I=Object.prototype.hasOwnProperty,B=function(){function t(t){var e=t.cache,r=t.link,n=t.defaultOptions,i=t.documentTransform,o=t.queryDeduplication,a=void 0!==o&&o,s=t.onBroadcast,u=t.ssrMode,c=void 0!==u&&u,f=t.clientAwareness,p=void 0===f?{}:f,d=t.localState,y=t.assumeImmutableResults,v=void 0===y?!!e.assumeImmutableResults:y,g=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(l.et?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var m=new h.c((function(t){return g.cache.transformDocument(t)}),{cache:!1});this.cache=e,this.link=r,this.defaultOptions=n||Object.create(null),this.queryDeduplication=a,this.clientAwareness=p,this.localState=d||new T.X({cache:e}),this.ssrMode=c,this.assumeImmutableResults=v,this.documentTransform=i?m.concat(i).concat(m):m,(this.onBroadcast=s)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,r){t.stopQueryNoBroadcast(r)})),this.cancelPendingFetches((0,i.vA)(25))},t.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach((function(e){return e(t)})),this.fetchCancelFns.clear()},t.prototype.mutate=function(t){var e,r,o=t.mutation,a=t.variables,s=t.optimisticResponse,u=t.updateQueries,c=t.refetchQueries,f=void 0===c?[]:c,l=t.awaitRefetchQueries,h=void 0!==l&&l,y=t.update,v=t.onQueryUpdated,g=t.fetchPolicy,m=void 0===g?(null===(e=this.defaultOptions.mutate)||void 0===e?void 0:e.fetchPolicy)||"network-only":g,b=t.errorPolicy,w=void 0===b?(null===(r=this.defaultOptions.mutate)||void 0===r?void 0:r.errorPolicy)||"none":b,E=t.keepRootFields,C=t.context;return(0,n.sH)(this,void 0,void 0,(function(){var t,e,r,c;return(0,n.YH)(this,(function(l){switch(l.label){case 0:return(0,i.V1)(o,26),(0,i.V1)("network-only"===m||"no-cache"===m,27),t=this.generateMutationId(),o=this.cache.transformForLink(this.transform(o)),e=this.getDocumentInfo(o).hasClientExports,a=this.getVariables(o,a),e?[4,this.localState.addExportedVariables(o,a,C)]:[3,2];case 1:a=l.sent(),l.label=2;case 2:return r=this.mutationStore&&(this.mutationStore[t]={mutation:o,variables:a,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:t,document:o,variables:a,fetchPolicy:m,errorPolicy:w,context:C,updateQueries:u,update:y,keepRootFields:E}),this.broadcastQueries(),c=this,[2,new Promise((function(e,i){return(0,p.x)(c.getObservableFromLink(o,(0,n.Cl)((0,n.Cl)({},C),{optimisticResponse:s}),a,!1),(function(e){if((0,d.t)(e)&&"none"===w)throw new S.K4({graphQLErrors:(0,d.M)(e)});r&&(r.loading=!1,r.error=null);var i=(0,n.Cl)({},e);return"function"===typeof f&&(f=f(i)),"ignore"===w&&(0,d.t)(i)&&delete i.errors,c.markMutationResult({mutationId:t,result:i,document:o,variables:a,fetchPolicy:m,errorPolicy:w,context:C,update:y,updateQueries:u,awaitRefetchQueries:h,refetchQueries:f,removeOptimistic:s?t:void 0,onQueryUpdated:v,keepRootFields:E})})).subscribe({next:function(t){c.broadcastQueries(),"hasNext"in t&&!1!==t.hasNext||e(t)},error:function(e){r&&(r.loading=!1,r.error=e),s&&c.cache.removeOptimistic(t),c.broadcastQueries(),i(e instanceof S.K4?e:new S.K4({networkError:e}))}})}))]}}))}))},t.prototype.markMutationResult=function(t,e){var r=this;void 0===e&&(e=this.cache);var i=t.result,o=[],a="no-cache"===t.fetchPolicy;if(!a&&(0,k.u)(i,t.errorPolicy)){if((0,s.ST)(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),(0,s.ST)(i)&&(0,y.E)(i.incremental)){var u=e.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),c=void 0;u.result&&(c=(0,s.bd)(u.result,i)),"undefined"!==typeof c&&(i.data=c,o.push({result:c,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var f=t.updateQueries;f&&this.queries.forEach((function(t,n){var a=t.observableQuery,s=a&&a.queryName;if(s&&I.call(f,s)){var u=f[s],c=r.queries.get(n),l=c.document,h=c.variables,p=e.diff({query:l,variables:h,returnPartialData:!0,optimistic:!1}),d=p.result;if(p.complete&&d){var y=u(d,{mutationResult:i,queryName:l&&(0,v.n4)(l)||void 0,queryVariables:h});y&&o.push({result:y,dataId:"ROOT_QUERY",query:l,variables:h})}}}))}if(o.length>0||t.refetchQueries||t.update||t.onQueryUpdated||t.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(e){a||o.forEach((function(t){return e.write(t)}));var u=t.update,c=!(0,s.YX)(i)||(0,s.ST)(i)&&!i.hasNext;if(u){if(!a){var f=e.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});f.complete&&("incremental"in(i=(0,n.Cl)((0,n.Cl)({},i),{data:f.result}))&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}c&&u(e,i,{context:t.context,variables:t.variables})}a||t.keepRootFields||!c||e.modify({id:"ROOT_MUTATION",fields:function(t,e){var r=e.fieldName,n=e.DELETE;return"__typename"===r?t:n}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach((function(t){return l.push(t)})),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(l).then((function(){return i}))}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(t,e){var r=this,o="function"===typeof t?t(e.variables):t;return this.cache.recordOptimisticTransaction((function(t){try{r.markMutationResult((0,n.Cl)((0,n.Cl)({},e),{result:{data:o}}),t)}catch(a){!1!==globalThis.__DEV__&&i.V1.error(a)}}),e.mutationId)},t.prototype.fetchQuery=function(t,e,r){return this.fetchConcastWithInfo(t,e,r).concast.promise},t.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach((function(e,r){t[r]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}})),t},t.prototype.resetErrors=function(t){var e=this.queries.get(t);e&&(e.networkError=void 0,e.graphQLErrors=[])},t.prototype.transform=function(t){return this.documentTransform.transformDocument(t)},t.prototype.getDocumentInfo=function(t){var e=this.transformCache;if(!e.has(t)){var r={hasClientExports:(0,u.f2)(t),hasForcedResolvers:this.localState.shouldForceResolvers(t),hasNonreactiveDirective:(0,u.d8)(["nonreactive"],t),clientQuery:this.localState.clientQuery(t),serverQuery:(0,c.iz)([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],t),defaultVars:(0,v.wY)((0,v.Vu)(t)),asQuery:(0,n.Cl)((0,n.Cl)({},t),{definitions:t.definitions.map((function(t){return"OperationDefinition"===t.kind&&"query"!==t.operation?(0,n.Cl)((0,n.Cl)({},t),{operation:"query"}):t}))})};e.set(t,r)}return e.get(t)},t.prototype.getVariables=function(t,e){return(0,n.Cl)((0,n.Cl)({},this.getDocumentInfo(t).defaultVars),e)},t.prototype.watchQuery=function(t){var e=this.transform(t.query);"undefined"===typeof(t=(0,n.Cl)((0,n.Cl)({},t),{variables:this.getVariables(e,t.variables)})).notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var r=new k.L(this),i=new C.U5({queryManager:this,queryInfo:r,options:t});return i.lastQuery=e,this.queries.set(i.queryId,r),r.init({document:e,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(t,e){var r=this;return void 0===e&&(e=this.generateQueryId()),(0,i.V1)(t.query,28),(0,i.V1)("Document"===t.query.kind,29),(0,i.V1)(!t.returnPartialData,30),(0,i.V1)(!t.pollInterval,31),this.fetchQuery(e,(0,n.Cl)((0,n.Cl)({},t),{query:this.transform(t.query)})).finally((function(){return r.stopQuery(e)}))},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){var e=this.queries.get(t);e&&e.stop()},t.prototype.clearStore=function(t){return void 0===t&&(t={discardWatches:!0}),this.cancelPendingFetches((0,i.vA)(32)),this.queries.forEach((function(t){t.observableQuery?t.networkStatus=_.pT.loading:t.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},t.prototype.getObservableQueries=function(t){var e=this;void 0===t&&(t="active");var r=new Map,o=new Map,a=new Set;return Array.isArray(t)&&t.forEach((function(t){"string"===typeof t?o.set(t,!1):(0,g.Kc)(t)?o.set(e.transform(t),!1):(0,m.U)(t)&&t.query&&a.add(t)})),this.queries.forEach((function(e,n){var i=e.observableQuery,a=e.document;if(i){if("all"===t)return void r.set(n,i);var s=i.queryName;if("standby"===i.options.fetchPolicy||"active"===t&&!i.hasObservers())return;("active"===t||s&&o.has(s)||a&&o.has(a))&&(r.set(n,i),s&&o.set(s,!0),a&&o.set(a,!0))}})),a.size&&a.forEach((function(t){var o=(0,b.v)("legacyOneTimeQuery"),a=e.getQuery(o).init({document:t.query,variables:t.variables}),s=new C.U5({queryManager:e,queryInfo:a,options:(0,n.Cl)((0,n.Cl)({},t),{fetchPolicy:"network-only"})});(0,i.V1)(s.queryId===o),a.setObservableQuery(s),r.set(o,s)})),!1!==globalThis.__DEV__&&o.size&&o.forEach((function(t,e){t||!1!==globalThis.__DEV__&&i.V1.warn("string"===typeof e?33:34,e)})),r},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var r=[];return this.getObservableQueries(t?"all":"active").forEach((function(n,i){var o=n.options.fetchPolicy;n.resetLastResults(),(t||"standby"!==o&&"cache-only"!==o)&&r.push(n.refetch()),e.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},t.prototype.startGraphQLSubscription=function(t){var e=this,r=t.query,n=t.fetchPolicy,i=t.errorPolicy,o=void 0===i?"none":i,a=t.variables,s=t.context,u=void 0===s?{}:s;r=this.transform(r),a=this.getVariables(r,a);var c=function(t){return e.getObservableFromLink(r,u,t).map((function(i){"no-cache"!==n&&((0,k.u)(i,o)&&e.cache.write({query:r,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:t}),e.broadcastQueries());var a=(0,d.t)(i),s=(0,S.uR)(i);if(a||s){var u={};if(a&&(u.graphQLErrors=i.errors),s&&(u.protocolErrors=i.extensions[S.K$]),"none"===o||s)throw new S.K4(u)}return"ignore"===o&&delete i.errors,i}))};if(this.getDocumentInfo(r).hasClientExports){var f=this.localState.addExportedVariables(r,a,u).then(c);return new w.c((function(t){var e=null;return f.then((function(r){return e=r.subscribe(t)}),t.error),function(){return e&&e.unsubscribe()}}))}return c(a)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(t){return t.notify()}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,r,i){var o,s,u=this;void 0===i&&(i=null!==(o=null===e||void 0===e?void 0:e.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var c=this.getDocumentInfo(t),l=c.serverQuery,h=c.clientQuery;if(l){var d=this.inFlightLinkObservables,y=this.link,g={query:l,variables:r,operationName:(0,v.n4)(l)||void 0,context:this.prepareContext((0,n.Cl)((0,n.Cl)({},e),{forceFetch:!i}))};if(e=g.context,i){var m=(0,A.y)(l),b=d.get(m)||new Map;d.set(m,b);var S=(0,f.M)(r);if(!(s=b.get(S))){var C=new E.E([(0,a.g)(y,g)]);b.set(S,s=C),C.beforeNext((function(){b.delete(S)&&b.size<1&&d.delete(m)}))}}else s=new E.E([(0,a.g)(y,g)])}else s=new E.E([w.c.of({data:{}})]),e=this.prepareContext(e);return h&&(s=(0,p.x)(s,(function(t){return u.localState.runResolvers({document:h,remoteResult:t,context:e,variables:r})}))),s},t.prototype.getResultsFromLink=function(t,e,r){var n=t.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(r.query);return(0,p.x)(this.getObservableFromLink(i,r.context,r.variables),(function(o){var a=(0,d.M)(o),s=a.length>0;if(n>=t.lastRequestId){if(s&&"none"===r.errorPolicy)throw t.markError(new S.K4({graphQLErrors:a}));t.markResult(o,i,r,e),t.markReady()}var u={data:o.data,loading:!1,networkStatus:_.pT.ready};return s&&"ignore"!==r.errorPolicy&&(u.errors=a,u.networkStatus=_.pT.error),u}),(function(e){var r=(0,S.Mn)(e)?e:new S.K4({networkError:e});throw n>=t.lastRequestId&&t.markError(r),r}))},t.prototype.fetchConcastWithInfo=function(t,e,r,n){var i=this;void 0===r&&(r=_.pT.loading),void 0===n&&(n=e.query);var o,a,s=this.getVariables(n,e.variables),u=this.getQuery(t),c=this.defaultOptions.watchQuery,f=e.fetchPolicy,l=void 0===f?c&&c.fetchPolicy||"cache-first":f,h=e.errorPolicy,p=void 0===h?c&&c.errorPolicy||"none":h,d=e.returnPartialData,y=void 0!==d&&d,v=e.notifyOnNetworkStatusChange,g=void 0!==v&&v,m=e.context,b=void 0===m?{}:m,w=Object.assign({},e,{query:n,variables:s,fetchPolicy:l,errorPolicy:p,returnPartialData:y,notifyOnNetworkStatusChange:g,context:b}),S=function(t){w.variables=t;var n=i.fetchQueryByPolicy(u,w,r);return"standby"!==w.fetchPolicy&&n.sources.length>0&&u.observableQuery&&u.observableQuery.applyNextFetchPolicy("after-fetch",e),n},C=function(){return i.fetchCancelFns.delete(t)};if(this.fetchCancelFns.set(t,(function(t){C(),setTimeout((function(){return o.cancel(t)}))})),this.getDocumentInfo(w.query).hasClientExports)o=new E.E(this.localState.addExportedVariables(w.query,w.variables,w.context).then(S).then((function(t){return t.sources}))),a=!0;else{var T=S(w.variables);a=T.fromLink,o=new E.E(T.sources)}return o.promise.then(C,C),{concast:o,fromLink:a}},t.prototype.refetchQueries=function(t){var e=this,r=t.updateCache,n=t.include,i=t.optimistic,o=void 0!==i&&i,a=t.removeOptimistic,s=void 0===a?o?(0,b.v)("refetchQueries"):void 0:a,u=t.onQueryUpdated,c=new Map;n&&this.getObservableQueries(n).forEach((function(t,r){c.set(r,{oq:t,lastDiff:e.getQuery(r).getDiff()})}));var f=new Map;return r&&this.cache.batch({update:r,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(t,e,r){var n=t.watcher instanceof k.L&&t.watcher.observableQuery;if(n){if(u){c.delete(n.queryId);var i=u(n,e,r);return!0===i&&(i=n.refetch()),!1!==i&&f.set(n,i),i}null!==u&&c.set(n.queryId,{oq:n,lastDiff:r,diff:e})}}}),c.size&&c.forEach((function(t,r){var n,i=t.oq,o=t.lastDiff,a=t.diff;if(u){if(!a){var s=i.queryInfo;s.reset(),a=s.getDiff()}n=u(i,a,o)}u&&!0!==n||(n=i.refetch()),!1!==n&&f.set(i,n),r.indexOf("legacyOneTimeQuery")>=0&&e.stopQueryNoBroadcast(r)})),s&&this.cache.removeOptimistic(s),f},t.prototype.fetchQueryByPolicy=function(t,e,r){var i=this,a=e.query,s=e.variables,u=e.fetchPolicy,c=e.refetchWritePolicy,f=e.errorPolicy,l=e.returnPartialData,h=e.context,p=e.notifyOnNetworkStatusChange,d=t.networkStatus;t.init({document:a,variables:s,networkStatus:r});var y=function(){return t.getDiff()},v=function(e,r){void 0===r&&(r=t.networkStatus||_.pT.loading);var u=e.result;!1===globalThis.__DEV__||l||(0,o.L)(u,{})||(0,C.yd)(e.missing);var c=function(t){return w.c.of((0,n.Cl)({data:t,loading:(0,_.bi)(r),networkStatus:r},e.complete?null:{partial:!0}))};return u&&i.getDocumentInfo(a).hasForcedResolvers?i.localState.runResolvers({document:a,remoteResult:{data:u},context:h,variables:s,onlyRunForcedResolvers:!0}).then((function(t){return c(t.data||void 0)})):"none"===f&&r===_.pT.refetch&&Array.isArray(e.missing)?c(void 0):c(u)},g="no-cache"===u?0:r===_.pT.refetch&&"merge"!==c?1:2,m=function(){return i.getResultsFromLink(t,g,{query:a,variables:s,context:h,fetchPolicy:u,errorPolicy:f})},b=p&&"number"===typeof d&&d!==r&&(0,_.bi)(r);switch(u){default:case"cache-first":return(E=y()).complete?{fromLink:!1,sources:[v(E,t.markReady())]}:l||b?{fromLink:!0,sources:[v(E),m()]}:{fromLink:!0,sources:[m()]};case"cache-and-network":var E;return(E=y()).complete||l||b?{fromLink:!0,sources:[v(E),m()]}:{fromLink:!0,sources:[m()]};case"cache-only":return{fromLink:!1,sources:[v(y(),t.markReady())]};case"network-only":return b?{fromLink:!0,sources:[v(y()),m()]}:{fromLink:!0,sources:[m()]};case"no-cache":return b?{fromLink:!0,sources:[v(t.getDiff()),m()]}:{fromLink:!0,sources:[m()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new k.L(this,t)),this.queries.get(t)},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return(0,n.Cl)((0,n.Cl)({},e),{clientAwareness:this.clientAwareness})},t}()},93787:function(t,e,r){"use strict";r.d(e,{a:function(){return c}});var n=r(80624),i=r(58008),o=r(6713),a=r(49920),s=r(2011),u=r(41395);function c(t,e,r,s){var u=e.data,c=(0,n.Tt)(e,["data"]),l=r.data,h=(0,n.Tt)(r,["data"]);return(0,i.A)(c,h)&&f((0,o.Vn)(t).selectionSet,u,l,{fragmentMap:(0,a.JG)((0,o.zK)(t)),variables:s})}function f(t,e,r,n){if(e===r)return!0;var o=new Set;return t.selections.every((function(t){if(o.has(t))return!0;if(o.add(t),!(0,s.MS)(t,n.variables))return!0;if(l(t))return!0;if((0,u.dt)(t)){var c=(0,u.ue)(t),h=e&&e[c],p=r&&r[c],d=t.selectionSet;if(!d)return(0,i.A)(h,p);var y=Array.isArray(h),v=Array.isArray(p);if(y!==v)return!1;if(y&&v){var g=h.length;if(p.length!==g)return!1;for(var m=0;m<g;++m)if(!f(d,h[m],p[m],n))return!1;return!0}return f(d,h,p,n)}var b=(0,a.HQ)(t,n.fragmentMap);return b?!!l(b)||f(b.selectionSet,e,r,n):void 0}))}function l(t){return!!t.directives&&t.directives.some(h)}function h(t){return"nonreactive"===t.name.value}},49526:function(t,e,r){"use strict";var n;function i(t){return!!t&&t<7}r.d(e,{bi:function(){return i},pT:function(){return n}}),function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(n||(n={}))},51946:function(t,e,r){"use strict";r.d(e,{K$:function(){return o},K4:function(){return u},Mn:function(){return s},uR:function(){return a}});var n=r(80624),i=(r(65871),r(35385)),o=Symbol();function a(t){return!!t.extensions&&Array.isArray(t.extensions[o])}function s(t){return t.hasOwnProperty("graphQLErrors")}var u=function(t){function e(r){var o,a,s=r.graphQLErrors,u=r.protocolErrors,c=r.clientErrors,f=r.networkError,l=r.errorMessage,h=r.extraInfo,p=t.call(this,l)||this;return p.name="ApolloError",p.graphQLErrors=s||[],p.protocolErrors=u||[],p.clientErrors=c||[],p.networkError=f||null,p.message=l||(o=p,a=(0,n.fX)((0,n.fX)((0,n.fX)([],o.graphQLErrors,!0),o.clientErrors,!0),o.protocolErrors,!0),o.networkError&&a.push(o.networkError),a.map((function(t){return(0,i.U)(t)&&t.message||"Error message not found."})).join("\n")),p.extraInfo=h,p.__proto__=e.prototype,p}return(0,n.C6)(e,t),e}(Error)},97322:function(t,e,r){"use strict";r.d(e,{C:function(){return l}});var n=r(65871),i=r(89806),o=r(37382),a=r(42790),s=r(52808);function u(t,e){return e?e(t):i.c.of()}function c(t){return"function"===typeof t?new l(t):t}function f(t){return t.request.length<=1}var l=function(){function t(t){t&&(this.request=t)}return t.empty=function(){return new t((function(){return i.c.of()}))},t.from=function(e){return 0===e.length?t.empty():e.map(c).reduce((function(t,e){return t.concat(e)}))},t.split=function(e,r,n){var o=c(r),a=c(n||new t(u));return f(o)&&f(a)?new t((function(t){return e(t)?o.request(t)||i.c.of():a.request(t)||i.c.of()})):new t((function(t,r){return e(t)?o.request(t,r)||i.c.of():a.request(t,r)||i.c.of()}))},t.execute=function(t,e){return t.request((0,o.k)(e.context,(0,a.A)((0,s.K)(e))))||i.c.of()},t.concat=function(e,r){var o=c(e);if(f(o))return!1!==globalThis.__DEV__&&n.V1.warn(35,o),o;var a=c(r);return f(a)?new t((function(t){return o.request(t,(function(t){return a.request(t)||i.c.of()}))||i.c.of()})):new t((function(t,e){return o.request(t,(function(t){return a.request(t,e)||i.c.of()}))||i.c.of()}))},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(u)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(t,e){throw(0,n.vA)(36)},t.prototype.onError=function(t,e){if(e&&e.error)return e.error(t),!1;throw t},t.prototype.setOnError=function(t){return this.onError=t,this},t}()},54622:function(t,e,r){"use strict";r.d(e,{g:function(){return n}});var n=r(97322).C.execute},22232:function(t,e,r){"use strict";r.d(e,{P:function(){return a}});var n=r(80624),i=r(97322),o=r(84968),a=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,(0,o.$)(e).request)||this;return r.options=e,r}return(0,n.C6)(e,t),e}(i.C)},9555:function(t,e,r){"use strict";r.d(e,{S:function(){return i}});var n=r(65871),i=function(t){if(!t&&"undefined"===typeof fetch)throw(0,n.vA)(37)}},84968:function(t,e,r){"use strict";r.d(e,{$:function(){return b}});var n=r(80624),i=r(65871),o=r(97322),a=r(2011),s=r(89806),u=r(25943),c=r(14500),f=r(78865),l=r(9555),h=r(25847),p=r(839),d=r(50481),y=r(57927),v=r(60861),g=r(6713),m=(0,i.no)((function(){return fetch})),b=function(t){void 0===t&&(t={});var e=t.uri,r=void 0===e?"/graphql":e,b=t.fetch,w=t.print,E=void 0===w?h.i1:w,S=t.includeExtensions,C=t.preserveHeaderCase,_=t.useGETForQueries,T=t.includeUnusedVariables,k=void 0!==T&&T,A=(0,n.Tt)(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&(0,l.S)(b||m);var I={http:{includeExtensions:S,preserveHeaderCase:C},options:A.fetchOptions,credentials:A.credentials,headers:A.headers};return new o.C((function(t){var e=(0,c.z)(t,r),o=t.getContext(),l={};if(o.clientAwareness){var w=o.clientAwareness,S=w.name,C=w.version;S&&(l["apollographql-client-name"]=S),C&&(l["apollographql-client-version"]=C)}var T=(0,n.Cl)((0,n.Cl)({},l),o.headers),A={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:T};if((0,a.d8)(["client"],t.query)){var B=(0,v.er)(t.query);if(!B)return(0,d.N)(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));t.query=B}var x,O=(0,h.HY)(t,E,h.R4,I,A),N=O.options,P=O.body;P.variables&&!k&&(P.variables=(0,y.X)(P.variables,t.query)),N.signal||"undefined"===typeof AbortController||(x=new AbortController,N.signal=x.signal);var L,R="OperationDefinition"===(L=(0,g.Vn)(t.query)).kind&&"subscription"===L.operation,F=(0,a.d8)(["defer"],t.query);if(_&&!t.query.definitions.some((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation}))&&(N.method="GET"),F||R){N.headers=N.headers||{};var j="multipart/mixed;";R&&F&&!1!==globalThis.__DEV__&&i.V1.warn(38),R?j+="boundary=graphql;subscriptionSpec=1.0,application/json":F&&(j+="deferSpec=20220824,application/json"),N.headers.accept=j}if("GET"===N.method){var D=(0,p.E)(e,P),U=D.newURI,V=D.parseError;if(V)return(0,d.N)(V);e=U}else try{N.body=(0,u.Y)(P,"Payload")}catch(V){return(0,d.N)(V)}return new s.c((function(r){var n=b||(0,i.no)((function(){return fetch}))||m,o=r.next.bind(r);return n(e,N).then((function(e){var r;t.setContext({response:e});var n=null===(r=e.headers)||void 0===r?void 0:r.get("content-type");return null!==n&&/^multipart\/mixed/i.test(n)?(0,f.tD)(e,o):(0,f.OQ)(t)(e).then(o)})).then((function(){x=void 0,r.complete()})).catch((function(t){x=void 0,(0,f.H4)(t,r)})),function(){x&&x.abort()}}))}))}},16282:function(t,e,r){"use strict";function n(t){var e,r=t[Symbol.asyncIterator]();return(e={next:function(){return r.next()}})[Symbol.asyncIterator]=function(){return this},e}r.d(e,{A:function(){return n}})},74596:function(t,e,r){"use strict";r.d(e,{A:function(){return i}});var n=r(71432);function i(t){var e=null,r=null,i=!1,o=[],a=[];function s(t){if(!r){if(a.length){var e=a.shift();if(Array.isArray(e)&&e[0])return e[0]({value:t,done:!1})}o.push(t)}}function u(t){r=t,a.slice().forEach((function(e){e[1](t)})),!e||e()}function c(){i=!0,a.slice().forEach((function(t){t[0]({value:void 0,done:!0})})),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",u),t.removeListener("end",c),t.removeListener("finish",c),t.removeListener("close",c)},t.on("data",s),t.on("error",u),t.on("end",c),t.on("finish",c),t.on("close",c);var f={next:function(){return new Promise((function(t,e){return r?e(r):o.length?t({value:o.shift(),done:!1}):i?t({value:void 0,done:!0}):void a.push([t,e])}))}};return n.uJ&&(f[Symbol.asyncIterator]=function(){return this}),f}},89699:function(t,e,r){"use strict";r.d(e,{A:function(){return i}});var n=r(71432);function i(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise((function(e,r){t.then((function(t){e({value:t,done:!1})})).catch(r)})))}};return n.uJ&&(r[Symbol.asyncIterator]=function(){return this}),r}},75671:function(t,e,r){"use strict";r.d(e,{A:function(){return i}});var n=r(71432);function i(t){var e={next:function(){return t.read()}};return n.uJ&&(e[Symbol.asyncIterator]=function(){return this}),e}},78865:function(t,e,r){"use strict";r.d(e,{H4:function(){return h},OQ:function(){return p},tD:function(){return c}});var n=r(80624),i=r(81041),o=r(24512),a=r(51946),s=r(81948),u=Object.prototype.hasOwnProperty;function c(t,e){var r;return(0,n.sH)(this,void 0,void 0,(function(){var o,u,c,h,p,d,y,v,g,m,b,w,E,S,C,_,T,k,A,I,B,x,O;return(0,n.YH)(this,(function(N){switch(N.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");o=new TextDecoder("utf-8"),u=null===(r=t.headers)||void 0===r?void 0:r.get("content-type"),c="boundary=",h=(null===u||void 0===u?void 0:u.includes(c))?null===u||void 0===u?void 0:u.substring((null===u||void 0===u?void 0:u.indexOf(c))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",p="\r\n--".concat(h),d="",y=(0,i.C)(t),v=!0,N.label=1;case 1:return v?[4,y.next()]:[3,3];case 2:for(g=N.sent(),m=g.value,b=g.done,w="string"===typeof m?m:o.decode(m),E=d.length-p.length+1,v=!b,S=(d+=w).indexOf(p,E);S>-1;){if(C=void 0,x=[d.slice(0,S),d.slice(S+p.length)],d=x[1],_=(C=x[0]).indexOf("\r\n\r\n"),T=f(C.slice(0,_)),(k=T["content-type"])&&-1===k.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(A=C.slice(_))if(I=l(t,A),Object.keys(I).length>1||"data"in I||"incremental"in I||"errors"in I||"payload"in I)(0,s.Nw)(I)?(B={},"payload"in I&&(B=(0,n.Cl)({},I.payload)),"errors"in I&&(B=(0,n.Cl)((0,n.Cl)({},B),{extensions:(0,n.Cl)((0,n.Cl)({},"extensions"in B?B.extensions:null),(O={},O[a.K$]=I.errors,O))})),e(B)):e(I);else if(1===Object.keys(I).length&&"hasNext"in I&&!I.hasNext)return[2];S=d.indexOf(p)}return[3,1];case 3:return[2]}}))}))}function f(t){var e={};return t.split("\n").forEach((function(t){var r=t.indexOf(":");if(r>-1){var n=t.slice(0,r).trim().toLowerCase(),i=t.slice(r+1).trim();e[n]=i}})),e}function l(t,e){if(t.status>=300){(0,o.A)(t,function(){try{return JSON.parse(e)}catch(t){return e}}(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(n){var r=n;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function h(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function p(t){return function(e){return e.text().then((function(t){return l(e,t)})).then((function(r){return Array.isArray(r)||u.call(r,"data")||u.call(r,"errors")||(0,o.A)(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map((function(t){return t.operationName})):t.operationName,"'.")),r}))}}},81041:function(t,e,r){"use strict";r.d(e,{C:function(){return u}});var n=r(71432),i=r(16282),o=r(74596),a=r(89699),s=r(75671);function u(t){var e=t;if(t.body&&(e=t.body),function(t){return!(!n.uJ||!t[Symbol.asyncIterator])}(e))return(0,i.A)(e);if(function(t){return!!t.getReader}(e))return(0,s.A)(e.getReader());if(function(t){return!!t.stream}(e))return(0,s.A)(e.stream().getReader());if(function(t){return!!t.arrayBuffer}(e))return(0,a.A)(e.arrayBuffer());if(function(t){return!!t.pipe}(e))return(0,o.A)(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}},839:function(t,e,r){"use strict";r.d(e,{E:function(){return i}});var n=r(25943);function i(t,e){var r=[],i=function(t,e){r.push("".concat(t,"=").concat(encodeURIComponent(e)))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var o=void 0;try{o=(0,n.Y)(e.variables,"Variables map")}catch(l){return{parseError:l}}i("variables",o)}if(e.extensions){var a=void 0;try{a=(0,n.Y)(e.extensions,"Extensions map")}catch(l){return{parseError:l}}i("extensions",a)}var s="",u=t,c=t.indexOf("#");-1!==c&&(s=t.substr(c),u=t.substr(0,c));var f=-1===u.indexOf("?")?"?":"&";return{newURI:u+f+r.join("&")+s}}},25847:function(t,e,r){"use strict";r.d(e,{HY:function(){return s},R4:function(){return o},i1:function(){return a}});var n=r(80624),i=r(60894),o={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},a=function(t,e){return e(t)};function s(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a={},s={};r.forEach((function(t){a=(0,n.Cl)((0,n.Cl)((0,n.Cl)({},a),t.options),{headers:(0,n.Cl)((0,n.Cl)({},a.headers),t.headers)}),t.credentials&&(a.credentials=t.credentials),s=(0,n.Cl)((0,n.Cl)({},s),t.http)})),a.headers&&(a.headers=function(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach((function(e){r[e.toLowerCase()]=t[e]})),r}var n=Object.create(null);Object.keys(Object(t)).forEach((function(e){n[e.toLowerCase()]={originalName:e,value:t[e]}}));var i=Object.create(null);return Object.keys(n).forEach((function(t){i[n[t].originalName]=n[t].value})),i}(a.headers,s.preserveHeaderCase));var u=t.operationName,c=t.extensions,f=t.variables,l=t.query,h={operationName:u,variables:f};return s.includeExtensions&&(h.extensions=c),s.includeQuery&&(h.query=e(l,i.y)),{options:a,body:h}}},14500:function(t,e,r){"use strict";r.d(e,{z:function(){return n}});var n=function(t,e){var r=t.getContext().uri;return r||("function"===typeof e?e(t):e||"/graphql")}},25943:function(t,e,r){"use strict";r.d(e,{Y:function(){return i}});var n=r(65871),i=function(t,e){var r;try{r=JSON.stringify(t)}catch(o){var i=(0,n.vA)(39,e,o.message);throw i.parseError=o,i}return r}},37382:function(t,e,r){"use strict";r.d(e,{k:function(){return i}});var n=r(80624);function i(t,e){var r=(0,n.Cl)({},t);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(t){r="function"===typeof t?(0,n.Cl)((0,n.Cl)({},r),t(r)):(0,n.Cl)((0,n.Cl)({},r),t)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return(0,n.Cl)({},r)}}),e}},57927:function(t,e,r){"use strict";r.d(e,{X:function(){return o}});var n=r(80624),i=r(27552);function o(t,e){var r=(0,n.Cl)({},t),o=new Set(Object.keys(t));return(0,i.YR)(e,{Variable:function(t,e,r){r&&"VariableDefinition"!==r.kind&&o.delete(t.name.value)}}),o.forEach((function(t){delete r[t]})),r}},50481:function(t,e,r){"use strict";r.d(e,{N:function(){return i}});var n=r(89806);function i(t){return new n.c((function(e){e.error(t)}))}},24512:function(t,e,r){"use strict";r.d(e,{A:function(){return n}});var n=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n}},42790:function(t,e,r){"use strict";r.d(e,{A:function(){return i}});var n=r(6713);function i(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName="string"!==typeof e.query?(0,n.n4)(e.query)||void 0:""),e}},52808:function(t,e,r){"use strict";r.d(e,{K:function(){return i}});var n=r(65871);function i(t){for(var e=["query","operationName","variables","extensions","context"],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(e.indexOf(o)<0)throw(0,n.vA)(43,o)}return t}},65743:function(t,e,r){"use strict";r.d(e,{E:function(){return i},c:function(){return n}});var n=Array.isArray;function i(t){return Array.isArray(t)&&t.length>0}},71432:function(t,e,r){"use strict";r.d(e,{En:function(){return o},et:function(){return i},ol:function(){return a},uJ:function(){return s}});var n=r(65871),i="function"===typeof WeakMap&&"ReactNative"!==(0,n.no)((function(){return navigator.product})),o="function"===typeof WeakSet,a="function"===typeof Symbol&&"function"===typeof Symbol.for,s=a&&Symbol.asyncIterator;(0,n.no)((function(){return window.document.createElement})),(0,n.no)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))},87490:function(t,e,r){"use strict";r.d(e,{m:function(){return i}});var n=Object.prototype.toString;function i(t){return o(t)}function o(t,e){switch(n.call(t)){case"[object Array]":if((e=e||new Map).has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach((function(t,n){r[n]=o(t,e)})),r;case"[object Object]":if((e=e||new Map).has(t))return e.get(t);var i=Object.create(Object.getPrototypeOf(t));return e.set(t,i),Object.keys(t).forEach((function(r){i[r]=o(t[r],e)})),i;default:return t}}},43556:function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach((function(t){t&&Object.keys(t).forEach((function(e){var n=t[e];void 0!==n&&(r[e]=n)}))})),r}r.d(e,{o:function(){return n}})},16302:function(t,e,r){"use strict";r.d(e,{M:function(){return a},t:function(){return o}});var n=r(65743),i=r(81948);function o(t){var e=a(t);return(0,n.E)(e)}function a(t){var e=(0,n.E)(t.errors)?t.errors.slice(0):[];return(0,i.ST)(t)&&(0,n.E)(t.incremental)&&t.incremental.forEach((function(t){t.errors&&e.push.apply(e,t.errors)})),e}},81948:function(t,e,r){"use strict";r.d(e,{Nw:function(){return u},ST:function(){return a},YX:function(){return s},bd:function(){return c}});var n=r(35385),i=r(65743),o=r(52199);function a(t){return"incremental"in t}function s(t){return a(t)||function(t){return"hasNext"in t&&"data"in t}(t)}function u(t){return(0,n.U)(t)&&"payload"in t}function c(t,e){var r=t,n=new o.ZI;return a(e)&&(0,i.E)(e.incremental)&&e.incremental.forEach((function(t){for(var e=t.data,i=t.path,o=i.length-1;o>=0;--o){var a=i[o],s=!isNaN(+a)?[]:{};s[a]=e,e=s}r=n.merge(r,e)})),r}},43229:function(t,e,r){"use strict";r.d(e,{v:function(){return i}});var n=new Map;function i(t){var e=n.get(t)||1;return n.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}},58572:function(t,e,r){"use strict";r.d(e,{G:function(){return o}});var n=r(35385);function i(t){var e=new Set([t]);return e.forEach((function(t){(0,n.U)(t)&&function(t){if(!1!==globalThis.__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}(t)===t&&Object.getOwnPropertyNames(t).forEach((function(r){(0,n.U)(t[r])&&e.add(t[r])}))})),t}function o(t){return!1!==globalThis.__DEV__&&i(t),t}},52199:function(t,e,r){"use strict";r.d(e,{D9:function(){return a},IM:function(){return s},ZI:function(){return c}});var n=r(80624),i=r(35385),o=Object.prototype.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}function s(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new c,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var u=function(t,e,r){return this.merge(t[r],e[r])},c=function(){function t(t){void 0===t&&(t=u),this.reconciler=t,this.isObject=i.U,this.pastCopies=new Set}return t.prototype.merge=function(t,e){for(var r=this,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];return(0,i.U)(e)&&(0,i.U)(t)?(Object.keys(e).forEach((function(i){if(o.call(t,i)){var s=t[i];if(e[i]!==s){var u=r.reconciler.apply(r,(0,n.fX)([t,e,i],a,!1));u!==s&&((t=r.shallowCopyForMerge(t))[i]=u)}}else(t=r.shallowCopyForMerge(t))[i]=e[i]})),t):e},t.prototype.shallowCopyForMerge=function(t){return(0,i.U)(t)&&(this.pastCopies.has(t)||(t=Array.isArray(t)?t.slice(0):(0,n.Cl)({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},t}()},41179:function(t,e,r){"use strict";r.d(e,{l:function(){return o}});var n=r(80624),i=r(43556);function o(t,e){return(0,i.o)(t,e,e.variables&&{variables:(0,i.o)((0,n.Cl)((0,n.Cl)({},t&&t.variables),e.variables))})}},35385:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){return null!==t&&"object"===n(t)}r.d(e,{U:function(){return i}})},48043:function(t,e,r){"use strict";r.d(e,{p:function(){return i}});var n=r(43229);function i(t,e){void 0===e&&(e=0);var r=(0,n.v)("stringifyForDisplay");return JSON.stringify(t,(function(t,e){return void 0===e?r:e}),e).split(JSON.stringify(r)).join("<undefined>")}},28181:function(t,e,r){"use strict";var n=r(84700);e.A=(0,n.n)((function(){return globalThis}))||(0,n.n)((function(){return window}))||(0,n.n)((function(){return self}))||(0,n.n)((function(){return global}))||(0,n.n)((function(){return n.n.constructor("return this")()}))},65871:function(t,e,r){"use strict";r.d(e,{V1:function(){return n.V1},no:function(){return i.n},vA:function(){return n.vA}});var n=r(12712),i=r(84700);r(28181),globalThis.__DEV__},12712:function(t,e,r){"use strict";r.d(e,{V1:function(){return u},vA:function(){return c}});var n=r(55891),i=r(88620),o=r(28181),a=r(48043);function s(t){return function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"===typeof e){var i=e;(e=h(i))||(e=p(i,r),r=[])}t.apply(void 0,[e].concat(r))}}var u=Object.assign((function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t||(0,n.V1)(t,h(e,r)||p(e,r))}),{debug:s(n.V1.debug),log:s(n.V1.log),warn:s(n.V1.warn),error:s(n.V1.error)});function c(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new n.zU(h(t,e)||p(t,e))}var f=Symbol.for("ApolloErrorMessageHandler_"+i.r);function l(t){return"string"==typeof t?t:(0,a.p)(t,2).slice(0,1e3)}function h(t,e){if(void 0===e&&(e=[]),t)return o.A[f]&&o.A[f](t,e.map(l))}function p(t,e){if(void 0===e&&(e=[]),t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:i.r,message:t,args:e.map(l)})))}},84700:function(t,e,r){"use strict";function n(t){try{return t()}catch(e){}}r.d(e,{n:function(){return n}})},98578:function(t,e,r){"use strict";r.d(e,{c:function(){return u}});var n=r(14200),i=r(71432),o=r(6713),a=r(65871);function s(t){return t}var u=function(){function t(t,e){void 0===e&&(e=Object.create(null)),this.resultCache=i.En?new WeakSet:new Set,this.transform=t,e.getCacheKey&&(this.getCacheKey=e.getCacheKey),!1!==e.cache&&(this.stableCacheKeys=new n.b(i.et,(function(t){return{key:t}})))}return t.prototype.getCacheKey=function(t){return[t]},t.identity=function(){return new t(s,{cache:!1})},t.split=function(e,r,n){return void 0===n&&(n=t.identity()),new t((function(t){return(e(t)?r:n).transformDocument(t)}),{cache:!1})},t.prototype.transformDocument=function(t){if(this.resultCache.has(t))return t;var e=this.getStableCacheEntry(t);if(e&&e.value)return e.value;(0,o.sw)(t);var r=this.transform(t);return this.resultCache.add(r),e&&(e.value=r),r},t.prototype.concat=function(e){var r=this;return new t((function(t){return e.transformDocument(r.transformDocument(t))}),{cache:!1})},t.prototype.getStableCacheEntry=function(t){if(this.stableCacheKeys){var e=this.getCacheKey(t);return e?((0,a.V1)(Array.isArray(e),65),this.stableCacheKeys.lookupArray(e)):void 0}},t}()},2011:function(t,e,r){"use strict";r.d(e,{MS:function(){return o},d8:function(){return a},f2:function(){return s}});var n=r(65871),i=r(27552);function o(t,e){var r=t.directives;return!r||!r.length||function(t){var e=[];t&&t.length&&t.forEach((function(t){if(function(t){var e=t.name.value;return"skip"===e||"include"===e}(t)){var r=t.arguments,i=t.name.value;(0,n.V1)(r&&1===r.length,67,i);var o=r[0];(0,n.V1)(o.name&&"if"===o.name.value,68,i);var a=o.value;(0,n.V1)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),69,i),e.push({directive:t,ifArgument:o})}}));return e}(r).every((function(t){var r=t.directive,i=t.ifArgument,o=!1;return"Variable"===i.value.kind?(o=e&&e[i.value.name.value],(0,n.V1)(void 0!==o,66,r.name.value)):o=i.value.value,"skip"===r.name.value?!o:o}))}function a(t,e,r){var n=new Set(t),o=n.size;return(0,i.YR)(e,{Directive:function(t){if(n.delete(t.name.value)&&(!r||!n.size))return i.sP}}),r?!n.size:n.size<o}function s(t){return t&&a(["client","export"],t,!0)}},49920:function(t,e,r){"use strict";r.d(e,{HQ:function(){return s},JG:function(){return a},ct:function(){return o}});var n=r(80624),i=r(65871);function o(t,e){var r=e,o=[];return t.definitions.forEach((function(t){if("OperationDefinition"===t.kind)throw(0,i.vA)(70,t.operation,t.name?" named '".concat(t.name.value,"'"):"");"FragmentDefinition"===t.kind&&o.push(t)})),"undefined"===typeof r&&((0,i.V1)(1===o.length,71,o.length),r=o[0].name.value),(0,n.Cl)((0,n.Cl)({},t),{definitions:(0,n.fX)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)})}function a(t){void 0===t&&(t=[]);var e={};return t.forEach((function(t){e[t.name.value]=t})),e}function s(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":var r=t.name.value;if("function"===typeof e)return e(r);var n=e&&e[r];return(0,i.V1)(n,72,r),n||null;default:return null}}},6713:function(t,e,r){"use strict";r.d(e,{AT:function(){return c},E4:function(){return f},Vn:function(){return l},Vu:function(){return a},n4:function(){return s},sw:function(){return o},wY:function(){return h},zK:function(){return u}});var n=r(65871),i=r(41395);function o(t){(0,n.V1)(t&&"Document"===t.kind,73);var e=t.definitions.filter((function(t){return"FragmentDefinition"!==t.kind})).map((function(t){if("OperationDefinition"!==t.kind)throw(0,n.vA)(74,t.kind);return t}));return(0,n.V1)(e.length<=1,75,e.length),t}function a(t){return o(t),t.definitions.filter((function(t){return"OperationDefinition"===t.kind}))[0]}function s(t){return t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&!!t.name})).map((function(t){return t.name.value}))[0]||null}function u(t){return t.definitions.filter((function(t){return"FragmentDefinition"===t.kind}))}function c(t){var e=a(t);return(0,n.V1)(e&&"query"===e.operation,76),e}function f(t){(0,n.V1)("Document"===t.kind,77),(0,n.V1)(t.definitions.length<=1,78);var e=t.definitions[0];return(0,n.V1)("FragmentDefinition"===e.kind,79),e}function l(t){var e;o(t);for(var r=0,i=t.definitions;r<i.length;r++){var a=i[r];if("OperationDefinition"===a.kind){var s=a.operation;if("query"===s||"mutation"===s||"subscription"===s)return a}"FragmentDefinition"!==a.kind||e||(e=a)}if(e)return e;throw(0,n.vA)(80)}function h(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach((function(t){t.defaultValue&&(0,i.J)(e,t.variable.name,t.defaultValue)})),e}},60894:function(t,e,r){"use strict";r.d(e,{y:function(){return o}});var n=r(41482),i=r(71432).et?new WeakMap:void 0,o=function(t){var e;return(e=null===i||void 0===i?void 0:i.get(t))||(e=(0,n.y)(t),null===i||void 0===i||i.set(t,e)),e}},41395:function(t,e,r){"use strict";r.d(e,{A_:function(){return u},D$:function(){return m},Ii:function(){return l},J:function(){return f},Kc:function(){return c},MB:function(){return v},WU:function(){return s},dt:function(){return b},kd:function(){return w},o5:function(){return p},ue:function(){return g}});var n=r(65871),i=r(35385),o=r(49920);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t){return{__ref:String(t)}}function u(t){return Boolean(t&&"object"===a(t)&&"string"===typeof t.__ref)}function c(t){return(0,i.U)(t)&&"Document"===t.kind&&Array.isArray(t.definitions)}function f(t,e,r,i){if(function(t){return"IntValue"===t.kind}(r)||function(t){return"FloatValue"===t.kind}(r))t[e.value]=Number(r.value);else if(function(t){return"BooleanValue"===t.kind}(r)||function(t){return"StringValue"===t.kind}(r))t[e.value]=r.value;else if(function(t){return"ObjectValue"===t.kind}(r)){var o={};r.fields.map((function(t){return f(o,t.name,t.value,i)})),t[e.value]=o}else if(function(t){return"Variable"===t.kind}(r)){var a=(i||{})[r.name.value];t[e.value]=a}else if(function(t){return"ListValue"===t.kind}(r))t[e.value]=r.values.map((function(t){var r={};return f(r,e,t,i),r[e.value]}));else if(function(t){return"EnumValue"===t.kind}(r))t[e.value]=r.value;else{if(!function(t){return"NullValue"===t.kind}(r))throw(0,n.vA)(81,e.value,r.kind);t[e.value]=null}}function l(t,e){var r=null;t.directives&&(r={},t.directives.forEach((function(t){r[t.name.value]={},t.arguments&&t.arguments.forEach((function(n){var i=n.name,o=n.value;return f(r[t.name.value],i,o,e)}))})));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach((function(t){var r=t.name,i=t.value;return f(n,r,i,e)}))),p(t.name.value,n,r)}var h=["connection","include","skip","client","rest","export","nonreactive"],p=Object.assign((function(t,e,r){if(e&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach((function(t){i[t]=e[t]})),"".concat(r.connection.key,"(").concat(d(i),")")}return r.connection.key}var o=t;if(e){var a=d(e);o+="(".concat(a,")")}return r&&Object.keys(r).forEach((function(t){-1===h.indexOf(t)&&(r[t]&&Object.keys(r[t]).length?o+="@".concat(t,"(").concat(d(r[t]),")"):o+="@".concat(t))})),o}),{setStringify:function(t){var e=d;return d=t,e}}),d=function(t){return JSON.stringify(t,y)};function y(t,e){return(0,i.U)(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{})),e}function v(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach((function(t){var n=t.name,i=t.value;return f(r,n,i,e)})),r}return null}function g(t){return t.alias?t.alias.value:t.name.value}function m(t,e,r){for(var n,i=0,a=e.selections;i<a.length;i++){if(b(c=a[i])){if("__typename"===c.name.value)return t[g(c)]}else n?n.push(c):n=[c]}if("string"===typeof t.__typename)return t.__typename;if(n)for(var s=0,u=n;s<u.length;s++){var c=u[s],f=m(t,(0,o.HQ)(c,r).selectionSet,r);if("string"===typeof f)return f}}function b(t){return"Field"===t.kind}function w(t){return"InlineFragment"===t.kind}},60861:function(t,e,r){"use strict";r.d(e,{XY:function(){return g},er:function(){return b},iz:function(){return v},zc:function(){return m}});var n=r(80624),i=r(65871),o=r(38367),a=r(27552),s=r(6713),u=r(41395),c=r(49920),f=r(65743),l={kind:o.b.FIELD,name:{kind:o.b.NAME,value:"__typename"}};function h(t,e){return!t||t.selectionSet.selections.every((function(t){return t.kind===o.b.FRAGMENT_SPREAD&&h(e[t.name.value],e)}))}function p(t){return h((0,s.Vu)(t)||(0,s.E4)(t),(0,c.JG)((0,s.zK)(t)))?null:t}function d(t){var e=new Map,r=new Map;return t.forEach((function(t){t&&(t.name?e.set(t.name,t):t.test&&r.set(t.test,t))})),function(t){var n=e.get(t.name.value);return!n&&r.size&&r.forEach((function(e,r){r(t)&&(n=e)})),n}}function y(t){var e=new Map;return function(r){void 0===r&&(r=t);var n=e.get(r);return n||e.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function v(t,e){(0,s.sw)(e);for(var r=y(""),u=y(""),c=function(t){for(var e=0,n=void 0;e<t.length&&(n=t[e]);++e)if(!(0,f.c)(n)){if(n.kind===o.b.OPERATION_DEFINITION)return r(n.name&&n.name.value);if(n.kind===o.b.FRAGMENT_DEFINITION)return u(n.name.value)}return!1!==globalThis.__DEV__&&i.V1.error(82),null},l=0,h=e.definitions.length-1;h>=0;--h)e.definitions[h].kind===o.b.OPERATION_DEFINITION&&++l;var v=d(t),g=function(t){return(0,f.E)(t)&&t.map(v).some((function(t){return t&&t.remove}))},m=new Map,b=!1,w={enter:function(t){if(g(t.directives))return b=!0,null}},E=(0,a.YR)(e,{Field:w,InlineFragment:w,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(t,e,r,n,i){var o=c(i);o&&o.variables.add(t.name.value)}},FragmentSpread:{enter:function(t,e,r,n,i){if(g(t.directives))return b=!0,null;var o=c(i);o&&o.fragmentSpreads.add(t.name.value)}},FragmentDefinition:{enter:function(t,e,r,n){m.set(JSON.stringify(n),t)},leave:function(t,e,r,n){return t===m.get(JSON.stringify(n))?t:l>0&&t.selectionSet.selections.every((function(t){return t.kind===o.b.FIELD&&"__typename"===t.name.value}))?(u(t.name.value).removed=!0,b=!0,null):void 0}},Directive:{leave:function(t){if(v(t))return b=!0,null}}});if(!b)return e;var S=function t(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(r){t(u(r)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},C=new Set;E.definitions.forEach((function(t){t.kind===o.b.OPERATION_DEFINITION?S(r(t.name&&t.name.value)).fragmentSpreads.forEach((function(t){C.add(t)})):t.kind!==o.b.FRAGMENT_DEFINITION||0!==l||u(t.name.value).removed||C.add(t.name.value)})),C.forEach((function(t){S(u(t)).fragmentSpreads.forEach((function(t){C.add(t)}))}));var _={enter:function(t){if(e=t.name.value,!C.has(e)||u(e).removed)return null;var e}};return p((0,a.YR)(E,{FragmentSpread:_,FragmentDefinition:_,OperationDefinition:{leave:function(t){if(t.variableDefinitions){var e=S(r(t.name&&t.name.value)).transitiveVars;if(e.size<t.variableDefinitions.length)return(0,n.Cl)((0,n.Cl)({},t),{variableDefinitions:t.variableDefinitions.filter((function(t){return e.has(t.variable.name.value)}))})}}}}))}var g=Object.assign((function(t){return(0,a.YR)(t,{SelectionSet:{enter:function(t,e,r){if(!r||r.kind!==o.b.OPERATION_DEFINITION){var i=t.selections;if(i)if(!i.some((function(t){return(0,u.dt)(t)&&("__typename"===t.name.value||0===t.name.value.lastIndexOf("__",0))}))){var a=r;if(!((0,u.dt)(a)&&a.directives&&a.directives.some((function(t){return"export"===t.name.value}))))return(0,n.Cl)((0,n.Cl)({},t),{selections:(0,n.fX)((0,n.fX)([],i,!0),[l],!1)})}}}}})}),{added:function(t){return t===l}});function m(t){return"query"===(0,s.Vn)(t).operation?t:(0,a.YR)(t,{OperationDefinition:{enter:function(t){return(0,n.Cl)((0,n.Cl)({},t),{operation:"query"})}}})}function b(t){return(0,s.sw)(t),v([{test:function(t){return"client"===t.name.value},remove:!0}],t)}},55501:function(t,e,r){"use strict";r.d(e,{E:function(){return u}});var n=r(80624),i=r(89806),o=r(24677),a=r(50060);function s(t){return t&&"function"===typeof t.then}var u=function(t){function e(e){var r=t.call(this,(function(t){return r.addObserver(t),function(){return r.removeObserver(t)}}))||this;return r.observers=new Set,r.promise=new Promise((function(t,e){r.resolve=t,r.reject=e})),r.handlers={next:function(t){null!==r.sub&&(r.latest=["next",t],r.notify("next",t),(0,o.w)(r.observers,"next",t))},error:function(t){var e=r.sub;null!==e&&(e&&setTimeout((function(){return e.unsubscribe()})),r.sub=null,r.latest=["error",t],r.reject(t),r.notify("error",t),(0,o.w)(r.observers,"error",t))},complete:function(){var t=r,e=t.sub,n=t.sources;if(null!==e){var i=(void 0===n?[]:n).shift();i?s(i)?i.then((function(t){return r.sub=t.subscribe(r.handlers)})):r.sub=i.subscribe(r.handlers):(e&&setTimeout((function(){return e.unsubscribe()})),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),(0,o.w)(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(t){r.reject(t),r.sources=[],r.handlers.complete()},r.promise.catch((function(t){})),"function"===typeof e&&(e=[new i.c(e)]),s(e)?e.then((function(t){return r.start(t)}),r.handlers.error):r.start(e),r}return(0,n.C6)(e,t),e.prototype.start=function(t){void 0===this.sub&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var e=this.latest[0],r=t[e];r&&r.call(t,this.latest[1]),null===this.sub&&"next"===e&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t))},e.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(t,e){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach((function(r){return r(t,e)})))},e.prototype.beforeNext=function(t){var e=!1;this.nextResultListeners.add((function(r,n){e||(e=!0,t(r,n))}))},e}(i.c);(0,a.r)(u)},34186:function(t,e,r){"use strict";r.d(e,{x:function(){return i}});var n=r(89806);function i(t,e,r){return new n.c((function(n){var i={then:function(t){return new Promise((function(e){return e(t())}))}};function o(t,e){return function(r){if(t){var o=function(){return n.closed?0:t(r)};i=i.then(o,o).then((function(t){return n.next(t)}),(function(t){return n.error(t)}))}else n[e](r)}}var a={next:o(e,"next"),error:o(r,"error"),complete:function(){i.then((function(){return n.complete()}))}},s=t.subscribe(a);return function(){return s.unsubscribe()}}))}},24677:function(t,e,r){"use strict";function n(t,e,r){var n=[];t.forEach((function(t){return t[e]&&n.push(t)})),n.forEach((function(t){return t[e](r)}))}r.d(e,{w:function(){return n}})},50060:function(t,e,r){"use strict";r.d(e,{r:function(){return o}});var n=r(89806),i=r(71432);function o(t){function e(e){Object.defineProperty(t,e,{value:n.c})}return i.ol&&Symbol.species&&e(Symbol.species),e("@@species"),t}},88620:function(t,e,r){"use strict";r.d(e,{r:function(){return n}});var n="3.8.10"},41432:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function a(){}r.d(e,{C:function(){return s}});var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}var e,r,n;return e=t,(r=[{key:"has",value:function(t){return this.map.has(t)}},{key:"get",value:function(t){var e=this.getNode(t);return e&&e.value}},{key:"size",get:function(){return this.map.size}},{key:"getNode",value:function(t){var e=this.map.get(t);if(e&&e!==this.newest){var r=e.older,n=e.newer;n&&(n.older=r),r&&(r.newer=n),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=n)}return e}},{key:"set",value:function(t,e){var r=this.getNode(t);return r?r.value=e:(r={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(t,r),r.value)}},{key:"clean",value:function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}},{key:"delete",value:function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},21943:function(t,e,r){"use strict";r.d(e,{DX:function(){return n.D}});var n=r(16263);n.D.bind,n.D.noContext},16263:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{D:function(){return h}});var a=null,s={},u=1;function c(t){try{return t()}catch(e){}}var f="@wry/context:Slot",l=c((function(){return globalThis}))||c((function(){return global}))||Object.create(null),h=l[f]||Array[f]||function(t){try{Object.defineProperty(l,f,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=["slot",u++,Date.now(),Math.random().toString(36).slice(2)].join(":")}var e,r,n;return e=t,n=[{key:"bind",value:function(t){var e=a;return function(){var r=a;try{return a=e,t.apply(this,arguments)}finally{a=r}}}},{key:"noContext",value:function(t,e,r){if(!a)return t.apply(r,e);var n=a;try{return a=null,t.apply(r,e)}finally{a=n}}}],(r=[{key:"hasValue",value:function(){for(var t=a;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===s)break;return t!==a&&(a.slots[this.id]=e),!0}return a&&(a.slots[this.id]=s),!1}},{key:"getValue",value:function(){if(this.hasValue())return a.slots[this.id]}},{key:"withValue",value:function(t,e,r,n){var i=function(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({__proto__:null},this.id,t),s=a;a={parent:s,slots:i};try{return e.apply(n,r)}finally{a=s}}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())},58008:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{L:function(){return f}});var o=Object.prototype,a=o.toString,s=o.hasOwnProperty,u=Function.prototype.toString,c=new Map;function f(t,e){try{return l(t,e)}finally{c.clear()}}function l(t,e){if(t===e)return!0;var r,i,o,c=a.call(t);if(c!==a.call(e))return!1;switch(c){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":if(y(t,e))return!0;var f=h(t),p=h(e),v=f.length;if(v!==p.length)return!1;for(var g=0;g<v;++g)if(!s.call(e,f[g]))return!1;for(var m=0;m<v;++m){var b=f[m];if(!l(t[b],e[b]))return!1}return!0;case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t===+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":if(t.size!==e.size)return!1;if(y(t,e))return!0;for(var w=t.entries(),E="[object Map]"===c;;){var S=w.next();if(S.done)break;var C=n(S.value,2),_=C[0],T=C[1];if(!e.has(_))return!1;if(E&&!l(T,e.get(_)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":var k=t.byteLength;if(k===e.byteLength)for(;k--&&t[k]===e[k];);return-1===k;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var A=u.call(t);return A===u.call(e)&&(i=d,!((o=(r=A).length-i.length)>=0&&r.indexOf(i,o)===o))}return!1}function h(t){return Object.keys(t).filter(p,t)}function p(t){return void 0!==this[t]}e.A=f;var d="{ [native code] }";function y(t,e){var r=c.get(t);if(r){if(r.has(e))return!0}else c.set(t,r=new Set);return r.add(e),!1}},14200:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{b:function(){return l}});var a=function(){return Object.create(null)},s=Array.prototype,u=s.forEach,c=s.slice,f=Object.prototype.hasOwnProperty,l=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.weakness=e,this.makeData=r}var e,r,o;return e=t,r=[{key:"lookup",value:function(){return this.lookupArray(arguments)}},{key:"lookupArray",value:function(t){var e=this;return u.call(t,(function(t){return e=e.getChildTrie(t)})),f.call(e,"data")?e.data:e.data=this.makeData(c.call(t))}},{key:"peek",value:function(){return this.peekArray(arguments)}},{key:"peekArray",value:function(t){for(var e=this,r=0,n=t.length;e&&r<n;++r){var i=e.mapFor(t[r],!1);e=i&&i.get(t[r])}return e&&e.data}},{key:"remove",value:function(){return this.removeArray(arguments)}},{key:"removeArray",value:function(t){var e;if(t.length){var r=t[0],n=this.mapFor(r,!1),i=n&&n.get(r);i&&(e=i.removeArray(c.call(t,1)),i.data||i.weak||i.strong&&i.strong.size||n.delete(r))}else e=this.data,delete this.data;return e}},{key:"getChildTrie",value:function(e){var r=this.mapFor(e,!0),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n}},{key:"mapFor",value:function(t,e){return this.weakness&&function(t){switch(n(t)){case"object":if(null===t)break;case"function":return!0}return!1}(t)?this.weak||(e?this.weak=new WeakMap:void 0):this.strong||(e?this.strong=new Map:void 0)}}],r&&i(e.prototype,r),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},21337:function(t,e,r){"use strict";function n(t,e){if(!Boolean(t))throw new Error(e)}r.d(e,{U:function(){return n}})},56118:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r.d(e,{N:function(){return f}});var u=10,c=2;function f(t){return l(t,[])}function l(t,e){switch(s(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return function(t,e){if(null===t)return"null";if(e.includes(t))return"[Circular]";var r=[].concat(i(e),[t]);if(function(t){return"function"===typeof t.toJSON}(t)){var o=t.toJSON();if(o!==t)return"string"===typeof o?o:l(o,r)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>c)return"[Array]";for(var r=Math.min(u,t.length),n=t.length-r,i=[],o=0;o<r;++o)i.push(l(t[o],e));1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(t,r);return function(t,e){var r=Object.entries(t);if(0===r.length)return"{}";if(e.length>c)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"===typeof t.constructor){var r=t.constructor.name;if("string"===typeof r&&""!==r)return r}return e}(t)+"]";var i=r.map((function(t){var r=n(t,2);return r[0]+": "+l(r[1],e)}));return"{ "+i.join(", ")+" }"}(t,r)}(t,e);default:return String(t)}}},33194:function(t,e,r){"use strict";r.d(e,{Ll:function(){return a},aD:function(){return i}});var n,i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},o=new Set(Object.keys(i));function a(t){var e=null===t||void 0===t?void 0:t.kind;return"string"===typeof e&&o.has(e)}!function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"}(n||(n={}))},11082:function(t,e,r){"use strict";r.d(e,{yo:function(){return i}});var n=r(74145);function i(t,e){var r=t.replace(/"""/g,'\\"""'),i=r.split(/\r\n|[\n\r]/g),o=1===i.length,a=i.length>1&&i.slice(1).every((function(t){return 0===t.length||(0,n.i0)(t.charCodeAt(0))})),s=r.endsWith('\\"""'),u=t.endsWith('"')&&!s,c=t.endsWith("\\"),f=u||c,l=!(null!==e&&void 0!==e&&e.minimize)&&(!o||t.length>70||f||a||s),h="",p=o&&(0,n.i0)(t.charCodeAt(0));return(l&&!p||a)&&(h+="\n"),h+=r,(l||f)&&(h+="\n"),'"""'+h+'"""'}},74145:function(t,e,r){"use strict";function n(t){return 9===t||32===t}r.d(e,{i0:function(){return n}})},38367:function(t,e,r){"use strict";var n;r.d(e,{b:function(){return n}}),function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(n||(n={}))},10580:function(t,e,r){"use strict";r.d(e,{VK:function(){return i}});var n=r(38367);function i(t){return t.kind===n.b.FIELD||t.kind===n.b.FRAGMENT_SPREAD||t.kind===n.b.INLINE_FRAGMENT}},50952:function(t,e,r){"use strict";function n(t){return'"'.concat(t.replace(i,o),'"')}r.d(e,{T:function(){return n}});var i=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function o(t){return a[t.charCodeAt(0)]}var a=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]},41482:function(t,e,r){"use strict";r.d(e,{y:function(){return a}});var n=r(11082),i=r(50952),o=r(27552);function a(t){return(0,o.YR)(t,s)}var s={Name:{leave:function(t){return t.value}},Variable:{leave:function(t){return"$"+t.name}},Document:{leave:function(t){return u(t.definitions,"\n\n")}},OperationDefinition:{leave:function(t){var e=f("(",u(t.variableDefinitions,", "),")"),r=u([t.operation,u([t.name,e]),u(t.directives," ")]," ");return("query"===r?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:function(t){var e=t.variable,r=t.type,n=t.defaultValue,i=t.directives;return e+": "+r+f(" = ",n)+f(" ",u(i," "))}},SelectionSet:{leave:function(t){return c(t.selections)}},Field:{leave:function(t){var e=t.alias,r=t.name,n=t.arguments,i=t.directives,o=t.selectionSet,a=f("",e,": ")+r,s=a+f("(",u(n,", "),")");return s.length>80&&(s=a+f("(\n",l(u(n,"\n")),"\n)")),u([s,u(i," "),o]," ")}},Argument:{leave:function(t){return t.name+": "+t.value}},FragmentSpread:{leave:function(t){return"..."+t.name+f(" ",u(t.directives," "))}},InlineFragment:{leave:function(t){var e=t.typeCondition,r=t.directives,n=t.selectionSet;return u(["...",f("on ",e),u(r," "),n]," ")}},FragmentDefinition:{leave:function(t){var e=t.name,r=t.typeCondition,n=t.variableDefinitions,i=t.directives,o=t.selectionSet;return"fragment ".concat(e).concat(f("(",u(n,", "),")")," ")+"on ".concat(r," ").concat(f("",u(i," ")," "))+o}},IntValue:{leave:function(t){return t.value}},FloatValue:{leave:function(t){return t.value}},StringValue:{leave:function(t){var e=t.value;return t.block?(0,n.yo)(e):(0,i.T)(e)}},BooleanValue:{leave:function(t){return t.value?"true":"false"}},NullValue:{leave:function(){return"null"}},EnumValue:{leave:function(t){return t.value}},ListValue:{leave:function(t){return"["+u(t.values,", ")+"]"}},ObjectValue:{leave:function(t){return"{"+u(t.fields,", ")+"}"}},ObjectField:{leave:function(t){return t.name+": "+t.value}},Directive:{leave:function(t){return"@"+t.name+f("(",u(t.arguments,", "),")")}},NamedType:{leave:function(t){return t.name}},ListType:{leave:function(t){return"["+t.type+"]"}},NonNullType:{leave:function(t){return t.type+"!"}},SchemaDefinition:{leave:function(t){var e=t.description,r=t.directives,n=t.operationTypes;return f("",e,"\n")+u(["schema",u(r," "),c(n)]," ")}},OperationTypeDefinition:{leave:function(t){return t.operation+": "+t.type}},ScalarTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.directives;return f("",e,"\n")+u(["scalar",r,u(n," ")]," ")}},ObjectTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return f("",e,"\n")+u(["type",r,f("implements ",u(n," & ")),u(i," "),c(o)]," ")}},FieldDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.arguments,i=t.type,o=t.directives;return f("",e,"\n")+r+(h(n)?f("(\n",l(u(n,"\n")),"\n)"):f("(",u(n,", "),")"))+": "+i+f(" ",u(o," "))}},InputValueDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.type,i=t.defaultValue,o=t.directives;return f("",e,"\n")+u([r+": "+n,f("= ",i),u(o," ")]," ")}},InterfaceTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return f("",e,"\n")+u(["interface",r,f("implements ",u(n," & ")),u(i," "),c(o)]," ")}},UnionTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.directives,i=t.types;return f("",e,"\n")+u(["union",r,u(n," "),f("= ",u(i," | "))]," ")}},EnumTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.directives,i=t.values;return f("",e,"\n")+u(["enum",r,u(n," "),c(i)]," ")}},EnumValueDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.directives;return f("",e,"\n")+u([r,u(n," ")]," ")}},InputObjectTypeDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.directives,i=t.fields;return f("",e,"\n")+u(["input",r,u(n," "),c(i)]," ")}},DirectiveDefinition:{leave:function(t){var e=t.description,r=t.name,n=t.arguments,i=t.repeatable,o=t.locations;return f("",e,"\n")+"directive @"+r+(h(n)?f("(\n",l(u(n,"\n")),"\n)"):f("(",u(n,", "),")"))+(i?" repeatable":"")+" on "+u(o," | ")}},SchemaExtension:{leave:function(t){var e=t.directives,r=t.operationTypes;return u(["extend schema",u(e," "),c(r)]," ")}},ScalarTypeExtension:{leave:function(t){return u(["extend scalar",t.name,u(t.directives," ")]," ")}},ObjectTypeExtension:{leave:function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return u(["extend type",e,f("implements ",u(r," & ")),u(n," "),c(i)]," ")}},InterfaceTypeExtension:{leave:function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return u(["extend interface",e,f("implements ",u(r," & ")),u(n," "),c(i)]," ")}},UnionTypeExtension:{leave:function(t){var e=t.name,r=t.directives,n=t.types;return u(["extend union",e,u(r," "),f("= ",u(n," | "))]," ")}},EnumTypeExtension:{leave:function(t){var e=t.name,r=t.directives,n=t.values;return u(["extend enum",e,u(r," "),c(n)]," ")}},InputObjectTypeExtension:{leave:function(t){var e=t.name,r=t.directives,n=t.fields;return u(["extend input",e,u(r," "),c(n)]," ")}}};function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null===t||void 0===t?void 0:t.filter((function(t){return t})).join(r))&&void 0!==e?e:""}function c(t){return f("{\n",l(u(t,"\n")),"\n}")}function f(t,e){return null!=e&&""!==e?t+e+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function l(t){return f("  ",t.replace(/\n/g,"\n  "))}function h(t){var e;return null!==(e=null===t||void 0===t?void 0:t.some((function(t){return t.includes("\n")})))&&void 0!==e&&e}},27552:function(t,e,r){"use strict";r.d(e,{YR:function(){return p},sP:function(){return h}});var n=r(21337),i=r(56118),o=r(33194),a=r(38367);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(t,e){if(t){if("string"===typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=Object.freeze({});function p(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.aD,s=new Map,f=0,l=Object.values(a.b);f<l.length;f++){var p=l[f];s.set(p,d(e,p))}var y=void 0,v=Array.isArray(t),g=[t],m=-1,b=[],w=t,E=void 0,S=void 0,C=[],_=[];do{var T=++m===g.length,k=T&&0!==b.length;if(T){if(E=0===_.length?void 0:C[C.length-1],w=S,S=_.pop(),k)if(v){w=w.slice();var A,I=0,B=c(b);try{for(B.s();!(A=B.n()).done;){var x=u(A.value,2),O=x[0],N=x[1],P=O-I;null===N?(w.splice(P,1),I++):w[P]=N}}catch(z){B.e(z)}finally{B.f()}}else{w=Object.defineProperties({},Object.getOwnPropertyDescriptors(w));var L,R=c(b);try{for(R.s();!(L=R.n()).done;){var F=u(L.value,2),j=F[0],D=F[1];w[j]=D}}catch(z){R.e(z)}finally{R.f()}}m=y.index,g=y.keys,b=y.edits,v=y.inArray,y=y.prev}else if(S){if(null===(w=S[E=v?m:g[m]])||void 0===w)continue;C.push(E)}var U,V=void 0;if(!Array.isArray(w)){var K,M;(0,o.Ll)(w)||(0,n.U)(!1,"Invalid AST Node: ".concat((0,i.N)(w),"."));var q=T?null===(K=s.get(w.kind))||void 0===K?void 0:K.leave:null===(M=s.get(w.kind))||void 0===M?void 0:M.enter;if((V=null===q||void 0===q?void 0:q.call(e,w,E,S,C,_))===h)break;if(!1===V){if(!T){C.pop();continue}}else if(void 0!==V&&(b.push([E,V]),!T)){if(!(0,o.Ll)(V)){C.pop();continue}w=V}}if(void 0===V&&k&&b.push([E,w]),T)C.pop();else y={inArray:v,index:m,keys:g,edits:b,prev:y},g=(v=Array.isArray(w))?w:null!==(U=r[w.kind])&&void 0!==U?U:[],m=-1,b=[],S&&_.push(S),S=w}while(void 0!==y);return 0!==b.length?b[b.length-1][1]:t}function d(t,e){var r=t[e];return"object"===s(r)?r:"function"===typeof r?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}},89202:function(t,e,r){"use strict";r.d(e,{DX:function(){return n.DX},Xg:function(){return i}});var n=r(21943),i=new n.DX},19248:function(t,e,r){"use strict";r.d(e,{y:function(){return a}});var n=r(89202),i=r(96848),o={setDirty:!0,dispose:!0,forget:!0};function a(t){var e=new Map,r=t&&t.subscribe;function a(t){var o=n.Xg.getValue();if(o){var a=e.get(t);a||e.set(t,a=new Set),o.dependOn(a),"function"===typeof r&&((0,i.UX)(a),a.unsubscribe=r(t))}}return a.dirty=function(t,r){var n=e.get(t);if(n){var a=r&&i.mQ.call(o,r)?r:"setDirty";(0,i.As)(n).forEach((function(t){return t[a]()})),e.delete(t),(0,i.UX)(n)}},a}},49409:function(t,e,r){"use strict";r.d(e,{H:function(){return d}});var n=r(89202),i=r(96848);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}var u=[],c=100;function f(t,e){if(!t)throw new Error(e||"assertion failure")}function l(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function h(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function p(t){return t.slice(0)}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}var e,r,o;return e=t,(r=[{key:"peek",value:function(){if(1===this.value.length&&!g(this))return y(this),this.value[0]}},{key:"recompute",value:function(t){return f(!this.recomputing,"already recomputing"),y(this),g(this)?function(t,e){return _(t),n.Xg.withValue(t,v,[t,e]),function(t,e){if("function"===typeof t.subscribe)try{(0,i.UX)(t),t.unsubscribe=t.subscribe.apply(null,e)}catch(r){return t.setDirty(),!1}return!0}(t,e)&&function(t){t.dirty=!1,g(t)||b(t)}(t),h(t.value)}(this,t):h(this.value)}},{key:"setDirty",value:function(){this.dirty||(this.dirty=!0,m(this),(0,i.UX)(this))}},{key:"dispose",value:function(){var t=this;this.setDirty(),_(this),w(this,(function(e,r){e.setDirty(),T(e,t)}))}},{key:"forget",value:function(){this.dispose()}},{key:"dependOn",value:function(t){t.add(this),this.deps||(this.deps=u.pop()||new Set),this.deps.add(t)}},{key:"forgetDeps",value:function(){var t=this;this.deps&&((0,i.As)(this.deps).forEach((function(e){return e.delete(t)})),this.deps.clear(),u.push(this.deps),this.deps=null)}}])&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){var e=n.Xg.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),g(t)?E(e,t):S(e,t),e}function v(t,e){t.recomputing=!0;var r,n=t.normalizeResult;n&&1===t.value.length&&(r=p(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),n&&r&&!l(r,t.value))try{t.value[0]=n(t.value[0],r[0])}catch(i){}}catch(o){t.value[1]=o}t.recomputing=!1}function g(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function m(t){w(t,E)}function b(t){w(t,S)}function w(t,e){var r=t.parents.size;if(r)for(var n=(0,i.As)(t.parents),o=0;o<r;++o)e(n[o],t)}function E(t,e){f(t.childValues.has(e)),f(g(e));var r=!g(t);if(t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=u.pop()||new Set;t.dirtyChildren.add(e),r&&m(t)}function S(t,e){f(t.childValues.has(e)),f(!g(e));var r=t.childValues.get(e);0===r.length?t.childValues.set(e,p(e.value)):l(r,e.value)||t.setDirty(),C(t,e),g(t)||b(t)}function C(t,e){var r=t.dirtyChildren;r&&(r.delete(e),0===r.size&&(u.length<c&&u.push(r),t.dirtyChildren=null))}function _(t){t.childValues.size>0&&t.childValues.forEach((function(e,r){T(t,r)})),t.forgetDeps(),f(null===t.dirtyChildren)}function T(t,e){e.parents.delete(t),t.childValues.delete(e),C(t,e)}d.count=0},96848:function(t,e,r){"use strict";r.d(e,{As:function(){return i},UX:function(){return o},mQ:function(){return n}});var n=Object.prototype.hasOwnProperty,i=Array.from||function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e};function o(t){var e=t.unsubscribe;"function"===typeof e&&(t.unsubscribe=void 0,e())}},27045:function(t,e,r){"use strict";r.d(e,{DX:function(){return s.DX},LV:function(){return l},yN:function(){return u.y}});var n,i=r(14200),o=r(41432),a=r(49409),s=r(89202),u=r(19248);function c(){for(var t=n||(n=new i.b("function"===typeof WeakMap)),e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.lookupArray(r)}var f=new Set;function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),r=e.max,n=void 0===r?Math.pow(2,16):r,i=e.keyArgs,u=e.makeCacheKey,l=void 0===u?c:u,h=e.normalizeResult,p=e.subscribe,d=e.cache,y=void 0===d?o.C:d,v="function"===typeof y?new y(n,(function(t){return t.dispose()})):y,g=function(){var e=l.apply(null,i?i.apply(null,arguments):arguments);if(void 0===e)return t.apply(null,arguments);var r=v.get(e);r||(v.set(e,r=new a.H(t)),r.normalizeResult=h,r.subscribe=p,r.forget=function(){return v.delete(e)});var n=r.recompute(Array.prototype.slice.call(arguments));return v.set(e,r),f.add(v),s.Xg.hasValue()||(f.forEach((function(t){return t.clean()})),f.clear()),n};function m(t){var e=t&&v.get(t);e&&e.setDirty()}function b(t){var e=t&&v.get(t);if(e)return e.peek()}function w(t){return!!t&&v.delete(t)}return Object.defineProperty(g,"size",{get:function(){return v.size},configurable:!1,enumerable:!1}),Object.freeze(g.options={max:n,keyArgs:i,makeCacheKey:l,normalizeResult:h,subscribe:p,cache:v}),g.dirtyKey=m,g.dirty=function(){m(l.apply(null,arguments))},g.peekKey=b,g.peek=function(){return b(l.apply(null,arguments))},g.forgetKey=w,g.forget=function(){return w(l.apply(null,arguments))},g.makeCacheKey=l,g.getKey=i?function(){return l.apply(null,i.apply(null,arguments))}:l,Object.freeze(g)}},55891:function(t,e,r){"use strict";r.d(e,{V1:function(){return u},zU:function(){return s}});var n=r(80624),i="Invariant Violation",o=Object.setPrototypeOf,a=void 0===o?function(t,e){return t.__proto__=e,t}:o,s=function(t){function e(r){void 0===r&&(r=i);var n=t.call(this,"number"===typeof r?i+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=i,a(n,e.prototype),n}return(0,n.C6)(e,t),e}(Error);function u(t,e){if(!t)throw new s(e)}var c=["debug","log","warn","error","silent"],f=c.indexOf("log");function l(t){return function(){if(c.indexOf(t)>=f)return(console[t]||console.log).apply(console,arguments)}}!function(t){t.debug=l("debug"),t.log=l("log"),t.warn=l("warn"),t.error=l("error")}(u||(u={}))},80624:function(t,e,r){"use strict";r.d(e,{C6:function(){return i},Cl:function(){return o},Tt:function(){return a},YH:function(){return u},fX:function(){return c},sH:function(){return s}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function s(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function u(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function c(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError},89806:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}r.d(e,{c:function(){return T}});var u=function(){return"function"===typeof Symbol},c=function(t){return u()&&Boolean(Symbol[t])},f=function(t){return c(t)?Symbol[t]:"@@"+t};u()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var l=f("iterator"),h=f("observable"),p=f("species");function d(t,e){var r=t[e];if(null!=r){if("function"!==typeof r)throw new TypeError(r+" is not a function");return r}}function y(t){var e=t.constructor;return void 0!==e&&null===(e=e[p])&&(e=void 0),void 0!==e?e:T}function v(t){return t instanceof T}function g(t){g.log?g.log(t):setTimeout((function(){throw t}))}function m(t){Promise.resolve().then((function(){try{t()}catch(e){g(e)}}))}function b(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"===typeof e)e();else{var r=d(e,"unsubscribe");r&&r.call(e)}}catch(n){g(n)}}function w(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function E(t,e,r){t._state="running";var n=t._observer;try{var i=d(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(w(t),!i)throw r;i.call(n,r);break;case"complete":w(t),i&&i.call(n)}}catch(o){g(o)}"closed"===t._state?b(t):"running"===t._state&&(t._state="ready")}function S(t,e,r){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:r}],void m((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(E(t,e[r].type,e[r].value),"closed"!==t._state);++r);}}(t)}))):void E(t,e,r);t._queue.push({type:e,value:r})}}var C=function(){function t(t,e){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new _(this);try{this._cleanup=e.call(void 0,r)}catch(n){r.error(n)}"initializing"===this._state&&(this._state="ready")}return t.prototype.unsubscribe=function(){"closed"!==this._state&&(w(this),b(this))},s(t,[{key:"closed",get:function(){return"closed"===this._state}}]),t}(),_=function(){function t(t){this._subscription=t}var e=t.prototype;return e.next=function(t){S(this._subscription,"next",t)},e.error=function(t){S(this._subscription,"error",t)},e.complete=function(){S(this._subscription,"complete")},s(t,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),T=function(){function t(e){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}var e=t.prototype;return e.subscribe=function(t){return"object"===n(t)&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new C(t,this._subscriber)},e.forEach=function(t){var e=this;return new Promise((function(r,n){if("function"===typeof t)var i=e.subscribe({next:function(e){try{t(e,o)}catch(r){n(r),i.unsubscribe()}},error:n,complete:r});else n(new TypeError(t+" is not a function"));function o(){i.unsubscribe(),r()}}))},e.map=function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");return new(y(this))((function(r){return e.subscribe({next:function(e){try{e=t(e)}catch(n){return r.error(n)}r.next(e)},error:function(t){r.error(t)},complete:function(){r.complete()}})}))},e.filter=function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");return new(y(this))((function(r){return e.subscribe({next:function(e){try{if(!t(e))return}catch(n){return r.error(n)}r.next(e)},error:function(t){r.error(t)},complete:function(){r.complete()}})}))},e.reduce=function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var r=y(this),n=arguments.length>1,i=!1,o=arguments[1];return new r((function(r){return e.subscribe({next:function(e){var a=!i;if(i=!0,!a||n)try{o=t(o,e)}catch(s){return r.error(s)}else o=e},error:function(t){r.error(t)},complete:function(){if(!i&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(o),r.complete()}})}))},e.concat=function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=y(this);return new i((function(e){var n,o=0;return function t(a){n=a.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){o===r.length?(n=void 0,e.complete()):t(i.from(r[o++]))}})}(t),function(){n&&(n.unsubscribe(),n=void 0)}}))},e.flatMap=function(t){var e=this;if("function"!==typeof t)throw new TypeError(t+" is not a function");var r=y(this);return new r((function(n){var i=[],o=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(s){return n.error(s)}var o=r.from(e).subscribe({next:function(t){n.next(t)},error:function(t){n.error(t)},complete:function(){var t=i.indexOf(o);t>=0&&i.splice(t,1),a()}});i.push(o)},error:function(t){n.error(t)},complete:function(){a()}});function a(){o.closed&&0===i.length&&n.complete()}return function(){i.forEach((function(t){return t.unsubscribe()})),o.unsubscribe()}}))},e[h]=function(){return this},t.from=function(e){var r="function"===typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var n=d(e,h);if(n){var o=n.call(e);if(Object(o)!==o)throw new TypeError(o+" is not an object");return v(o)&&o.constructor===r?o:new r((function(t){return o.subscribe(t)}))}if(c("iterator")&&(n=d(e,l)))return new r((function(t){m((function(){if(!t.closed){for(var r,o=i(n.call(e));!(r=o()).done;){var a=r.value;if(t.next(a),t.closed)return}t.complete()}}))}));if(Array.isArray(e))return new r((function(t){m((function(){if(!t.closed){for(var r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")},t.of=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new("function"===typeof this?this:t)((function(t){m((function(){if(!t.closed){for(var e=0;e<r.length;++e)if(t.next(r[e]),t.closed)return;t.complete()}}))}))},s(t,null,[{key:p,get:function(){return this}}]),t}();u()&&Object.defineProperty(T,Symbol("extensions"),{value:{symbol:h,hostReportError:g},configurable:!0})}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=r,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,r){return i.f[r](t,e),e}),[]))},i.u=function(t){return"js/"+t+"-"+{1819:"e70420ed17fabf923c8d",9429:"54c0b60d528818d7b5e0"}[t]+".chunk.js"},i.miniCssF=function(t){},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="decidim-base:",i.l=function(r,n,o,a){if(t[r])t[r].push(n);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),f=0;f<c.length;f++){var l=c[f];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==e+o){s=l;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[n];var h=function(e,n){s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},i.p="/decidim-packs/",function(){var t={769:0};i.f.j=function(e,r){var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,i){n=t[e]=[r,i]}));r.push(n[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(function(r){if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var n,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(u)u(i)}for(e&&e(r);c<a.length;c++)o=a[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkdecidim_base=self.webpackChunkdecidim_base||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t=i(55619);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){r=function(){return n};var t,n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new N(n||[]);return a(o,"_invoke",{value:I(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function E(){}var S={};l(S,u,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==i&&o.call(_,u)&&(S=_);var T=E.prototype=b.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,r){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==e(l)&&o.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):r.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,e){function o(){return new r((function(r,i){n(t,e,r,i)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?g:y,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,f,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,f,"GeneratorFunction")),t.prototype=Object.create(T),t},n.awrap=function(t){return{__await:t}},k(A.prototype),l(A.prototype,c,(function(){return this})),n.AsyncIterator=A,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var a=new A(h(t,e,r,i),o);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),l(T,f,"Generator"),l(T,u,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},n}function n(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}}$(o(r().mark((function e(){var n,i,a,s,u,c,f,l,h,p,d,y,v,g,m,b,w,E,S,C,_,T;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=$("#election-log")).length){e.next=82;break}return i=n.find("#create-election-step"),a=n.find("#key-ceremony-step"),s=n.find("#vote-step"),u=n.find("#tally-step"),c=n.find("#results-step"),f=JSON.stringify(n.data("authorityPublicKey")),l=new t.Kj({apiEndpointUrl:n.data("apiEndpointUrl")}),h="".concat(n.data("authoritySlug"),".").concat(n.data("electionId")),p=new t.Nt({authorityPublicKeyJSON:f}),e.next=13,l.getElectionLogEntries({electionUniqueId:h,types:["create_election","start_key_ceremony","end_key_ceremony","start_vote","end_vote","start_tally","end_tally","publish_results"]});case 13:if(d=e.sent,y=function(){var t=o(r().mark((function t(e,n){var i,o,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.signedData){t.next=3;break}return n.find("[data-time]").html(""),t.abrupt("return");case 3:return t.next=5,p.parse(e);case 5:i=t.sent,o=new Date(1e3*i.decodedData.iat),a=o.toDateString(),s=o.toLocaleTimeString(),n.find("[data-time]").html("".concat(a," ").concat(s));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),v=function(t,e){var r=e.find("[data-chained-hash]");r.parent().attr("hidden",!1),r.html(t.chainedHash)},!(m=(g=function(t){return d.find((function(e){return e.messageId.includes(t)}))})("create_election"))){e.next=24;break}return i.find("[data-no-election-created]").attr("hidden",!0),i.find("[data-election-created]").attr("hidden",!1),e.next=23,y(m,i);case 23:v(m,i);case 24:if(b=g("start_key_ceremony"),w=g("end_key_ceremony"),!b||w){e.next=34;break}return a.find("[data-key-ceremony-not-started]").attr("hidden",!0),e.next=30,y(b,a);case 30:a.find("[data-key-ceremony-started]").attr("hidden",!1),v(b,a),e.next=41;break;case 34:if(!w){e.next=41;break}return a.find("[data-key-ceremony-not-started]").attr("hidden",!0),e.next=38,y(w,a);case 38:a.find("[data-key-ceremony-started]").attr("hidden",!0),a.find("[data-key-ceremony-completed]").attr("hidden",!1),v(w,a);case 41:if(E=g("start_vote"),S=g("end_vote"),!E||S){e.next=51;break}return s.find("[data-vote-not-started]").attr("hidden",!0),e.next=47,y(E,s);case 47:s.find("[data-vote-started]").attr("hidden",!1),v(E,s),e.next=58;break;case 51:if(!S){e.next=58;break}return s.find("[data-vote-not-started]").attr("hidden",!0),e.next=55,y(S,s);case 55:s.find("[data-vote-started]").attr("hidden",!0),s.find("[data-vote-completed]").attr("hidden",!1),v(S,s);case 58:if(C=g("start_tally"),_=g("end_tally"),!C||_){e.next=68;break}return u.find("[data-tally-not-started]").attr("hidden",!0),e.next=64,y(C,u);case 64:u.find("[data-tally-started]").attr("hidden",!1),v(C,u),e.next=75;break;case 68:if(!_){e.next=75;break}return u.find("[data-tally-not-started]").attr("hidden",!0),e.next=72,y(_,u);case 72:u.find("[data-tally-started]").attr("hidden",!0),u.find("[data-tally-completed]").attr("hidden",!1),v(_,u);case 75:if(!(T=g("publish_results"))){e.next=82;break}return c.find("[data-results-not-published]").attr("hidden",!0),e.next=80,y(T,c);case 80:c.find("[data-results-published]").attr("hidden",!1),v(T,c);case 82:case"end":return e.stop()}}),e)}))));i(47611);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}var l="key_ceremony.step_1",h="tally.share",p=function(){function t(e){var r=e.trusteeId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trusteeId=r,this.status=0,this.electionPublicKey=0,this.jointElectionKey=0,this.tallyCastMessage=null,this.quorum=0,this.trusteesKeys={},this.trusteesShares={}}var e,r,n;return e=t,(r=[{key:"processMessage",value:function(t,e){switch(this.status){case 0:"create_election"===t&&(this.quorum=e.scheme.quorum,this.status=1);break;case 1:if("start_key_ceremony"===t)return this.status=2,this.electionPublicKey=2*Math.floor(50+200*Math.random())+1,{messageType:l,content:JSON.stringify({election_public_key:this.electionPublicKey,owner_id:this.trusteeId})};break;case 2:if(t===l){var r=JSON.parse(e.content);this.trusteesKeys[r.owner_id]=r.election_public_key}else if("end_key_ceremony"===t){var n=JSON.parse(e.content);this.jointElectionKey=n.joint_election_key,this.status=3}break;case 3:"start_tally"===t&&(this.status=4);break;case 4:if("tally.cast"===t){this.tallyCastMessage=e.content;for(var i=JSON.parse(this.tallyCastMessage),o=0,a=Object.entries(i);o<a.length;o++)for(var u=s(a[o],2),c=u[0],f=u[1],p=0,d=Object.entries(f);p<d.length;p++){var y=s(d[p],2),v=y[0],g=y[1];i[c][v]=g%this.electionPublicKey*this.electionPublicKey}return{messageType:h,content:JSON.stringify({owner_id:this.trusteeId,contests:i})}}if(t===h){var m=JSON.parse(e.content);return this.trusteesShares[m.owner_id]=!0,this._compensate()}if("tally.missing_trustee"===t){if(!(e.trustee_id in this.trusteesShares))return this.trusteesShares[e.trustee_id]=!1,this._compensate()}else"end_tally"===t&&(this.status=5)}}},{key:"isFresh",value:function(){return 0===this.status}},{key:"backup",value:function(){return JSON.stringify(this)}},{key:"restore",value:function(t){if(!this.isFresh())return console.warn("Restore not needed"),!1;var e=JSON.parse(t);if(e.trusteeId!==this.trusteeId)return console.warn("Invalid trustee id"),!1;if(1===e.status)return console.warn("Invalid restored status"),!1;try{Object.assign(this,e)}catch(r){return console.error(r),!1}return!0}},{key:"isKeyCeremonyDone",value:function(){return this.status>=3}},{key:"isTallyDone",value:function(){return this.status>=5}},{key:"_compensate",value:function(){var t=Object.keys(this.trusteesKeys).length,e=Object.values(this.trusteesShares).filter((function(t){return!t})).length;if(e>0&&e<=t-this.quorum&&Object.keys(this.trusteesShares).length===t){for(var r=JSON.parse(this.tallyCastMessage),n=0,i=Object.entries(r);n<i.length;n++)for(var o=s(i[n],2),a=o[0],u=o[1],c=0,f=Object.entries(u);c<f.length;c++){var l=s(f[c],2),h=l[0],p=l[1];r[a][h]=Math.pow(p%this.electionPublicKey,e)/Math.pow(this.electionPublicKey,t-e)}return{messageType:"tally.compensation",content:JSON.stringify({owner_id:this.trusteeId,contests:r})}}}}])&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:String(e)}var g=function(){function t(e){var r=e.trusteeId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trusteeId=r,this.wrapper=new p({trusteeId:r})}var e,r,n;return e=t,(r=[{key:"setup",value:function(){}},{key:"processMessage",value:function(t,e){return this.wrapper.processMessage(t,e)}},{key:"isFresh",value:function(){return this.wrapper.isFresh()}},{key:"backup",value:function(){return this.wrapper.backup()}},{key:"restore",value:function(t){return this.wrapper.restore(t)}},{key:"isKeyCeremonyDone",value:function(){return this.wrapper.isKeyCeremonyDone()}},{key:"isTallyDone",value:function(){return this.wrapper.isTallyDone()}}])&&y(e.prototype,r),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){b=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:I(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function w(){}function E(){}var S={};c(S,a,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==r&&n.call(_,a)&&(S=_);var T=E.prototype=g.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==m(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=B(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function B(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(m(e)+" is not iterable")}return w.prototype=E,i(T,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=c(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c(t,u,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},k(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(T),c(T,u,"Generator"),c(T,a,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function w(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){w(o,n,i,a,s,"next",t)}function s(t){w(o,n,i,a,s,"throw",t)}a(void 0)}))}}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C(n.key),n)}}function C(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:String(e)}function _(t,e,r){return e=k(e),function(t,e){if(e&&("object"===m(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,T()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(T=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var I=function(t){function e(t){var r,n=t.trusteeId,i=t.workerUrl;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=_(this,e)).trusteeId=n,r.worker=new Worker(i),r}var r,n,i,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),r=e,n=[{key:"setup",value:(a=E(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.processPythonCodeOnWorker("\n        from js import trustee_id\n        from bulletin_board.electionguard.trustee import Trustee\n        trustee = Trustee(trustee_id)\n      ",{trustee_id:this.trusteeId});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"processMessage",value:(o=E(b().mark((function t(e,r){var n,i,o,a;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.processPythonCodeOnWorker("\n      from js import message_type, decoded_data\n      import json\n      trustee.process_message(\n        message_type,\n        json.loads(decoded_data)\n      )\n    ",{message_type:e,decoded_data:JSON.stringify(r)});case 2:if(!((n=t.sent)&&n.length>0)){t.next=6;break}return i=n[0]instanceof Map?Object.fromEntries(n[0]):n[0],o=i.message_type,a=i.content,t.abrupt("return",{messageType:o,content:a});case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"isFresh",value:function(){return this.processPythonCodeOnWorker("\n      trustee.is_fresh()\n    ")}},{key:"backup",value:function(){return this.processPythonCodeOnWorker("\n      trustee.backup().hex()\n    ")}},{key:"restore",value:function(t){return this.processPythonCodeOnWorker("\n      from js import state\n      trustee = Trustee.restore(bytes.fromhex(state))\n      True\n    ",{state:t})}},{key:"isKeyCeremonyDone",value:function(){return this.processPythonCodeOnWorker("\n      trustee.is_key_ceremony_done()\n    ")}},{key:"isTallyDone",value:function(){return this.processPythonCodeOnWorker("\n      trustee.is_tally_done()\n    ")}}],n&&S(r.prototype,n),i&&S(r,i),Object.defineProperty(r,"prototype",{writable:!1}),e}(i(10259).d);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function x(){x=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:k(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(P([])));S&&S!==r&&n.call(S,a)&&(w=S);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==B(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=A(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(B(e)+" is not iterable")}return m.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(T.prototype),c(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function O(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function P(){P=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:k(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==r&&n.call(S,a)&&(w=S);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==N(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=A(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(N(e)+" is not iterable")}return m.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(T.prototype),c(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function L(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){L(o,n,i,a,s,"next",t)}function s(t){L(o,n,i,a,s,"throw",t)}a(void 0)}))}}function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function j(){j=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:k(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==r&&n.call(S,a)&&(w=S);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==F(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=A(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(F(e)+" is not iterable")}return m.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(T.prototype),c(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function D(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function U(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){D(o,n,i,a,s,"next",t)}function s(t){D(o,n,i,a,s,"throw",t)}a(void 0)}))}}function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:String(e)}$((function(){var e=$("#trustee-step"),r=e.data("currentStep");if(e.length&&"key_ceremony"===r){var n=e.find("#start"),i=e.find("#back"),o=function(t){return $("#".concat(t.replace(".","-")))},a={apiEndpointUrl:e.data("apiEndpointUrl")},s="".concat(e.data("authoritySlug"),".").concat(e.data("electionId")),u=JSON.stringify(e.data("authorityPublicKey")),c=e.data("schemeName"),f={uniqueId:e.data("trusteeSlug"),publicKeyJSON:JSON.stringify(e.data("trusteePublicKey"))},l=null,h=new t.r0(f.uniqueId,f.publicKeyJSON),p=null;if("dummy"===c)p=new g({trusteeId:f.uniqueId});else{if("electionguard"!==c)throw new Error("Voting scheme ".concat(c," not supported."));p=new I({trusteeId:f.uniqueId,workerUrl:"/assets/electionguard/webworker.js"})}var d=new t.lH({authorityPublicKeyJSON:u,trusteeUniqueId:f.uniqueId,trusteeIdentificationKeys:h,trusteeWrapperAdapter:p});h.present(function(){var r,u=(r=x().mark((function r(u){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!u){r.next=6;break}return r.next=3,d.setupElection({bulletinBoardClientParams:a,electionUniqueId:s,authorizationExpirationTimestamp:Math.ceil(Number(new Date)/1e3)+7200});case 3:return r.next=5,d.bindEvents({onBindRestoreButton:function(t){$("#restore-button-input").on("change",t)},onBindStartButton:function(t){n.on("click",t)},onBindBackupButton:function(t,e,r){var n=$("#download-election-keys");n.attr("href","data:text/plain;charset=utf-8,".concat(t)),n.attr("download",e),n.on("click",r)},onEvent:function(e){var r=t.$y.parse(e.message.messageId);if(e.type===t.wc){l&&l!==r.typeSubtype&&o(l).attr("data-step-status","completed"),l=r.typeSubtype;var n=o(l);"completed"!==n.data("step-status")&&n.attr("data-step-status","processing")}},onComplete:function(){$(".step_status").attr("data-step-status","completed"),n.attr("hidden",!0),i.attr("hidden",!1),$.ajax({method:"PATCH",url:e.data("updateElectionStatusUrl"),contentType:"application/json",data:JSON.stringify({status:"key_ceremony"}),headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}})},onStart:function(){n.prop("disabled",!0)},onRestore:function(){window.Decidim.currentDialogs["show-restore-modal"].close()},onTrusteeNeedsToBeRestored:function(){window.Decidim.currentDialogs["show-restore-modal"].open()},onBackupNeeded:function(){window.Decidim.currentDialogs["show-backup-modal"].open()},onBackupStarted:function(){window.Decidim.currentDialogs["show-backup-modal"].close()}});case 5:n.prop("disabled",!1);case 6:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){O(o,n,i,a,s,"next",t)}function s(t){O(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return u.apply(this,arguments)}}())}})),$((function(){var e=$("#trustee-step"),r=e.data("currentStep");if(e.length&&"tally_started"===r){var n=e.find("#start"),i=e.find("#back"),o=function(t){return $("#".concat(t.replace(".","-")))},a={apiEndpointUrl:e.data("apiEndpointUrl")},s="".concat(e.data("authoritySlug"),".").concat(e.data("electionId")),u=JSON.stringify(e.data("authorityPublicKey")),c=e.data("schemeName"),f={uniqueId:e.data("trusteeSlug"),publicKeyJSON:JSON.stringify(e.data("trusteePublicKey"))},l=new t.r0(f.uniqueId,f.publicKeyJSON),h=null,p=null;if("dummy"===c)p=new g({trusteeId:f.uniqueId});else{if("electionguard"!==c)throw new Error("Voting scheme ".concat(c," not supported."));p=new I({trusteeId:f.uniqueId,workerUrl:"/assets/electionguard/webworker.js"})}var d=new t.iO({authorityPublicKeyJSON:u,trusteeUniqueId:f.uniqueId,trusteeIdentificationKeys:l,trusteeWrapperAdapter:p}),y=function(){var r=R(P().mark((function r(){return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.setupElection({bulletinBoardClientParams:a,electionUniqueId:s,authorizationExpirationTimestamp:Math.ceil(Number(new Date)/1e3)+7200});case 2:return r.next=4,d.bindEvents({onEvent:function(e){var r=t.$y.parse(e.message.messageId);if(e.type===t.wc){if(h&&h!==r.typeSubtype)o(h).attr("data-step-status","completed");h=r.typeSubtype;var n=o(h);"completed"!==n.data("step-status")&&n.attr("data-step-status","processing")}},onBindStartButton:function(t){n.on("click",t)},onStart:function(){n.prop("disabled",!0)},onComplete:function(){$(".step_status").attr("data-step-status","completed"),n.attr("hidden",!0),i.attr("hidden",!1),$.ajax({method:"PATCH",url:e.data("updateElectionStatusUrl"),contentType:"application/json",data:JSON.stringify({status:"tally_started"}),headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}})},onTrusteeNeedsToBeRestored:function(){window.Decidim.currentDialogs["show-restore-modal"].open()},onBindRestoreButton:function(t){$("#restore-button-input").on("change",t)},onRestore:function(){window.Decidim.currentDialogs["show-restore-modal"].close()}});case 4:n.prop("disabled",!1);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();l.present(function(){var t=R(P().mark((function t(e){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,y();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})),$((function(){$(document).ready((function(){!function(){var e=$("#trustee_zone form"),r=$("#trustee_slug",e),n=$("#trustee_public_key",e);if(window.trusteeIdentificationKeys=new t.r0(r.val(),n.val()),window.trusteeIdentificationKeys.browserSupport){var i=$("#submit_identification_keys"),o=$("#generate_identification_keys"),a=$("#upload_identification_keys");$("button",o).on("click",(function(){window.trusteeIdentificationKeys.generate().then((function(){n.val(JSON.stringify(window.trusteeIdentificationKeys.publicKey)),i.attr("hidden",!1),o.attr("hidden",!0)})).catch((function(){alert(o.data("error"))}))})),$("button",i).click((function(){n.val(""),i.attr("hidden",!0)})),$("button",a).click((function(){window.trusteeIdentificationKeys.upload().then((function(){a.attr("hidden",!0)})).catch((function(t){alert(a.data(t))}))})),window.trusteeIdentificationKeys.present((function(t){a.attr("hidden",t)}))}else $("#not_supported_browser").attr("hidden",!1)}()}))})),$(U(j().mark((function e(){var r,n,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=$("#casting-vote-wrapper")).length){e.next=7;break}return n=new t.Kj({apiEndpointUrl:r.data("apiEndpointUrl")}),i=r.data("messageId"),e.next=6,n.waitForPendingMessageToBeProcessed(i);case 6:$("form.update_vote_status").trigger("submit");case 7:case"end":return e.stop()}}),e)}))));var q=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$voteWrapper=e,this.$currentStep="",this.$currentStepMaxSelection="",this.$answerCounter=0,this.voteCasted=!1,window.onbeforeunload=function(){return r.voteCasted?null:""}}var e,r,n;return e=t,(r=[{key:"init",value:function(){this.setCurrentStep(),this.toggleContinueButton(),$("[data-counter-selection]").text(this.$answerCounter),this.answerCounter(),this.disableCheckbox()}},{key:"setCurrentStep",value:function(){this.$currentStep=this.$voteWrapper.find('[id^="step"]:not([hidden])'),this.$confirmButton=this.$currentStep.find('[id^="next"]'),this.setSelections(),this.onSelectionChange(),this.updateWizardSteps(this.$currentStep.attr("id"))}},{key:"errored",value:function(){this.$currentStep.attr("hidden",!0),this.$currentStep=this.$voteWrapper.find("#failed").attr("hidden",!1)}},{key:"toggleContinueButton",value:function(){this.isQuestion(this.$currentStep.attr("id"))&&(this.checkAnswers()?this.$confirmButton.attr("disabled",!1):this.$confirmButton.attr("disabled",!0))}},{key:"checkAnswers",value:function(){var t=$("#".concat(this.$currentStep.attr("id")," .answer_input:checked")).length,e=$("#".concat(this.$currentStep.attr("id")," .nota_input:checked")).length;return(t>=1||e>0)&&t<=this.$currentStepMaxSelection}},{key:"answerCounter",value:function(){var t=$("#".concat(this.$currentStep.attr("id")," .answer_input:checked")).length;$("[data-counter-selection]").text(t)}},{key:"disableCheckbox",value:function(){var t=this;$("[data-disabled-by]").on("click",(function(t){($(t.target).attr("aria-disabled")||$(t.target).hasClass("is-disabled"))&&t.preventDefault()})),$("[data-disable-check]").on("change",(function(e){var r=$(e.target).attr("id"),n=e.target.checked;t.$currentStep.find("[data-disabled-by='".concat(r,"']")).each((function(t,e){var r=$(e).find("input[type=checkbox]");n?(r.prop("disabled",!0),r.prop("checked",!1),$(e).attr("aria-disabled",!0)):(r.prop("disabled",!1),$(e).removeAttr("aria-disabled"))}))}))}},{key:"setSelections",value:function(){this.$currentStepMaxSelection=this.$currentStep.find('[id^="question"]').data("max-selection")}},{key:"onSelectionChange",value:function(){var t=this;this.$currentStep.find('[id^="question"]').on("change",(function(){t.toggleContinueButton(),t.toggleConfirmAnswers(),t.answerCounter()}))}},{key:"updateWizardSteps",value:function(t){var e=document.getElementById("wizard-steps"),r=document.getElementById("heading");if(r){if("step-encrypting"===t)return void(r.hidden=!0);r.hidden=!1}if(e){var n=t;this.isQuestion(t)&&(n="step-election"),e.querySelectorAll("[data-step]").forEach((function(t){t.dataset.step===n?t.setAttribute("aria-current","step"):t.removeAttribute("aria-current")}))}}},{key:"isQuestion",value:function(t){return/[0-9]+$/.test(t)}},{key:"toggleConfirmAnswers",value:function(){$(".answer_input:checked").each((function(t,e){var r=$("#step-confirm").find("#".concat(e.value));$(r).attr("hidden",!1)})),$(".answer_input").not(":checked").each((function(t,e){var r=$("#step-confirm").find("#".concat(e.value));$(r).attr("hidden",!0)})),$(".nota_input:checked").each((function(t,e){var r=$("#step-confirm").find("#".concat(e.value));$(r).attr("hidden",!1)})),$(".nota_input").not(":checked").each((function(t,e){var r=$("#step-confirm").find("#".concat(e.value));$(r).attr("hidden",!0)}))}}])&&K(e.prototype,r),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function G(){G=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:k(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==r&&n.call(S,a)&&(w=S);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==z(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=A(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(z(e)+" is not iterable")}return m.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(T.prototype),c(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),c(C,u,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function H(t){return function(t){if(Array.isArray(t))return Q(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function Y(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){W(o,n,i,a,s,"next",t)}function s(t){W(o,n,i,a,s,"throw",t)}a(void 0)}))}}$(Y(G().mark((function t(){var e,r,n,o,a,s;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=$("#vote-wrapper")).length&&(r=function(){var t=Y(G().mark((function t(r){var i;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r(e),t.prev=1,t.next=4,i.bindEvents({onBindEncryptButton:function(t){$("[id='next-encrypting']").on("click",t)},onStart:function(){},onVoteEncryption:function(t){t(function(t){return t.serializeArray().reduce((function(t,e){var r=e.name,n=e.value;return t[r]||(t[r]=[]),t[r]=[].concat(H(t[r]),["".concat(r,"_").concat(n)]),t}),{})}(e.find(".answer_input")),o)},castOrAuditBallot:function(t){var r=t.encryptedData,i=t.encryptedDataHash;e.find("#step-encrypting").attr("hidden",!0),n.text(i),e.find("#step-ballot_decision").attr("hidden",!1),document.dispatchEvent(new Event("on:toggle"));var o=$("form.new_vote");$("#vote_encrypted_data",o).val(r),$("#vote_encrypted_data_hash",o).val(i)},onBindAuditBallotButton:function(t){$("#audit_ballot").on("click",t)},onBindCastBallotButton:function(t){$("#cast_ballot").on("click",t)},onAuditBallot:function(t,r){var n=JSON.stringify(t),i=document.createElement("a");e.find("#cast_ballot").attr("hidden",!0),e.find("#back").attr("hidden",!1),s.voteCasted=!0,i.setAttribute("href","data:text/plain;charset=utf-8,".concat(n)),i.setAttribute("download",r),document.body.appendChild(i),i.click(),document.body.removeChild(i)},onAuditComplete:function(){console.log("Audit completed")},onCastBallot:function(){s.voteCasted=!0,$("#cast_ballot").prop("disabled",!0)},onCastComplete:function(){console.log("Cast completed")},onInvalid:function(){console.log("Something went wrong.")}});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),s.errored();case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),n=e.find("#ballot-hash"),o=e.data("ballotStyleId"),a=e.data("previewMode"),(s=new q(e)).init(),$(document).on("on:toggle",(function(){return s.init()})),a?i.e(9429).then(i.bind(i,39429)).then((function(t){var e=t.default;return r(e)})):i.e(1819).then(i.bind(i,71819)).then((function(t){var e=t.default;return r(e)})));case 2:case"end":return t.stop()}}),t)})))),$((function(){var e=$("#verify-vote-wrapper");if(e.length){var r=e.find("[type=submit]"),n=e.find(".vote-identifier");i(),r.on("click",(function(r){r.preventDefault(),new t.Kj({apiEndpointUrl:e.data("apiEndpointUrl")}).getLogEntry({electionUniqueId:e.data("electionUniqueId"),contentHash:n.val()}).then((function(t){t?(s(),e.find("#verify-vote-success").attr("hidden",!1)):(a(),e.find("#verify-vote-error").attr("hidden",!1))}))})),$(document).on("on.zf.toggler",(function(t){i()}))}function i(){o(),n.on("keyup input",(function(t){o(),a(),s()}))}function o(){n.val().length>5?$(r).removeClass("disabled"):$(r).addClass("disabled")}function a(){e.find("#verify-vote-success").attr("hidden",!0)}function s(){e.find("#verify-vote-error").attr("hidden",!0)}})),i(23439)}()}();
//# sourceMappingURL=decidim_elections-e44e3f81c4f9eba6f999.js.map