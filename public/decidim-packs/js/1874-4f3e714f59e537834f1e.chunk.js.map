{"version":3,"file":"js/1874-4f3e714f59e537834f1e.chunk.js","mappings":"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","sources":["webpack://decidim-base/./node_modules/@graphiql/react/dist/forEachState.es.js","webpack://decidim-base/./node_modules/@graphiql/react/dist/hint.es2.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nfunction forEachState(stack, fn) {\n  const reverseStateStack = [];\n  let state = stack;\n  while (state === null || state === void 0 ? void 0 : state.kind) {\n    reverseStateStack.push(state);\n    state = state.prevState;\n  }\n  for (let i = reverseStateStack.length - 1; i >= 0; i--) {\n    fn(reverseStateStack[i]);\n  }\n}\n__name(forEachState, \"forEachState\");\nexport { forEachState as f };\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport { getNamedType, GraphQLInputObjectType, GraphQLEnumType, GraphQLBoolean, getNullableType, GraphQLList } from \"graphql\";\nimport { f as forEachState } from \"./forEachState.es.js\";\nimport \"./index.es.js\";\nimport \"react\";\nimport \"react-dom\";\nfunction hintList(cursor, token, list) {\n  const hints = filterAndSortList(list, normalizeText(token.string));\n  if (!hints) {\n    return;\n  }\n  const tokenStart = token.type !== null && /\"|\\w/.test(token.string[0]) ? token.start : token.end;\n  return {\n    list: hints,\n    from: { line: cursor.line, ch: tokenStart },\n    to: { line: cursor.line, ch: token.end }\n  };\n}\n__name(hintList, \"hintList\");\nfunction filterAndSortList(list, text) {\n  if (!text) {\n    return filterNonEmpty(list, (entry) => !entry.isDeprecated);\n  }\n  const byProximity = list.map((entry) => ({\n    proximity: getProximity(normalizeText(entry.text), text),\n    entry\n  }));\n  const conciseMatches = filterNonEmpty(filterNonEmpty(byProximity, (pair) => pair.proximity <= 2), (pair) => !pair.entry.isDeprecated);\n  const sortedMatches = conciseMatches.sort((a, b) => (a.entry.isDeprecated ? 1 : 0) - (b.entry.isDeprecated ? 1 : 0) || a.proximity - b.proximity || a.entry.text.length - b.entry.text.length);\n  return sortedMatches.map((pair) => pair.entry);\n}\n__name(filterAndSortList, \"filterAndSortList\");\nfunction filterNonEmpty(array, predicate) {\n  const filtered = array.filter(predicate);\n  return filtered.length === 0 ? array : filtered;\n}\n__name(filterNonEmpty, \"filterNonEmpty\");\nfunction normalizeText(text) {\n  return text.toLowerCase().replace(/\\W/g, \"\");\n}\n__name(normalizeText, \"normalizeText\");\nfunction getProximity(suggestion, text) {\n  let proximity = lexicalDistance(text, suggestion);\n  if (suggestion.length > text.length) {\n    proximity -= suggestion.length - text.length - 1;\n    proximity += suggestion.indexOf(text) === 0 ? 0 : 0.5;\n  }\n  return proximity;\n}\n__name(getProximity, \"getProximity\");\nfunction lexicalDistance(a, b) {\n  let i;\n  let j;\n  const d = [];\n  const aLength = a.length;\n  const bLength = b.length;\n  for (i = 0; i <= aLength; i++) {\n    d[i] = [i];\n  }\n  for (j = 1; j <= bLength; j++) {\n    d[0][j] = j;\n  }\n  for (i = 1; i <= aLength; i++) {\n    for (j = 1; j <= bLength; j++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n      }\n    }\n  }\n  return d[aLength][bLength];\n}\n__name(lexicalDistance, \"lexicalDistance\");\nCodeMirror.registerHelper(\"hint\", \"graphql-variables\", (editor, options) => {\n  const cur = editor.getCursor();\n  const token = editor.getTokenAt(cur);\n  const results = getVariablesHint(cur, token, options);\n  if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n    results.from = CodeMirror.Pos(results.from.line, results.from.ch);\n    results.to = CodeMirror.Pos(results.to.line, results.to.ch);\n    CodeMirror.signal(editor, \"hasCompletion\", editor, results, token);\n  }\n  return results;\n});\nfunction getVariablesHint(cur, token, options) {\n  const state = token.state.kind === \"Invalid\" ? token.state.prevState : token.state;\n  const kind = state.kind;\n  const step = state.step;\n  if (kind === \"Document\" && step === 0) {\n    return hintList(cur, token, [{ text: \"{\" }]);\n  }\n  const variableToType = options.variableToType;\n  if (!variableToType) {\n    return;\n  }\n  const typeInfo = getTypeInfo(variableToType, token.state);\n  if (kind === \"Document\" || kind === \"Variable\" && step === 0) {\n    const variableNames = Object.keys(variableToType);\n    return hintList(cur, token, variableNames.map((name) => ({\n      text: `\"${name}\": `,\n      type: variableToType[name]\n    })));\n  }\n  if (kind === \"ObjectValue\" || kind === \"ObjectField\" && step === 0) {\n    if (typeInfo.fields) {\n      const inputFields = Object.keys(typeInfo.fields).map((fieldName) => typeInfo.fields[fieldName]);\n      return hintList(cur, token, inputFields.map((field) => ({\n        text: `\"${field.name}\": `,\n        type: field.type,\n        description: field.description\n      })));\n    }\n  }\n  if (kind === \"StringValue\" || kind === \"NumberValue\" || kind === \"BooleanValue\" || kind === \"NullValue\" || kind === \"ListValue\" && step === 1 || kind === \"ObjectField\" && step === 2 || kind === \"Variable\" && step === 2) {\n    const namedInputType = typeInfo.type ? getNamedType(typeInfo.type) : void 0;\n    if (namedInputType instanceof GraphQLInputObjectType) {\n      return hintList(cur, token, [{ text: \"{\" }]);\n    } else if (namedInputType instanceof GraphQLEnumType) {\n      const values = namedInputType.getValues();\n      return hintList(cur, token, values.map((value) => ({\n        text: `\"${value.name}\"`,\n        type: namedInputType,\n        description: value.description\n      })));\n    } else if (namedInputType === GraphQLBoolean) {\n      return hintList(cur, token, [\n        { text: \"true\", type: GraphQLBoolean, description: \"Not false.\" },\n        { text: \"false\", type: GraphQLBoolean, description: \"Not true.\" }\n      ]);\n    }\n  }\n}\n__name(getVariablesHint, \"getVariablesHint\");\nfunction getTypeInfo(variableToType, tokenState) {\n  const info = {\n    type: null,\n    fields: null\n  };\n  forEachState(tokenState, (state) => {\n    if (state.kind === \"Variable\") {\n      info.type = variableToType[state.name];\n    } else if (state.kind === \"ListValue\") {\n      const nullableType = info.type ? getNullableType(info.type) : void 0;\n      info.type = nullableType instanceof GraphQLList ? nullableType.ofType : null;\n    } else if (state.kind === \"ObjectValue\") {\n      const objectType = info.type ? getNamedType(info.type) : void 0;\n      info.fields = objectType instanceof GraphQLInputObjectType ? objectType.getFields() : null;\n    } else if (state.kind === \"ObjectField\") {\n      const objectField = state.name && info.fields ? info.fields[state.name] : null;\n      info.type = objectField === null || objectField === void 0 ? void 0 : objectField.type;\n    }\n  });\n  return info;\n}\n__name(getTypeInfo, \"getTypeInfo\");\n"],"names":["forEachState","stack","fn","reverseStateStack","state","kind","push","prevState","i","length","__defProp","Object","defineProperty","value","configurable","__name","target","hintList","cursor","token","list","hints","filterAndSortList","normalizeText","string","tokenStart","type","test","start","end","from","line","ch","to","text","filterNonEmpty","map","entry","proximity","getProximity","pair","isDeprecated","sort","a","b","array","predicate","filtered","filter","toLowerCase","replace","suggestion","lexicalDistance","indexOf","j","d","aLength","bLength","cost","Math","min","getVariablesHint","cur","options","step","variableToType","typeInfo","getTypeInfo","keys","name","concat","fields","fieldName","field","description","namedInputType","getNamedType","GraphQLInputObjectType","GraphQLEnumType","getValues","GraphQLBoolean","tokenState","info","nullableType","getNullableType","GraphQLList","ofType","objectType","getFields","objectField","CodeMirror","registerHelper","editor","getCursor","getTokenAt","results","Pos","signal"],"sourceRoot":""}